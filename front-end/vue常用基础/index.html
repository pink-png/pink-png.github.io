<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="死肥宅" href="http://yoursite.com/rss.xml"><link rel="alternate" type="application/atom+xml" title="死肥宅" href="http://yoursite.com/atom.xml"><link rel="alternate" type="application/json" title="死肥宅" href="http://yoursite.com/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="Vue"><link rel="canonical" href="http://yoursite.com/front-end/vue%E5%B8%B8%E7%94%A8%E5%9F%BA%E7%A1%80/"><title>vue常用基础 - Vue - 前端开发 | Yume Shoka = 死肥宅 = 肥宅快乐水</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">vue常用基础</h1><div class="meta"><span class="item" title="创建时间：2021-06-25 16:43:00"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">发表于</span> <time itemprop="dateCreated datePublished" datetime="2021-06-25T16:43:00+08:00">2021-06-25</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="切换导航栏"><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Yume Shoka</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclhfehz7j20zk0m8u0x.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giph4wqtg4j20zk0m8x6p.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipewr8iypj20zk0m8b29.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gicljgocqbj20zk0m8e81.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1gipey84bjtj20zk0m8hdt.jpg"></li><li class="item" data-background-image="https://tva3.sinaimg.cn/large/6833939bly1giclize41wj20zk0m87gk.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">首页</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" itemprop="item" rel="index" title="分类于 前端开发"><span itemprop="name">前端开发</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/Vue/" itemprop="item" rel="index" title="分类于 Vue"><span itemprop="name">Vue</span></a><meta itemprop="position" content="2"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="http://yoursite.com/front-end/vue%E5%B8%B8%E7%94%A8%E5%9F%BA%E7%A1%80/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="Yn"><meta itemprop="description" content="肥宅快乐水, 双马尾の罪"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="死肥宅"></span><div class="body md" itemprop="articleBody"><p>vue 系列基础到原理.</p><h1 id="一vue基础"><a class="anchor" href="#一vue基础">#</a> 一：Vue 基础</h1><h2 id="1vue生命周期和生命周期钩子函数"><a class="anchor" href="#1vue生命周期和生命周期钩子函数">#</a> 1：vue 生命周期和生命周期钩子函数？</h2><p><strong>beforecreated</strong>：在实例初始化之后，el 和 data 并未初始化（这个时期，this 变量还不能使用，在 data 下的数据，和 methods 下的方法，watcher 中的事件都不能获得到；）<br><strong>created</strong>: 完成了 data 数据的初始化，el 没有（这个时候可以操作 vue 实例中的数据和各种方法，但是还不能对 &quot;dom&quot; 节点进行操作；）<br><strong>beforeMount</strong>：完成了 el 和 data 初始化这里的 el 是虚拟的 dom；<br><strong>mounted</strong> ：完成挂载，在这发起后端请求，拿回数据，配合路由钩子做一些事情（挂载完毕，这时 dom 节点被渲染到文档内，一些需要 dom 的操作在此时才能正常进行），定义定时器<br><strong>beforeUpdate</strong>：<strong>数据是新的，但是页面是旧的</strong><br><strong>update</strong>：数据和页面保持同步了，</p><p><strong>activited</strong>：keep-alive 专属，组件被激活时调用</p><p><strong>activited</strong>：keep-alive 专属，组件被销毁时调用</p><p><strong>beforeDestory</strong>： 你确认删除定时器吗？<br><strong>destoryed</strong> ：当前组件已被删除，(其实就是页面的退出)</p><p><strong>A、什么是 vue 生命周期？</strong><br>Vue 实例从创建到销毁的过程，就是生命周期。也就是从开始创建、初始化数据、编译模板、挂载 Dom→渲染、更新→渲染、卸载等一系列过程，我们称这是 Vue 的生命周期。<br><strong>B、vue 生命周期的作用是什么？</strong><br>它的生命周期有多个事件钩子，让我们在控制整个 Vue 实例的过程时更容易形成好的逻辑。<br><strong>C、vue 生命周期总共有几个阶段？</strong><br>它可以总共分为 8 个阶段：创建前 / 后，载入前 / 后，更新前 / 后，销毁前 / 销毁后<br><strong>D、第一次页面加载会触发哪几个钩子？</strong><br>第一次页面加载时会触发 beforeCreate, created, beforeMount, mounted 这几个钩子<br><strong>E、DOM 渲染在 哪个周期中就已经完成？</strong><br>DOM 渲染在 mounted 中就已经完成了。<br><strong>F、简单描述每个周期具体适合哪些场景？</strong></p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">1</span><span class="token punctuation">.</span>beforecreate<span class="token operator">:</span>可以在加个loading事件，在加载实例是触发</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">2</span><span class="token punctuation">.</span>created<span class="token operator">:</span>初始化完成时的事件写在这里，如在这结束loading事件，异步请求也适宜在这里调用</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">3</span><span class="token punctuation">.</span>mounted<span class="token operator">:</span>异步请求，启动定时器，绑定自定义事件，订阅消息</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">4</span><span class="token punctuation">.</span>updated<span class="token operator">:</span>如果对数据统一处理</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token number">5</span><span class="token punctuation">.</span>beforeDestroy<span class="token operator">:</span>清除定时器，解绑自定义事件，取消订阅<span class="token punctuation">,</span>一般不再这里在操作数据，即使操作了，页面也不会更新了</pre></td></tr></table></figure><h2 id="2v-show与v-if的区别"><a class="anchor" href="#2v-show与v-if的区别">#</a> 2：v-show 与 v-if 的区别</h2><p>v-show 是 css 切换，v-if 是完整的销毁和重新创建<br>使用频繁切换时用 v-show, 运行时较少改变时用 v-if<br>V-if=’false’v-if 是条件渲染，当 false 的时候不会渲染<br>使用 v-if 的时候，如果值为 false，那么页面将不会有这个 html 标签生成<br>v-show 则是不管值是为 true 还是 false，html 元素都会存在，只是 css 中的 display 显示或隐藏<br>v-show 仅仅控制元素的显示方式，将 display 属性在 block 和 none 来回切换；而 v-if 会控制这个 DOM 节点的存在与否。当我们需要经常切换某个元素的显示 / 隐藏时，使用 v-show 会更加节省性能上的开销；当只需要一次显示或隐藏时，使用 v-if 更加合理。</p><h2 id="3开发中常用的指令有哪些"><a class="anchor" href="#3开发中常用的指令有哪些">#</a> 3：开发中常用的指令有哪些？</h2><p>v-model: 一般用在表达输入，很轻松的实现表单控件和数据的双向绑定</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>v<span class="token operator">-</span>html：更新元素的innerHTML</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">&lt;</span>p v<span class="token operator">-</span>html<span class="token operator">=</span><span class="token string">"msg"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">var</span> vm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>            <span class="token literal-property property">el</span> <span class="token operator">:</span> <span class="token string">"#app"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="7"></td><td><pre>            <span class="token literal-property property">data</span> <span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>                <span class="token literal-property property">msg</span> <span class="token operator">:</span> <span class="token string">"&lt;h1>这是一个h1元素内容&lt;/h1>"</span></pre></td></tr><tr><td data-num="9"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><p>v-show 与 v-if：条件渲染，注意二者区别<br>v-on:click: 可以简写为 @click,@绑定一个事件。如果事件触发了，就可以指定事件的处理函数<br>v-for：基于源数据多次渲染元素或模板<br>v-bind: 当表达式的值改变时，将其产生的连带影响，响应式地作用于 DOM 语法<br>v-bind:title=”msg” 简写： :title=&quot;msg&quot;</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>v<span class="token operator">-</span>clock解决页面闪烁问题</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>如果网速慢，而该标签内容是变量没有请求响应回来的时候，页面上先不显示该标签（vue给该标签加了css样式），当响应回来的时候改标签默认将css样式去除。此指令可以解决使用插值表达式页面闪烁问题</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>将该指令加在html标签中时，可以在该文件中加style属性为display：none，例子如下：</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"#app"</span> v<span class="token operator">-</span>cloak<span class="token operator">></span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token operator">&lt;</span>p<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>swig￼<span class="token number">0</span><span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">></span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">[</span>v<span class="token operator">-</span>cloak<span class="token punctuation">]</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token literal-property property">display</span><span class="token operator">:</span> none<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="4绑定class的数组用法"><a class="anchor" href="#4绑定class的数组用法">#</a> 4：绑定 class 的数组用法</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">1.</span>对象方法v<span class="token operator">-</span>bind<span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span>"<span class="token punctuation">&#123;</span><span class="token string-property property">'orange'</span><span class="token operator">:</span>isRipe<span class="token punctuation">,</span> <span class="token string-property property">'green'</span><span class="token operator">:</span>isNotRipe<span class="token punctuation">&#125;</span>”</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"tindex == index ? 'aaa':'bbb'"</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token number">2.</span>数组方法v<span class="token operator">-</span>bind<span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"[class1,class2]"</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token number">3.</span>行内v<span class="token operator">-</span>bind<span class="token operator">:</span>style<span class="token operator">=</span>"<span class="token punctuation">&#123;</span><span class="token literal-property property">color</span><span class="token operator">:</span>color<span class="token punctuation">,</span><span class="token literal-property property">fontSize</span><span class="token operator">:</span>fontSize<span class="token operator">+</span><span class="token string">'px'</span><span class="token punctuation">&#125;</span>”</pre></td></tr></table></figure><h2 id="5计算属性和methods"><a class="anchor" href="#5计算属性和methods">#</a> 5：计算属性和 methods</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token literal-property property">computed</span><span class="token operator">:</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token literal-property property">fullName</span><span class="token operator">:</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token comment">//get 有什么作用？当有人读取实例 (data) 上的数据时候，get 就会被调用，返回值可以是 data 上的值</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token comment">//get 什么时候调用？1. 初次读取时，2. 所依赖的数据发生变化的时候</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span>  <span class="token comment">//fullName 被读取时调用</span></pre></td></tr><tr><td data-num="6"></td><td><pre>            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName</pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token comment">//set 什么时候调用？当 fullName 被修改时</span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">&#123;</span>	<span class="token comment">//fullName 被修改时调用 </span></pre></td></tr><tr><td data-num="10"></td><td><pre>            	<span class="token comment">// 非必须写</span></pre></td></tr><tr><td data-num="11"></td><td><pre>            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'修改fullName后的值'</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span>	</pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token comment">// 简写方式</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token function">fullNamejianxie</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>firstName  <span class="token operator">+</span> <span class="token string">'jianxie'</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token number">1.</span><span class="token literal-property property">定义</span><span class="token operator">:</span>要用的属性存在，要通过已有的属性计算而来</pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token number">2.</span>计算属性的底层借助Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法提供gettter<span class="token operator">/</span>setter</pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token number">3</span><span class="token punctuation">.</span>get函数什么时候调用<span class="token operator">?</span></pre></td></tr><tr><td data-num="23"></td><td><pre>     <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">初次读取时</span></pre></td></tr><tr><td data-num="24"></td><td><pre>	 <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>所依赖的数据发生变化的时</pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token number">4.</span><span class="token literal-property property">优势</span><span class="token operator">:</span><span class="token function">与methods实现相比，内部有缓存机制</span><span class="token punctuation">(</span>复用<span class="token punctuation">)</span><span class="token punctuation">,</span>效率更高<span class="token punctuation">,</span>调试方便</pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token number">5.</span><span class="token literal-property property">备注</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="27"></td><td><pre>	 <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">计算属性最终会出现在vm</span><span class="token punctuation">(</span>实例<span class="token punctuation">)</span><span class="token function">上，直接读取即可</span></pre></td></tr><tr><td data-num="28"></td><td><pre>	 <span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>如果计算属性被修改，那必须写<span class="token keyword">set</span>去响应数据，且<span class="token keyword">set</span>中要引起计算时依赖的数据发送变化</pre></td></tr></table></figure><h2 id="6computed计算属性和watch监听的对比"><a class="anchor" href="#6computed计算属性和watch监听的对比">#</a> 6：computed (计算属性) 和 watch (监听) 的对比</h2><p><strong>computed</strong></p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>computed是计算属性，也就是计算值，它更多用于计算值的场景</pre></td></tr><tr><td data-num="2"></td><td><pre>computed具有缓存性，computed的值在getter执行后是会缓存的，只有在它依赖的属性值改变之后，下一次获取computed的值时重新调用对应的getter来计算</pre></td></tr><tr><td data-num="3"></td><td><pre>computed适用于计算比较消耗性能的计算场景</pre></td></tr></table></figure><p><strong>watch</strong></p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>template<span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"container"</span><span class="token operator">></span></pre></td></tr><tr><td data-num="3"></td><td><pre>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token number">1.</span>监听实例上的基础数据类型 <span class="token operator">--</span><span class="token operator">></span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"isHot = !isHot"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>swig￼<span class="token number">1</span><span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token operator">&lt;</span>hr<span class="token operator">></span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token number">2.</span>监听引用类型的数据 <span class="token operator">--</span><span class="token operator">></span></pre></td></tr><tr><td data-num="9"></td><td><pre>        <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"obj.age++"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>swig￼<span class="token number">2</span><span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span></pre></td></tr><tr><td data-num="10"></td><td><pre>        </pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token operator">&lt;</span>hr<span class="token operator">></span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> <span class="token number">3.</span>修改对象类型的数据变成字符串 <span class="token operator">--</span><span class="token operator">></span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"obj = '变成其他数据类型了'"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>swig￼<span class="token number">3</span><span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token operator">&lt;</span>script<span class="token operator">></span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'index'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="20"></td><td><pre>        <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>            <span class="token keyword">return</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>                <span class="token literal-property property">isHot</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="23"></td><td><pre>                <span class="token literal-property property">obj</span> <span class="token operator">:</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>                    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'js'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="25"></td><td><pre>                    <span class="token literal-property property">age</span> <span class="token operator">:</span> <span class="token number">18</span></pre></td></tr><tr><td data-num="26"></td><td><pre>                <span class="token punctuation">&#125;</span>   </pre></td></tr><tr><td data-num="27"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="29"></td><td><pre>        <span class="token literal-property property">watch</span><span class="token operator">:</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="30"></td><td><pre>            <span class="token literal-property property">isHot</span><span class="token operator">:</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>                <span class="token literal-property property">immediate</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 初始化的时候，让 handler 调用一下</span></pre></td></tr><tr><td data-num="32"></td><td><pre>                <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span>oldValue</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">//handle 什么时候调用？isHot 发送变化时候</span></pre></td></tr><tr><td data-num="33"></td><td><pre>                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'isHot被修改了'</span><span class="token punctuation">,</span>newValue<span class="token punctuation">,</span>oldValue<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="34"></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="36"></td><td><pre>            <span class="token comment">// 'obj.age' :&#123; </span></pre></td></tr><tr><td data-num="37"></td><td><pre>            <span class="token comment">//      handler(newValue,oldValue)&#123; </span></pre></td></tr><tr><td data-num="38"></td><td><pre>            <span class="token comment">//         console.log ('age 被修改了 ',newValue,oldValue)</span></pre></td></tr><tr><td data-num="39"></td><td><pre>            <span class="token comment">//     &#125;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>            <span class="token comment">//      // 监视多级结构中某个属性的变化 (不建议这么写，如果有很多个值呢？)</span></pre></td></tr><tr><td data-num="41"></td><td><pre>            <span class="token comment">// &#125;,</span></pre></td></tr><tr><td data-num="42"></td><td><pre>            <span class="token comment">// obj:&#123;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>            <span class="token comment">//     // 这么写即使是 age 的值发送改变，也不会有任何操作。</span></pre></td></tr><tr><td data-num="44"></td><td><pre>            <span class="token comment">//     // 因为此时监视的是 obj 下的整个对象，除非对象变成其他类型的数据才会触发</span></pre></td></tr><tr><td data-num="45"></td><td><pre>            <span class="token comment">//     handler(newValue,oldValue)&#123; </span></pre></td></tr><tr><td data-num="46"></td><td><pre>            <span class="token comment">//         console.log ('obj 被修改了 ',newValue,oldValue)</span></pre></td></tr><tr><td data-num="47"></td><td><pre>            <span class="token comment">//     &#125;</span></pre></td></tr><tr><td data-num="48"></td><td><pre>            <span class="token comment">// &#125;,</span></pre></td></tr><tr><td data-num="49"></td><td><pre>            <span class="token literal-property property">obj</span><span class="token operator">:</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="50"></td><td><pre>                <span class="token comment">// 深度监视 </span></pre></td></tr><tr><td data-num="51"></td><td><pre>                <span class="token comment">// 不管是 obj 的数据类型变了，还是里面的值变了</span></pre></td></tr><tr><td data-num="52"></td><td><pre>                <span class="token literal-property property">deep</span> <span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="53"></td><td><pre>                <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span>oldValue</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="54"></td><td><pre>                      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'obj被修改了'</span><span class="token punctuation">,</span>newValue<span class="token punctuation">,</span>oldValue<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="55"></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="56"></td><td><pre>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="57"></td><td><pre>            <span class="token comment">// 简写方式 =></span></pre></td></tr><tr><td data-num="58"></td><td><pre>            <span class="token comment">// 什么时候的时候才能简写？只需要用到 handler 的时候</span></pre></td></tr><tr><td data-num="59"></td><td><pre>            <span class="token function">isHot</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span>oldValue</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'isHot被修改了'</span><span class="token punctuation">,</span>newValue<span class="token punctuation">,</span>oldValue<span class="token punctuation">)</span>  </pre></td></tr><tr><td data-num="61"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="62"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="63"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="64"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></pre></td></tr><tr><td data-num="65"></td><td><pre><span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">"less"</span><span class="token operator">></span></pre></td></tr><tr><td data-num="66"></td><td><pre>        <span class="token punctuation">.</span>container<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="67"></td><td><pre>            <span class="token literal-property property">width</span><span class="token operator">:</span> 100VW<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="68"></td><td><pre>            <span class="token literal-property property">height</span><span class="token operator">:</span> 100VH<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="69"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="70"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span></pre></td></tr><tr><td data-num="71"></td><td><pre></pre></td></tr><tr><td data-num="72"></td><td><pre></pre></td></tr><tr><td data-num="73"></td><td><pre><span class="token number">1</span><span class="token punctuation">.</span>watch可以监听异步任务<span class="token punctuation">,</span>计算属性无法开启异步任务</pre></td></tr><tr><td data-num="74"></td><td><pre><span class="token operator">&lt;</span>template<span class="token operator">></span></pre></td></tr><tr><td data-num="75"></td><td><pre>  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"container"</span><span class="token operator">></span></pre></td></tr><tr><td data-num="76"></td><td><pre>    <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"obj = '变成其他数据类型了'"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>swig￼<span class="token number">4</span><span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span></pre></td></tr><tr><td data-num="77"></td><td><pre>    <span class="token operator">&lt;</span>div<span class="token operator">></span></pre></td></tr><tr><td data-num="78"></td><td><pre>      <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>swig￼<span class="token number">5</span><span class="token operator">--</span><span class="token operator">></span></pre></td></tr><tr><td data-num="79"></td><td><pre>    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span></pre></td></tr><tr><td data-num="80"></td><td><pre>  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span></pre></td></tr><tr><td data-num="81"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span></pre></td></tr><tr><td data-num="82"></td><td><pre><span class="token operator">&lt;</span>script<span class="token operator">></span></pre></td></tr><tr><td data-num="83"></td><td><pre><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="84"></td><td><pre>  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"index"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="85"></td><td><pre>  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="86"></td><td><pre>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="87"></td><td><pre>      <span class="token literal-property property">ahhh</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="88"></td><td><pre>      <span class="token literal-property property">obj</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="89"></td><td><pre>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"js"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="90"></td><td><pre>        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="91"></td><td><pre>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="92"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="93"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="94"></td><td><pre>  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="95"></td><td><pre>    <span class="token literal-property property">obj</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="96"></td><td><pre>      <span class="token literal-property property">deep</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="97"></td><td><pre>      <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter">newValue<span class="token punctuation">,</span> oldValue</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="98"></td><td><pre>        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"obj被修改了"</span><span class="token punctuation">,</span> newValue<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="99"></td><td><pre>        <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>  </pre></td></tr><tr><td data-num="100"></td><td><pre>            <span class="token comment">// 这里注意要用箭头函数 (this 会一层一层往外找)，不能使用普通函数（this 执行 windows）</span></pre></td></tr><tr><td data-num="101"></td><td><pre>            <span class="token comment">// 开启异步任务</span></pre></td></tr><tr><td data-num="102"></td><td><pre>          console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"this"</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="103"></td><td><pre>          <span class="token keyword">this</span><span class="token punctuation">.</span>ahhh <span class="token operator">+=</span> <span class="token number">1</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="104"></td><td><pre>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="105"></td><td><pre>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="106"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="107"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="108"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="109"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></pre></td></tr><tr><td data-num="110"></td><td><pre><span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">"less"</span><span class="token operator">></span></pre></td></tr><tr><td data-num="111"></td><td><pre><span class="token punctuation">.</span>container <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="112"></td><td><pre>  <span class="token literal-property property">width</span><span class="token operator">:</span> 100vw<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="113"></td><td><pre>  <span class="token literal-property property">height</span><span class="token operator">:</span> 100vh<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="114"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="115"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span></pre></td></tr></table></figure><h2 id="7vue组件的scoped属性的作用"><a class="anchor" href="#7vue组件的scoped属性的作用">#</a> 7：vue 组件的 scoped 属性的作用</h2><p>在 style 标签上添加 scoped 属性，以表示它的样式作用于当下的模块，很好的实现了样式私有化的目的；<br>但是也得慎用：样式不易（可）修改，而很多时候，我们是需要对公共组件的样式做微调的；</p><p><strong>解决办法：</strong></p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>①：使用混合型的css样式：（混合使用全局跟本地的样式） <span class="token operator">&lt;</span>style<span class="token operator">></span> <span class="token comment">/* 全局样式 */</span> <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span><span class="token operator">&lt;</span>style scoped<span class="token operator">></span> <span class="token comment">/* 本地样式 */</span> <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre>②：深度作用选择器（<span class="token operator">>>></span>）如果你希望 scoped 样式中的一个选择器能够作用得“更深”，例如影响子组件，你可以使用 <span class="token operator">>>></span> 操作符：</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">&lt;</span>style scoped<span class="token operator">></span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token punctuation">.</span>a <span class="token operator">>>></span> <span class="token punctuation">.</span>b <span class="token punctuation">&#123;</span> <span class="token comment">/* ... */</span> <span class="token punctuation">&#125;</span> <span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span></pre></td></tr></table></figure><h2 id="8vue常用修饰符"><a class="anchor" href="#8vue常用修饰符">#</a> 8：vue 常用修饰符</h2><p><strong>修饰符分为：一般修饰符，事件修身符，按键、系统</strong></p><p><strong>①一般修饰符</strong><br>.lazy：v-model 在每次 input 事件触发后将输入框的值与数据进行同步 。你可以添加 lazy 修饰符，从而转变为使用 change 事件进行同步</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>input v<span class="token operator">-</span>model<span class="token punctuation">.</span>lazy<span class="token operator">=</span><span class="token string">"msg"</span> <span class="token operator">></span></pre></td></tr></table></figure><p><strong>.number</strong></p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>input v<span class="token operator">-</span>model<span class="token punctuation">.</span>number<span class="token operator">=</span><span class="token string">"age"</span> type<span class="token operator">=</span><span class="token string">"number"</span><span class="token operator">></span></pre></td></tr></table></figure><p><strong>.trim</strong></p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">1.</span>如果要自动过滤用户输入的首尾空白字符 <span class="token operator">&lt;</span>input v<span class="token operator">-</span>model<span class="token punctuation">.</span>trim<span class="token operator">=</span><span class="token string">'trim'</span><span class="token operator">></span></pre></td></tr></table></figure><p><strong>② 事件修饰符</strong></p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">1.</span> 阻止单击事件继续传播 </pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">&lt;</span>a v<span class="token operator">-</span>on<span class="token operator">:</span>click<span class="token punctuation">.</span>stop<span class="token operator">=</span><span class="token string">"doThis"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>  </pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">2.</span>提交事件不再重载页面</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token operator">&lt;</span>form v<span class="token operator">-</span>on<span class="token operator">:</span>submit<span class="token punctuation">.</span>prevent<span class="token operator">=</span><span class="token string">"onSubmit"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>form<span class="token operator">></span> </pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token number">3.</span><span class="token function">添加事件监听器时使用事件捕获模式</span><span class="token punctuation">(</span>即元素自身触发的事件先在此处处理，然后才交由内部元素进行处理<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token operator">&lt;</span>div v<span class="token operator">-</span>on<span class="token operator">:</span>click<span class="token punctuation">.</span>capture<span class="token operator">=</span><span class="token string">"doThis"</span><span class="token operator">></span><span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span>   </pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token number">4.</span>只当在 event<span class="token punctuation">.</span>target <span class="token function">是当前元素自身时触发处理函数</span><span class="token punctuation">(</span>即事件不是从内部元素触发的<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token operator">&lt;</span>div v<span class="token operator">-</span>on<span class="token operator">:</span>click<span class="token punctuation">.</span>self<span class="token operator">=</span><span class="token string">"doThat"</span><span class="token operator">></span><span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span> </pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token number">5.</span>点击事件将只会触发一次 </pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token operator">&lt;</span>a v<span class="token operator">-</span>on<span class="token operator">:</span>click<span class="token punctuation">.</span>once<span class="token operator">=</span><span class="token string">"doThis"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span>  </pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token number">6</span><span class="token punctuation">.</span>vue组件添加事件</pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token operator">&lt;</span>Tabber @click<span class="token punctuation">.</span>native<span class="token operator">=</span><span class="token string">"doThis"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>Tabbar<span class="token operator">></span> </pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token number">7.</span>修饰符可以串联</pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token operator">&lt;</span>a v<span class="token operator">-</span>on<span class="token operator">:</span>click<span class="token punctuation">.</span>stop<span class="token punctuation">.</span>prevent<span class="token operator">=</span><span class="token string">"doThat"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span></pre></td></tr></table></figure><p><strong>③按键修饰符</strong></p><p>全部的按键别名:</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">.</span>enter</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">.</span>tab</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">.</span><span class="token function">delete</span> <span class="token punctuation">(</span>捕获“删除”和“退格”键<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">.</span>esc</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">.</span>space</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">.</span>up</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">.</span>down</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">.</span>left</pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">.</span>right</pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token punctuation">.</span>ctrl</pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">.</span>alt</pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">.</span>shift</pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">.</span>meta</pre></td></tr></table></figure><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>input v<span class="token operator">-</span>on<span class="token operator">:</span>keyup<span class="token punctuation">.</span>enter<span class="token operator">=</span><span class="token string">"submit"</span><span class="token operator">></span> 或者 <span class="token operator">&lt;</span>input @keyup<span class="token punctuation">.</span>enter<span class="token operator">=</span><span class="token string">"submit"</span><span class="token operator">></span></pre></td></tr></table></figure><p><strong>④系统修饰键 （可以用如下修饰符来实现仅在按下相应按键时才触发鼠标或键盘事件的监听器）</strong></p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">.</span>ctrl</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token punctuation">.</span>alt</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">.</span>shift</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">.</span>meta</pre></td></tr></table></figure><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>input @keyup<span class="token punctuation">.</span>alt<span class="token punctuation">.</span><span class="token number">67</span><span class="token operator">=</span><span class="token string">"clear"</span><span class="token operator">></span> 或者 <span class="token operator">&lt;</span>div @click<span class="token punctuation">.</span>ctrl<span class="token operator">=</span><span class="token string">"doSomething"</span><span class="token operator">></span>Do something<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> Ctrl <span class="token operator">+</span> Click <span class="token operator">--</span><span class="token operator">></span></pre></td></tr></table></figure><h2 id="9v-on可以监听多个事件处理吗可以的"><a class="anchor" href="#9v-on可以监听多个事件处理吗可以的">#</a> 9：v-on 可以监听多个事件处理吗？（可以的）</h2><p>一个元素绑定多个事件的两种写法，一个事件绑定多个函数的两种写法，修饰符的使用。</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>a style<span class="token operator">=</span><span class="token string">"cursor:default"</span> v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">'&#123;click:DoSomething,mouseleave:MouseLeave&#125;'</span><span class="token operator">></span>doSomething<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">></span></pre></td></tr></table></figure><p>在 method 方法里面分别写两个事件；</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"a(),b()"</span><span class="token operator">></span>点我ab<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span></pre></td></tr></table></figure><h2 id="10vue事件中使用event对象"><a class="anchor" href="#10vue事件中使用event对象">#</a> 10：vue 事件中使用 event 对象</h2><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>template<span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token comment">// 不加括号的的时候，直接拿到 event 对象</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"btn"</span><span class="token operator">></span>点击<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>  </pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token function">btn</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'value'</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span>	</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">// 现在的需求是点击事件直接传值过来，但是也要 event 对象</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token operator">&lt;</span>template<span class="token operator">></span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token comment">// 加了括号</span></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"btn($event,1,2)"</span><span class="token operator">></span>点击<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span>  </pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token function">btn</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span><span class="token operator">...</span>a</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'value'</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span>  <span class="token comment">// [1,2]</span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="11nexttick"><a class="anchor" href="#11nexttick">#</a> 11：nextTick</h2><ol><li>语法： <code>this.$nextTick(回调函数)</code></li><li>作用：在下一次 DOM 更新结束后执行其指定的回调。</li><li>什么时候用：当改变数据后，要基于更新后的新 DOM 进行某些操作时，要在 nextTick 所指定的回调函数中执行。</li></ol><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">**</span>比如你想让一个dom元素显示<span class="token operator">**</span>，然后下一步去获取这个元素的offsetWidth，最后你获取到的会是<span class="token number">0</span>。</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">openSubmenu</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token keyword">this</span><span class="token punctuation">.</span>show <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token comment">// 获取不到宽度</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> </pre></td></tr><tr><td data-num="5"></td><td><pre>      <span class="token comment">// 这里才可以 let w = this.$refs.submenu.offsetWidth;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>   <span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="13vue组件间传递数据的方式"><a class="anchor" href="#13vue组件间传递数据的方式">#</a> 13：Vue 组件间传递数据的方式</h2><h3 id="1props配置项父传子-or-子传父"><a class="anchor" href="#1props配置项父传子-or-子传父">#</a> 1.props 配置项 (父传子 or 子传父)</h3><ol><li><p>功能：让组件接收外部传过来的数据</p></li><li><p>传递数据： <code>&lt;Demo name=&quot;xxx&quot;/&gt;</code></p></li><li><p>接收数据：</p><ol><li><p>第一种方式（只接收）： <code>props:['name']</code></p></li><li><p>第二种方式（限制类型）： <code>props:&#123;name:String&#125;</code></p></li><li><p>第三种方式（限制类型、限制必要性、指定默认值）：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token literal-property property">name</span><span class="token operator">:</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token literal-property property">type</span><span class="token operator">:</span>String<span class="token punctuation">,</span> <span class="token comment">// 类型</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token literal-property property">required</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 必要性</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token keyword">default</span><span class="token operator">:</span><span class="token string">'老王'</span> <span class="token comment">// 默认值</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li></ol><blockquote><p>备注：props 是只读的，Vue 底层会监测你对 props 的修改，如果进行了修改，就会发出警告，若业务需求确实需要修改，那么请复制 props 的内容到 data 中一份，然后去修改 data 中的数据。</p></blockquote></li></ol><h3 id="2组件的自定义事件子传父"><a class="anchor" href="#2组件的自定义事件子传父">#</a> 2. 组件的自定义事件 (子传父)</h3><ol><li><p>一种组件间通信的方式，适用于：&lt;strong style=&quot;color:red&quot;&gt; 子组件 ===&gt; 父组件 &lt;/strong&gt;</p></li><li><p>使用场景：A 是父组件，B 是子组件，B 想给 A 传数据，那么就要在 A 中给 B 绑定自定义事件（&lt;span style=&quot;color:red&quot;&gt; 事件的回调在 A 中 &lt;/span&gt;）。</p></li><li><p>绑定自定义事件：</p><ol><li><p>第一种方式，在父组件中： <code>&lt;Demo @dataarr=&quot;test&quot;/&gt;</code> 或 <code>&lt;Demo v-on:dataarr=&quot;test&quot;/&gt;</code></p></li><li><p>第二种方式，在父组件中：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>Demo ref<span class="token operator">=</span><span class="token string">"demo"</span><span class="token operator">/</span><span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token operator">...</span><span class="token operator">...</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>   <span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>xxx<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'dataarr'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>test<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li><li><p>若想让自定义事件只能触发一次，可以使用 <code>once</code> 修饰符，或 <code>$once</code> 方法。</p></li></ol></li><li><p>触发自定义事件： <code>this.$emit('dataarr',数据)</code></p></li><li><p>解绑自定义事件 <code>this.$off('dataarr')</code></p></li><li><p>组件上也可以绑定原生 DOM 事件，需要使用 <code>native</code> 修饰符。</p></li><li><p>注意：通过 <code>this.$refs.xxx.$on('dataarr',回调)</code> 绑定自定义事件时，回调 &lt;span style=&quot;color:red&quot;&gt; 要么配置在 methods 中 &lt;/span&gt;，&lt;span style=&quot;color:red&quot;&gt; 要么用箭头函数 &lt;/span&gt;，否则 this 指向会出问题！</p></li></ol><h3 id="3全局事件总线globaleventbus"><a class="anchor" href="#3全局事件总线globaleventbus">#</a> 3. 全局事件总线（GlobalEventBus）</h3><ol><li><p>一种组件间通信的方式，适用于 &lt;span style=&quot;color:red&quot;&gt; 任意组件间通信 &lt;/span&gt;。</p></li><li><p>安装全局事件总线：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token operator">...</span><span class="token operator">...</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token function">beforeCreate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>		<span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$bus <span class="token operator">=</span> <span class="token keyword">this</span> <span class="token comment">// 安装全局事件总线，$bus 就是当前应用的 vm</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token operator">...</span><span class="token operator">...</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure></li><li><p>使用事件总线：</p><ol><li><p>接收数据：A 组件想接收数据，则在 A 组件中给 $bus 绑定自定义事件，事件的 &lt;span style=&quot;color:red&quot;&gt; 回调留在 A 组件自身。&lt;/span&gt;</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">methods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token function">demo</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">...</span><span class="token operator">...</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token keyword">this</span><span class="token punctuation">.</span>$bus<span class="token punctuation">.</span><span class="token function">$on</span><span class="token punctuation">(</span><span class="token string">'xxxx'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>demo<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li><li><p>提供数据： <code>this.$bus.$emit('xxxx',数据)</code></p></li></ol></li><li><p>最好在 beforeDestroy 钩子中，用 $off 去解绑 &lt;span style=&quot;color:red&quot;&gt; 当前组件所用到的 &lt;/span &gt; 事件。</p></li></ol><h3 id="4消息订阅与发布pubsub"><a class="anchor" href="#4消息订阅与发布pubsub">#</a> 4. 消息订阅与发布（pubsub）</h3><ol><li><p>一种组件间通信的方式，适用于 &lt;span style=&quot;color:red&quot;&gt; 任意组件间通信 &lt;/span&gt;。</p></li><li><p>使用步骤：</p><ol><li><p>安装 pubsub： <code>npm i pubsub-js</code></p></li><li><p>引入: <code>import pubsub from 'pubsub-js'</code></p></li><li><p>接收数据：A 组件想接收数据，则在 A 组件中订阅消息，订阅的 &lt;span style=&quot;color:red&quot;&gt; 回调留在 A 组件自身。&lt;/span&gt;</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">methods</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token function">demo</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token operator">...</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">...</span><span class="token operator">...</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token keyword">this</span><span class="token punctuation">.</span>pid <span class="token operator">=</span> pubsub<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'xxx'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>demo<span class="token punctuation">)</span> <span class="token comment">// 订阅消息</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li><li><p>提供数据： <code>pubsub.publish('xxx',数据)</code></p></li><li><p>最好在 beforeDestroy 钩子中，用 <code>PubSub.unsubscribe(pid)</code> 去 &lt;span style=&quot;color:red&quot;&gt; 取消订阅。&lt;/span&gt;</p></li></ol></li></ol><h3 id="5prvide-inject"><a class="anchor" href="#5prvide-inject">#</a> 5：prvide &amp; inject</h3><h3 id="6整合"><a class="anchor" href="#6整合">#</a> 6：整合</h3><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>Vue 组件间通信只要指以下 <span class="token number">3</span> 类通信：父子组件通信、隔代组件通信、兄弟组件通信，下面我们分别介绍每种通信方式且会说明此种方法可适用于哪类组件间通信。</pre></td></tr><tr><td data-num="2"></td><td><pre>（<span class="token number">1</span>）props <span class="token operator">/</span> $emit 适用 父子组件通信</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>这种方法是 Vue 组件的基础，相信大部分同学耳闻能详，所以此处就不举例展开介绍。</pre></td></tr><tr><td data-num="5"></td><td><pre>（<span class="token number">2</span>）ref 与 $parent <span class="token operator">/</span> $children适用 父子组件通信</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>ref：如果在普通的 <span class="token constant">DOM</span> 元素上使用，引用指向的就是 <span class="token constant">DOM</span> 元素；如果用在子组件上，引用就指向组件实例</pre></td></tr><tr><td data-num="8"></td><td><pre>$parent <span class="token operator">/</span> $children：访问父 <span class="token operator">/</span> 子实例</pre></td></tr><tr><td data-num="9"></td><td><pre>（<span class="token number">3</span>）EventBus （$emit <span class="token operator">/</span> $on）适用于 父子、隔代、兄弟组件通信</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre>这种方法通过一个空的 Vue 实例作为中央事件总线（事件中心），用它来触发事件和监听事件，从而实现任何组件间的通信，包括父子、隔代、兄弟组件。</pre></td></tr><tr><td data-num="12"></td><td><pre>（<span class="token number">4</span>）$attrs<span class="token operator">/</span>$listeners适用于 隔代组件通信</pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre>$attrs：包含了父作用域中不被 prop <span class="token function">所识别</span> <span class="token punctuation">(</span>且获取<span class="token punctuation">)</span> <span class="token function">的特性绑定</span> <span class="token punctuation">(</span> <span class="token keyword">class</span> 和 style 除外 <span class="token punctuation">)</span>。当一个组件没有声明任何 prop <span class="token function">时，这里会包含所有父作用域的绑定</span> <span class="token punctuation">(</span> <span class="token keyword">class</span> 和 style 除外 <span class="token punctuation">)</span>，并且可以通过 v<span class="token operator">-</span>bind<span class="token operator">=</span><span class="token string">"$attrs"</span> 传入内部组件。通常配合 inheritAttrs 选项一起使用。</pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token function">$listeners：包含了父作用域中的</span> <span class="token punctuation">(</span>不含 <span class="token punctuation">.</span>native 修饰器的<span class="token punctuation">)</span> v<span class="token operator">-</span>on 事件监听器。它可以通过 v<span class="token operator">-</span>on<span class="token operator">=</span><span class="token string">"$listeners"</span> 传入内部组件</pre></td></tr><tr><td data-num="16"></td><td><pre>（<span class="token number">5</span>）provide <span class="token operator">/</span> inject适用于 隔代组件通信</pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>祖先组件中通过 provider 来提供变量，然后在子孙组件中通过 inject 来注入变量。provide <span class="token operator">/</span> inject <span class="token constant">API</span> 主要解决了跨级组件间的通信问题，不过它的使用场景，主要是子组件获取上级组件的状态，跨级组件间建立了一种主动提供与依赖注入的关系。</pre></td></tr><tr><td data-num="19"></td><td><pre>（<span class="token number">6</span>）Vuex适用于 父子、隔代、兄弟组件通信</pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>Vuex 是一个专为 Vue<span class="token punctuation">.</span>js 应用程序开发的状态管理模式。每一个 Vuex 应用的核心就是 store（仓库）。“store” <span class="token function">基本上就是一个容器，它包含着你的应用中大部分的状态</span> <span class="token punctuation">(</span> state <span class="token punctuation">)</span>。</pre></td></tr><tr><td data-num="22"></td><td><pre>Vuex 的状态存储是响应式的。当 Vue 组件从 store 中读取状态的时候，若 store 中的状态发生变化，那么相应的组件也会相应地得到高效更新。</pre></td></tr><tr><td data-num="23"></td><td><pre>改变 store <span class="token function">中的状态的唯一途径就是显式地提交</span> <span class="token punctuation">(</span>commit<span class="token punctuation">)</span> mutation。这样使得我们可以方便地跟踪每一个状态的变化。</pre></td></tr></table></figure><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 父组件需要拿到子组件的数据和实例</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token literal-property property">父组件调用子组件的方法</span> <span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>yeluosen<span class="token punctuation">.</span><span class="token function">childMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 子组件拿到父组件的实例 (可以处理父组件分数据和调用父组件的方法)</span></pre></td></tr><tr><td data-num="5"></td><td><pre> <span class="token keyword">this</span><span class="token punctuation">.</span>$parent</pre></td></tr></table></figure><h2 id="14vue更新响应式的缺陷和set的使用"><a class="anchor" href="#14vue更新响应式的缺陷和set的使用">#</a> 14：vue 更新响应式的缺陷和 $set 的使用</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>template<span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token operator">&lt;</span>div <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">"container"</span><span class="token operator">></span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token operator">&lt;</span>ul<span class="token operator">></span></pre></td></tr><tr><td data-num="4"></td><td><pre>      <span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"(item, index) in person"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"index"</span><span class="token operator">></span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>swig￼<span class="token number">6</span><span class="token operator">--</span><span class="token operator">></span></pre></td></tr><tr><td data-num="6"></td><td><pre>      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"addsex"</span><span class="token operator">></span>手动点击给对象添加属性<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token operator">&lt;</span>hr <span class="token operator">/</span><span class="token operator">></span></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token operator">&lt;</span>ul<span class="token operator">></span></pre></td></tr><tr><td data-num="13"></td><td><pre>      <span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">"(item, index) in hobby"</span> <span class="token operator">:</span>key<span class="token operator">=</span><span class="token string">"index"</span><span class="token operator">></span></pre></td></tr><tr><td data-num="14"></td><td><pre>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>swig￼<span class="token number">7</span><span class="token operator">--</span><span class="token operator">></span></pre></td></tr><tr><td data-num="15"></td><td><pre>      <span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">></span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">></span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">"addhobby"</span><span class="token operator">></span>手动点击给数组修改属性<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">></span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">></span></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token operator">&lt;</span>script<span class="token operator">></span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"index"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="24"></td><td><pre>  <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>      <span class="token literal-property property">person</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"jack"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="28"></td><td><pre>        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="29"></td><td><pre>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="30"></td><td><pre>      <span class="token literal-property property">hobby</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"抽烟"</span><span class="token punctuation">,</span> <span class="token string">"喝酒"</span><span class="token punctuation">,</span> <span class="token string">"烫头"</span><span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="31"></td><td><pre>      <span class="token literal-property property">persons</span><span class="token operator">:</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="32"></td><td><pre>        <span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"gsq"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">18</span> <span class="token punctuation">,</span><span class="token literal-property property">status</span> <span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="33"></td><td><pre>        <span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"gsq02"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">19</span><span class="token punctuation">,</span><span class="token literal-property property">status</span> <span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="34"></td><td><pre>        <span class="token punctuation">&#123;</span> <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"gsq03"</span><span class="token punctuation">,</span> <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span><span class="token literal-property property">status</span> <span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="35"></td><td><pre>      <span class="token punctuation">]</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="36"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="38"></td><td><pre>  <span class="token literal-property property">methods</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="39"></td><td><pre>    <span class="token function">addsex</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>      <span class="token comment">// 对象不能这么添加</span></pre></td></tr><tr><td data-num="41"></td><td><pre>      <span class="token comment">//this.person.sex = ' 男'</span></pre></td></tr><tr><td data-num="42"></td><td><pre></pre></td></tr><tr><td data-num="43"></td><td><pre>      <span class="token comment">// 正确写法</span></pre></td></tr><tr><td data-num="44"></td><td><pre>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>person<span class="token punctuation">,</span> <span class="token string">"sex"</span><span class="token punctuation">,</span> <span class="token string">"男"</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="45"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="46"></td><td><pre>    <span class="token function">addhobby</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>      <span class="token comment">// 必须使用响应式的数组方法可以更新 / 或者使用 this.$set</span></pre></td></tr><tr><td data-num="48"></td><td><pre>      <span class="token comment">// 哪些数组是相应式的？</span></pre></td></tr><tr><td data-num="49"></td><td><pre>      <span class="token comment">// push,pop,shift,unshift,splice,sort,reverse</span></pre></td></tr><tr><td data-num="50"></td><td><pre>        <span class="token comment">//this.hobby.splice (0,1,' 哈哈 ')</span></pre></td></tr><tr><td data-num="51"></td><td><pre></pre></td></tr><tr><td data-num="52"></td><td><pre>      <span class="token comment">// 或者使用</span></pre></td></tr><tr><td data-num="53"></td><td><pre>      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>hobby<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token string">'哈哈'</span><span class="token punctuation">)</span>  </pre></td></tr><tr><td data-num="54"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="55"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="56"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="57"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></pre></td></tr><tr><td data-num="58"></td><td><pre><span class="token operator">&lt;</span>style lang<span class="token operator">=</span><span class="token string">"less"</span><span class="token operator">></span></pre></td></tr><tr><td data-num="59"></td><td><pre><span class="token punctuation">.</span>container <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="60"></td><td><pre>  <span class="token literal-property property">width</span><span class="token operator">:</span> 100vw<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="61"></td><td><pre>  <span class="token literal-property property">height</span><span class="token operator">:</span> 100vh<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="62"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="63"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">/</span>style<span class="token operator">></span></pre></td></tr><tr><td data-num="64"></td><td><pre></pre></td></tr><tr><td data-num="65"></td><td><pre></pre></td></tr><tr><td data-num="66"></td><td><pre>Vue监视数据的原理：</pre></td></tr><tr><td data-num="67"></td><td><pre><span class="token number">1.</span> vue会监视data中所有层次的数据。</pre></td></tr><tr><td data-num="68"></td><td><pre></pre></td></tr><tr><td data-num="69"></td><td><pre><span class="token number">2.</span> 如何监测对象中的数据？</pre></td></tr><tr><td data-num="70"></td><td><pre>通过setter实现监视，且要在<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token function">时就传入要监测的数据。</span></pre></td></tr><tr><td data-num="71"></td><td><pre>	<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">对象中后追加的属性，Vue默认不做响应式处理</span></pre></td></tr><tr><td data-num="72"></td><td><pre>	<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>如需给后添加的属性做响应式，请使用如下<span class="token constant">API</span>：</pre></td></tr><tr><td data-num="73"></td><td><pre>		Vue<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>target，propertyName<span class="token operator">/</span>index，value<span class="token punctuation">)</span> 或 </pre></td></tr><tr><td data-num="74"></td><td><pre>		vm<span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span>target，propertyName<span class="token operator">/</span>index，value<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="75"></td><td><pre></pre></td></tr><tr><td data-num="76"></td><td><pre><span class="token number">3.</span> 如何监测数组中的数据？</pre></td></tr><tr><td data-num="77"></td><td><pre><span class="token function">通过包裹数组更新元素的方法实现，本质就是做了两件事：</span></pre></td></tr><tr><td data-num="78"></td><td><pre>	<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">调用原生对应的方法对数组进行更新。</span></pre></td></tr><tr><td data-num="79"></td><td><pre>	<span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>重新解析模板，进而更新页面。</pre></td></tr><tr><td data-num="80"></td><td><pre></pre></td></tr><tr><td data-num="81"></td><td><pre><span class="token number">4.</span>在Vue修改数组中的某个元素一定要用如下方法：</pre></td></tr><tr><td data-num="82"></td><td><pre>	<span class="token number">1.</span>使用这些<span class="token constant">API</span><span class="token operator">:</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、unshift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、splice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">、reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="83"></td><td><pre>	<span class="token number">2</span><span class="token punctuation">.</span>Vue<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 或 vm<span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="84"></td><td><pre></pre></td></tr><tr><td data-num="85"></td><td><pre>特别注意：Vue<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 和 vm<span class="token punctuation">.</span><span class="token function">$set</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 不能给vm 或 vm的根数据对象 添加属性！！！</pre></td></tr></table></figure><h2 id="15vue获取dom元素节点并操作元素的样式"><a class="anchor" href="#15vue获取dom元素节点并操作元素的样式">#</a> 15：Vue 获取 dom 元素节点并操作元素的样式</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>$refs 获取的是组件对象</pre></td></tr><tr><td data-num="2"></td><td><pre>$el 获取的是dom节点</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">1.</span><span class="token function">获取到元素节点</span><span class="token punctuation">(</span>这里通过<span class="token keyword">this</span><span class="token punctuation">.</span>$refs获取元素节点<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>xxxxx<span class="token punctuation">.</span>$el</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token number">2.</span>操作元素的样式</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">this</span><span class="token punctuation">.</span>$refs<span class="token punctuation">.</span>num1Underline<span class="token punctuation">.</span>$el<span class="token punctuation">.</span>style<span class="token punctuation">.</span>transform <span class="token operator">=</span> <span class="token string">'scaleX(1)'</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>这种方法需要注意的是$el 用于获取vue挂载的实例的dom对象，如果不添加$el则获取不到style的属性值，会打印 TypeError<span class="token operator">:</span> Cannot read property <span class="token string">'style'</span> <span class="token keyword">of</span> <span class="token keyword">undefined</span> 错误，这个错误大家一定都很熟悉，是类型错误，没有访问到dom元素</pre></td></tr></table></figure><h2 id="16forceupdate"><a class="anchor" href="#16forceupdate">#</a> 16：forceUpdate</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 数据更新后，组件没更新。使用这个方法强制刷新组件</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$forceUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr></table></figure><h2 id="17mixin混入"><a class="anchor" href="#17mixin混入">#</a> 17：mixin (混入)</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">1.</span> 功能：可以把多个组件共用的配置提取成一个混入对象</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">2.</span> 使用方式：</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>   第一步定义混合：</pre></td></tr></table></figure><p>{<br>data(){....},<br>methods:{....}<br>....<br>}</p><pre><code>
第二步使用混入：

​	全局混入：```Vue.mixin(xxx)```
​	局部混入：```mixins:['xxx']	```
</code></pre><h2 id="18插件"><a class="anchor" href="#18插件">#</a> 18：插件</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">1.</span> 功能：用于增强Vue</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">2.</span> 本质：包含install方法的一个对象，install的第一个参数是Vue，第二个以后的参数是插件使用者传递的数据。</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token number">3.</span> 定义插件：</pre></td></tr><tr><td data-num="6"></td><td><pre>   对象<span class="token punctuation">.</span><span class="token function-variable function">install</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">Vue<span class="token punctuation">,</span> options</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>       <span class="token comment">// 1. 添加全局过滤器</span></pre></td></tr><tr><td data-num="8"></td><td><pre>       Vue<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>   </pre></td></tr><tr><td data-num="10"></td><td><pre>       <span class="token comment">// 2. 添加全局指令</span></pre></td></tr><tr><td data-num="11"></td><td><pre>       Vue<span class="token punctuation">.</span><span class="token function">directive</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>   </pre></td></tr><tr><td data-num="13"></td><td><pre>       <span class="token comment">// 3. 配置全局混入 (合)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>       Vue<span class="token punctuation">.</span><span class="token function">mixin</span><span class="token punctuation">(</span><span class="token operator">...</span><span class="token punctuation">.</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre>   </pre></td></tr><tr><td data-num="16"></td><td><pre>       <span class="token comment">// 4. 添加实例方法</span></pre></td></tr><tr><td data-num="17"></td><td><pre>       <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">$myMethod</span> <span class="token operator">=</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token operator">...</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>       <span class="token class-name">Vue</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>$myProperty <span class="token operator">=</span> xxxx</pre></td></tr><tr><td data-num="19"></td><td><pre>   <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token number">4.</span> 使用插件：Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr></table></figure><h2 id="19插槽"><a class="anchor" href="#19插槽">#</a> 19：插槽</h2><ol><li><p>作用：让父组件可以向子组件指定位置插入 html 结构，也是一种组件间通信的方式，适用于 &lt;strong style=&quot;color:red&quot;&gt; 父组件 ===&gt; 子组件 &lt;/strong&gt; 。</p></li><li><p>分类：默认插槽、具名插槽、作用域插槽</p></li><li><p>使用方式：</p><ol><li><p>默认插槽：</p><pre><code class="language-vue">父组件中：
        &lt;Category&gt;
           &lt;div&gt;html结构1&lt;/div&gt;
        &lt;/Category&gt;
子组件中：
        &lt;template&gt;
            &lt;div&gt;
               &lt;!-- 定义插槽 --&gt;
               &lt;slot&gt;插槽默认内容...&lt;/slot&gt;
            &lt;/div&gt;
        &lt;/template&gt;
</code></pre></li><li><p>具名插槽：</p><pre><code class="language-vue">父组件中：
        &lt;Category&gt;
            &lt;template slot=&quot;center&quot;&gt;
              &lt;div&gt;html结构1&lt;/div&gt;
            &lt;/template&gt;

            &lt;template v-slot:footer&gt;
               &lt;div&gt;html结构2&lt;/div&gt;
            &lt;/template&gt;
        &lt;/Category&gt;
子组件中：
        &lt;template&gt;
            &lt;div&gt;
               &lt;!-- 定义插槽 --&gt;
               &lt;slot name=&quot;center&quot;&gt;插槽默认内容...&lt;/slot&gt;
               &lt;slot name=&quot;footer&quot;&gt;插槽默认内容...&lt;/slot&gt;
            &lt;/div&gt;
        &lt;/template&gt;
</code></pre></li><li><p>作用域插槽：</p><ol><li><p>理解：&lt;span style=&quot;color:red&quot;&gt; 数据在组件的自身，但根据数据生成的结构需要组件的使用者来决定。&lt;/span&gt;（games 数据在 Category 组件中，但使用数据所遍历出来的结构由 App 组件决定）</p></li><li><p>具体编码：</p><pre><code class="language-vue">父组件中：
		&lt;Category&gt;
			&lt;template scope=&quot;scopeData&quot;&gt;
				&lt;!-- 生成的是ul列表 --&gt;
				&lt;ul&gt;
					&lt;li v-for=&quot;g in scopeData.games&quot; :key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/li&gt;
				&lt;/ul&gt;
			&lt;/template&gt;
		&lt;/Category&gt;

		&lt;Category&gt;
			&lt;template slot-scope=&quot;scopeData&quot;&gt;
				&lt;!-- 生成的是h4标题 --&gt;
				&lt;h4 v-for=&quot;g in scopeData.games&quot; :key=&quot;g&quot;&gt;&#123;&#123;g&#125;&#125;&lt;/h4&gt;
			&lt;/template&gt;
		&lt;/Category&gt;
子组件中：
        &lt;template&gt;
            &lt;div&gt;
                &lt;slot :games=&quot;games&quot;&gt;&lt;/slot&gt;
            &lt;/div&gt;
        &lt;/template&gt;
		
        &lt;script&gt;
            export default &#123;
                name:'Category',
                props:['title'],
                //数据在子组件自身
                data() &#123;
                    return &#123;
                        games:['红色警戒','穿越火线','劲舞团','超级玛丽']
                    &#125;
                &#125;,
            &#125;
        &lt;/script&gt;
</code></pre></li></ol></li></ol></li></ol><h2 id="20-vue-生命周期执行顺序父子组件"><a class="anchor" href="#20-vue-生命周期执行顺序父子组件">#</a> 20: vue 生命周期执行顺序 (父子组件)</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">1.</span>加载渲染过程：</pre></td></tr><tr><td data-num="2"></td><td><pre>父beforecreate <span class="token operator">-</span><span class="token operator">></span> 父created <span class="token operator">-</span><span class="token operator">></span> 父beforemount <span class="token operator">-</span><span class="token operator">></span> 父mounted <span class="token operator">-</span><span class="token operator">></span> 子created <span class="token operator">-</span><span class="token operator">></span> 子beforemount</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">-</span><span class="token operator">></span>  子mounted <span class="token operator">-</span><span class="token operator">></span> 父mounted</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token number">2.</span>子组件更新过程：</pre></td></tr><tr><td data-num="6"></td><td><pre>父beforeUpdate <span class="token operator">-</span><span class="token operator">></span> 子beforeUpdate <span class="token operator">-</span><span class="token operator">></span> 子updated <span class="token operator">-</span><span class="token operator">></span> 父updated</pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token number">3.</span>父组件更新过程：</pre></td></tr><tr><td data-num="9"></td><td><pre>父beforeUpdate <span class="token operator">-</span><span class="token operator">></span> 父updated</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token number">4.</span>销毁过程：</pre></td></tr><tr><td data-num="12"></td><td><pre>父beforedestroy <span class="token operator">-</span><span class="token operator">></span> 子beforedestroy <span class="token operator">-</span><span class="token operator">></span> 子destroy  <span class="token operator">-</span><span class="token operator">></span> 父destroy </pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre>页面第一次加在会触发beforecreate，created，beforemount，mounted。</pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre> <span class="token literal-property property">拓展</span><span class="token operator">:</span>如果有缓存keep<span class="token operator">-</span>alive。那么还会触发actived钩子，退出时触发deactived。后续再进入只会触发actived钩子了。所以说频繁触发的函数放在active里面，执行一次的放在mounted里面。</pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token literal-property property">父子组件生命周期的触发顺序是</span><span class="token operator">:</span>参考洋葱模型。</pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre>先是父组件的生命周期beforecreate，created，beforemount，子组件beforecreate，created，beforemount，子组件的mounted，父组件的mounted。因为要再父组件渲染前把子组件的数据渲染到父组件里面，所以在父组件dom挂载前mounted渲染前，先加载子组件的生命周期。</pre></td></tr></table></figure><h2 id="21-谈谈你对-keep-alive-的了解"><a class="anchor" href="#21-谈谈你对-keep-alive-的了解">#</a> 21. 谈谈你对 keep-alive 的了解？</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>keep<span class="token operator">-</span>alive 是 Vue 内置的一个组件，可以使被包含的组件保留状态，避免重新渲染 ，其有以下特性：</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>一般结合路由和动态组件一起使用，用于缓存组件；</pre></td></tr><tr><td data-num="4"></td><td><pre>提供 include 和 exclude 属性，两者都支持字符串或正则表达式， include 表示只有名称匹配的组件会被缓存，exclude 表示任何名称匹配的组件都不会被缓存 ，其中 exclude 的优先级比 include 高；</pre></td></tr><tr><td data-num="5"></td><td><pre>对应两个钩子函数 activated 和 deactivated ，当组件被激活时，触发钩子函数 activated，当组件被移除时，触发钩子函数 deactivated。</pre></td></tr></table></figure><h1 id="二vue-router"><a class="anchor" href="#二vue-router">#</a> 二：Vue-Router</h1><h2 id="1基本使用"><a class="anchor" href="#1基本使用">#</a> 1. 基本使用</h2><ol><li><p>安装 vue-router，命令： <code>npm i vue-router</code></p></li><li><p>应用插件： <code>Vue.use(VueRouter)</code></p></li><li><p>编写 router 配置项:</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 引入 VueRouter</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 引入 Luyou 组件</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">import</span> About <span class="token keyword">from</span> <span class="token string">'../components/About'</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">import</span> Home <span class="token keyword">from</span> <span class="token string">'../components/Home'</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 创建 router 实例对象，去管理一组一组的路由规则</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token literal-property property">routes</span><span class="token operator">:</span><span class="token punctuation">[</span></pre></td></tr><tr><td data-num="10"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>			<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre>			<span class="token literal-property property">component</span><span class="token operator">:</span>About</pre></td></tr><tr><td data-num="13"></td><td><pre>		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>			<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="16"></td><td><pre>			<span class="token literal-property property">component</span><span class="token operator">:</span>Home</pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token comment">// 暴露 router</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token keyword">export</span> <span class="token keyword">default</span> router</pre></td></tr></table></figure></li><li><p>实现切换（active-class 可配置高亮样式）</p><pre><code class="language-vue">&lt;router-link active-class=&quot;active&quot; to=&quot;/about&quot;&gt;About&lt;/router-link&gt;
</code></pre></li><li><p>指定展示位置</p><pre><code class="language-vue">&lt;router-view&gt;&lt;/router-view&gt;
</code></pre></li></ol><h2 id="2几个注意点"><a class="anchor" href="#2几个注意点">#</a> 2. 几个注意点</h2><ol><li>路由组件通常存放在 <code>pages</code> 文件夹，一般组件通常存放在 <code>components</code> 文件夹。</li><li>通过切换，“隐藏” 了的路由组件，默认是被销毁掉的，需要的时候再去挂载。</li><li>每个组件都有自己的 <code>$route</code> 属性，里面存储着自己的路由信息。</li><li>整个应用只有一个 router，可以通过组件的 <code>$router</code> 属性获取到。</li></ol><h2 id="3多级路由多级路由"><a class="anchor" href="#3多级路由多级路由">#</a> 3. 多级路由（多级路由）</h2><ol><li><p>配置路由规则，使用 children 配置项：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token literal-property property">routes</span><span class="token operator">:</span><span class="token punctuation">[</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>		<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/about'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>		<span class="token literal-property property">component</span><span class="token operator">:</span>About<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="8"></td><td><pre>		<span class="token literal-property property">component</span><span class="token operator">:</span>Home<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>		<span class="token literal-property property">children</span><span class="token operator">:</span><span class="token punctuation">[</span> <span class="token comment">// 通过 children 配置子级路由</span></pre></td></tr><tr><td data-num="10"></td><td><pre>			<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>				<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'news'</span><span class="token punctuation">,</span> <span class="token comment">// 此处一定不要写：/news</span></pre></td></tr><tr><td data-num="12"></td><td><pre>				<span class="token literal-property property">component</span><span class="token operator">:</span>News</pre></td></tr><tr><td data-num="13"></td><td><pre>			<span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre>			<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>				<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'message'</span><span class="token punctuation">,</span><span class="token comment">// 此处一定不要写：/message</span></pre></td></tr><tr><td data-num="16"></td><td><pre>				<span class="token literal-property property">component</span><span class="token operator">:</span>Message</pre></td></tr><tr><td data-num="17"></td><td><pre>			<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>		<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">]</span></pre></td></tr></table></figure></li><li><p>跳转（要写完整路径）：</p><pre><code class="language-vue">&lt;router-link to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;
</code></pre></li></ol><h2 id="4路由的query参数"><a class="anchor" href="#4路由的query参数">#</a> 4. 路由的 query 参数</h2><ol><li><p>传递参数</p><pre><code class="language-vue">&lt;!-- 跳转并携带query参数，to的字符串写法 --&gt;
&lt;router-link :to=&quot;/home/message/detail?id=666&amp;title=你好&quot;&gt;跳转&lt;/router-link&gt;
				
&lt;!-- 跳转并携带query参数，to的对象写法 --&gt;
&lt;router-link 
	:to=&quot;&#123;
		path:'/home/message/detail',
		query:&#123;
		   id:666,
            title:'你好'
		&#125;
	&#125;&quot;
&gt;跳转&lt;/router-link&gt;
</code></pre></li><li><p>接收参数：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id</pre></td></tr><tr><td data-num="2"></td><td><pre>$route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>title</pre></td></tr></table></figure></li></ol><h2 id="5命名路由"><a class="anchor" href="#5命名路由">#</a> 5. 命名路由</h2><ol><li><p>作用：可以简化路由的跳转。</p></li><li><p>如何使用</p><ol><li><p>给路由命名：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/demo'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token literal-property property">component</span><span class="token operator">:</span>Demo<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token literal-property property">children</span><span class="token operator">:</span><span class="token punctuation">[</span></pre></td></tr><tr><td data-num="5"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>			<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'test'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="7"></td><td><pre>			<span class="token literal-property property">component</span><span class="token operator">:</span>Test<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="8"></td><td><pre>			<span class="token literal-property property">children</span><span class="token operator">:</span><span class="token punctuation">[</span></pre></td></tr><tr><td data-num="9"></td><td><pre>				<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>                    <span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'hello'</span> <span class="token comment">// 给路由命名</span></pre></td></tr><tr><td data-num="11"></td><td><pre>					<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'welcome'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre>					<span class="token literal-property property">component</span><span class="token operator">:</span>Hello<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="13"></td><td><pre>				<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>			<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="15"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li><li><p>简化跳转：</p><pre><code class="language-vue">&lt;!--简化前，需要写完整的路径 --&gt;
&lt;router-link to=&quot;/demo/test/welcome&quot;&gt;跳转&lt;/router-link&gt;

&lt;!--简化后，直接通过名字跳转 --&gt;
&lt;router-link :to=&quot;&#123;name:'hello'&#125;&quot;&gt;跳转&lt;/router-link&gt;

&lt;!--简化写法配合传递参数 --&gt;
&lt;router-link 
	:to=&quot;&#123;
		name:'hello',
		query:&#123;
		   id:666,
            title:'你好'
		&#125;
	&#125;&quot;
&gt;跳转&lt;/router-link&gt;
</code></pre></li></ol></li></ol><h2 id="6路由的params参数"><a class="anchor" href="#6路由的params参数">#</a> 6. 路由的 params 参数</h2><ol><li><p>配置路由，声明接收 params 参数</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'/home'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token literal-property property">component</span><span class="token operator">:</span>Home<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token literal-property property">children</span><span class="token operator">:</span><span class="token punctuation">[</span></pre></td></tr><tr><td data-num="5"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>			<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'news'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="7"></td><td><pre>			<span class="token literal-property property">component</span><span class="token operator">:</span>News</pre></td></tr><tr><td data-num="8"></td><td><pre>		<span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>		<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>			<span class="token literal-property property">component</span><span class="token operator">:</span>Message<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="11"></td><td><pre>			<span class="token literal-property property">children</span><span class="token operator">:</span><span class="token punctuation">[</span></pre></td></tr><tr><td data-num="12"></td><td><pre>				<span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>					<span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre>					<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'detail/:id/:title'</span><span class="token punctuation">,</span> <span class="token comment">// 使用占位符声明接收 params 参数</span></pre></td></tr><tr><td data-num="15"></td><td><pre>					<span class="token literal-property property">component</span><span class="token operator">:</span>Detail</pre></td></tr><tr><td data-num="16"></td><td><pre>				<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>			<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="18"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li><li><p>传递参数</p><pre><code class="language-vue">&lt;!-- 跳转并携带params参数，to的字符串写法 --&gt;
&lt;router-link :to=&quot;/home/message/detail/666/你好&quot;&gt;跳转&lt;/router-link&gt;
				
&lt;!-- 跳转并携带params参数，to的对象写法 --&gt;
&lt;router-link 
	:to=&quot;&#123;
		name:'xiangqing',
		params:&#123;
		   id:666,
            title:'你好'
		&#125;
	&#125;&quot;
&gt;跳转&lt;/router-link&gt;
</code></pre><blockquote><p>特别注意：路由携带 params 参数时，若使用 to 的对象写法，则不能使用 path 配置项，必须使用 name 配置！</p></blockquote></li><li><p>接收参数：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>id</pre></td></tr><tr><td data-num="2"></td><td><pre>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>title</pre></td></tr></table></figure></li></ol><h2 id="7路由的props配置"><a class="anchor" href="#7路由的props配置">#</a> 7. 路由的 props 配置</h2><p>​	作用：让路由组件更方便的收到参数</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token literal-property property">path</span><span class="token operator">:</span><span class="token string">'detail/:id'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token literal-property property">component</span><span class="token operator">:</span>Detail<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token comment">// 第一种写法：props 值为对象，该对象中所有的 key-value 的组合最终都会通过 props 传给 Detail 组件</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token comment">// props:&#123;a:900&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token comment">// 第二种写法：props 值为布尔值，布尔值为 true，则把路由收到的所有 params 参数通过 props 传给 Detail 组件</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token comment">// props:true</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	</pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token comment">// 第三种写法：props 值为函数，该函数返回的对象中每一组 key-value 都会通过 props 传给 Detail 组件</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token function">props</span><span class="token punctuation">(</span><span class="token parameter">route</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>		<span class="token keyword">return</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>			<span class="token literal-property property">id</span><span class="token operator">:</span>route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>id<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="16"></td><td><pre>			<span class="token literal-property property">title</span><span class="token operator">:</span>route<span class="token punctuation">.</span>query<span class="token punctuation">.</span>title</pre></td></tr><tr><td data-num="17"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="8router-link的replace属性"><a class="anchor" href="#8router-link的replace属性">#</a> 8. <code>&lt;router-link&gt;</code> 的 replace 属性</h2><ol><li>作用：控制路由跳转时操作浏览器历史记录的模式</li><li>浏览器的历史记录有两种写入方式：分别为 <code>push</code> 和 <code>replace</code> ， <code>push</code> 是追加历史记录， <code>replace</code> 是替换当前记录。路由跳转时候默认为 <code>push</code></li><li>如何开启 <code>replace</code> 模式： <code>&lt;router-link replace .......&gt;News&lt;/router-link&gt;</code></li></ol><h2 id="9编程式路由导航"><a class="anchor" href="#9编程式路由导航">#</a> 9. 编程式路由导航</h2><ol><li><p>作用：不借助 <code>&lt;router-link&gt;</code> 实现路由跳转，让路由跳转更加灵活</p></li><li><p>具体编码：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">//$router 的两个 API</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>		<span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>			<span class="token literal-property property">id</span><span class="token operator">:</span>xxx<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>			<span class="token literal-property property">title</span><span class="token operator">:</span>xxx</pre></td></tr><tr><td data-num="7"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token literal-property property">name</span><span class="token operator">:</span><span class="token string">'xiangqing'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		<span class="token literal-property property">params</span><span class="token operator">:</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>			<span class="token literal-property property">id</span><span class="token operator">:</span>xxx<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre>			<span class="token literal-property property">title</span><span class="token operator">:</span>xxx</pre></td></tr><tr><td data-num="15"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">forward</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 前进</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 后退</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 可前进也可后退</span></pre></td></tr></table></figure></li></ol><h2 id="10缓存路由组件"><a class="anchor" href="#10缓存路由组件">#</a> 10. 缓存路由组件</h2><ol><li><p>作用：让不展示的路由组件保持挂载，不被销毁。</p></li><li><p>具体编码：</p><pre><code class="language-vue">&lt;keep-alive include=&quot;News&quot;&gt; 
    &lt;router-view&gt;&lt;/router-view&gt;
&lt;/keep-alive&gt;
</code></pre></li></ol><h2 id="11两个新的生命周期钩子"><a class="anchor" href="#11两个新的生命周期钩子">#</a> 11. 两个新的生命周期钩子</h2><ol><li><p>作用：路由组件所独有的两个钩子，用于捕获路由组件的激活状态。</p></li><li><p>具体名字：</p><ol><li><code>activated</code> 路由组件被激活时触发。</li><li><code>deactivated</code> 路由组件失活时触发。</li></ol><p>keep-alive 是 Vue 内置的一个组件，可以使被包含的组件保留状态，或避免重新渲染。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>keep<span class="token operator">-</span>alive<span class="token operator">></span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token operator">&lt;</span>component<span class="token operator">></span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 该组件将被缓存！ <span class="token operator">--</span><span class="token operator">></span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token operator">&lt;</span><span class="token operator">/</span>component<span class="token operator">></span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">/</span>keep<span class="token operator">-</span>alive<span class="token operator">></span></pre></td></tr><tr><td data-num="6"></td><td><pre>如果只想 router<span class="token operator">-</span>view 里面某个组件被缓存</pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token literal-property property">component</span><span class="token operator">:</span> Home<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>      <span class="token literal-property property">keepAlive</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// 需要被缓存</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/:id'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'edit'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token literal-property property">component</span><span class="token operator">:</span> Edit<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token literal-property property">meta</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>      <span class="token literal-property property">keepAlive</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token comment">// 不需要被缓存</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="26"></td><td><pre><span class="token operator">&lt;</span>keep<span class="token operator">-</span>alive<span class="token operator">></span></pre></td></tr><tr><td data-num="27"></td><td><pre>    <span class="token operator">&lt;</span>router<span class="token operator">-</span>view v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"$route.meta.keepAlive"</span><span class="token operator">></span></pre></td></tr><tr><td data-num="28"></td><td><pre>        <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 这里是会被缓存的视图组件，比如 Home！ <span class="token operator">--</span><span class="token operator">></span></pre></td></tr><tr><td data-num="29"></td><td><pre>    <span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">></span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">/</span>keep<span class="token operator">-</span>alive<span class="token operator">></span></pre></td></tr><tr><td data-num="31"></td><td><pre> </pre></td></tr><tr><td data-num="32"></td><td><pre><span class="token operator">&lt;</span>router<span class="token operator">-</span>view v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span><span class="token string">"!$route.meta.keepAlive"</span><span class="token operator">></span></pre></td></tr><tr><td data-num="33"></td><td><pre>    <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 这里是不被缓存的视图组件，比如 Edit！ <span class="token operator">--</span><span class="token operator">></span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">></span></pre></td></tr></table></figure></li></ol><h2 id="12路由守卫"><a class="anchor" href="#12路由守卫">#</a> 12. 路由守卫</h2><ol><li><p>作用：对路由进行权限控制</p></li><li><p>分类：全局守卫、独享守卫、组件内守卫</p></li><li><p>全局守卫:</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 全局前置守卫：初始化时执行、每次路由切换前执行</span></pre></td></tr><tr><td data-num="2"></td><td><pre>router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span>from<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeEach'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span>from<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>isAuth<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">// 判断当前路由是否需要进行权限控制</span></pre></td></tr><tr><td data-num="5"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'school'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'atguigu'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">// 权限控制的具体规则</span></pre></td></tr><tr><td data-num="6"></td><td><pre>			<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 放行</span></pre></td></tr><tr><td data-num="7"></td><td><pre>		<span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>			<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'暂无权限查看'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>			<span class="token comment">// next(&#123;name:'guanyu'&#125;)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// 放行</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">// 全局后置守卫：初始化时执行、每次路由切换后执行</span></pre></td></tr><tr><td data-num="17"></td><td><pre>router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span><span class="token keyword">from</span></span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'afterEach'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span>from<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> </pre></td></tr><tr><td data-num="20"></td><td><pre>		document<span class="token punctuation">.</span>title <span class="token operator">=</span> to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title <span class="token comment">// 修改网页的 title</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>		document<span class="token punctuation">.</span>title <span class="token operator">=</span> <span class="token string">'vue_test'</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure></li><li><p>独享守卫:</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">beforeEnter</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span>from<span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'beforeEnter'</span><span class="token punctuation">,</span>to<span class="token punctuation">,</span>from<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token keyword">if</span><span class="token punctuation">(</span>to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>isAuth<span class="token punctuation">)</span><span class="token punctuation">&#123;</span> <span class="token comment">// 判断当前路由是否需要进行权限控制</span></pre></td></tr><tr><td data-num="4"></td><td><pre>		<span class="token keyword">if</span><span class="token punctuation">(</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'school'</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'atguigu'</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>			<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>		<span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>			<span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">'暂无权限查看'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre>			<span class="token comment">// next(&#123;name:'guanyu'&#125;)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>		<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token punctuation">&#125;</span><span class="token keyword">else</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>		<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li><li><p>组件内守卫：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 进入守卫：通过路由规则，进入该组件时被调用</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token function">beforeRouteEnter</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token comment">// 离开守卫：通过路由规则，离开该组件时被调用</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token function">beforeRouteLeave</span> <span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li></ol><h2 id="13vue-router实现路由懒加载-动态加载路由"><a class="anchor" href="#13vue-router实现路由懒加载-动态加载路由">#</a> 13.vue-router 实现路由懒加载（ 动态加载路由 ）</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> VueRouter <span class="token keyword">from</span> <span class="token string">'vue-router'</span></pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>VueRouter<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token punctuation">[</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Home'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span> <span class="token string">'../views/Home.vue'</span><span class="token punctuation">)</span>   <span class="token comment">// 使用 import 的方式导入组件</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'/about'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'About'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token function-variable function">component</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">import</span><span class="token punctuation">(</span> <span class="token string">'../views/About.vue'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>  <span class="token literal-property property">mode</span><span class="token operator">:</span> <span class="token string">'history'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="21"></td><td><pre>  <span class="token literal-property property">base</span><span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">BASE_URL</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="22"></td><td><pre>  routes</pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token keyword">export</span> <span class="token keyword">default</span> router</pre></td></tr></table></figure><h2 id="14vue-router如何响应-路由参数-的变化"><a class="anchor" href="#14vue-router如何响应-路由参数-的变化">#</a> 14.vue-router 如何响应 路由参数 的变化？</h2><p><strong>原来的组件实例会被复用。这也意味着组件的生命周期钩子不会再被调用。你可以简单地 watch (监测变化) $route 对象：</strong></p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> User <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token literal-property property">template</span><span class="token operator">:</span> <span class="token string">'...'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token literal-property property">watch</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token string">'$route'</span> <span class="token punctuation">(</span>to<span class="token punctuation">,</span> from<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>      <span class="token comment">// 对路由变化作出响应...</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="15route和router的区别是什么"><a class="anchor" href="#15route和router的区别是什么">#</a> 15.<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>r</mi><mi>o</mi><mi>u</mi><mi>t</mi><mi>e</mi><mtext>和</mtext></mrow><annotation encoding="application/x-tex">route和</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:.68333em;vertical-align:0"></span><span class="mord mathnormal" style="margin-right:.02778em">r</span><span class="mord mathnormal">o</span><span class="mord mathnormal">u</span><span class="mord mathnormal">t</span><span class="mord mathnormal">e</span><span class="mord cjk_fallback">和</span></span></span></span> router 的区别是什么</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>$route为当前router跳转当前路由组件里可获取name、path、query、params等</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>$router为VueRouter实例，想要导航到不同<span class="token constant">URL</span>，则使用$router<span class="token punctuation">.</span>push方法</pre></td></tr></table></figure><h2 id="16hash和history的区别"><a class="anchor" href="#16hash和history的区别">#</a> 16.hash 和 history 的区别</h2><ol><li><p>对于一个 url 来说，什么是 hash 值？—— #及其后面的内容就是 hash 值。</p></li><li><p>hash 值不会包含在 HTTP 请求中，即：hash 值不会带给服务器。</p></li><li><p>hash 模式：</p><ol><li>地址中永远带着 #号，不美观 。</li><li>若以后将地址通过第三方手机 app 分享，若 app 校验严格，则地址会被标记为不合法。</li><li>兼容性较好。</li></ol></li><li><p>history 模式：</p><ol><li>地址干净，美观 。</li><li>兼容性和 hash 模式相比略差。</li><li>应用部署上线时需要后端人员支持，解决刷新页面服务端 404 的问题。</li></ol></li></ol><h2 id="17路由鉴权"><a class="anchor" href="#17路由鉴权">#</a> 17. 路由鉴权</h2><h2 id="18vue-router-路由模式有几种"><a class="anchor" href="#18vue-router-路由模式有几种">#</a> 18.vue-router 路由模式有几种？</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>vue<span class="token operator">-</span>router 有 <span class="token number">3</span> 种路由模式：hash、history、abstract，对应的源码如下所示：</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">switch</span> <span class="token punctuation">(</span>mode<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token keyword">case</span> <span class="token string">'history'</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token keyword">this</span><span class="token punctuation">.</span>history <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HTML5History</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>base<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">break</span></pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token keyword">case</span> <span class="token string">'hash'</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">this</span><span class="token punctuation">.</span>history <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashHistory</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>base<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fallback<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token keyword">break</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token keyword">case</span> <span class="token string">'abstract'</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token keyword">this</span><span class="token punctuation">.</span>history <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbstractHistory</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> options<span class="token punctuation">.</span>base<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token keyword">break</span></pre></td></tr><tr><td data-num="13"></td><td><pre>  <span class="token keyword">default</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">!==</span> <span class="token string">'production'</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>      <span class="token function">assert</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">invalid mode: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>mode<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>其中，<span class="token number">3</span> 种路由模式的说明如下：</pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre><span class="token literal-property property">hash</span><span class="token operator">:</span> 使用 <span class="token constant">URL</span> hash 值来作路由。支持所有浏览器，包括不支持 <span class="token constant">HTML5</span> History Api 的浏览器；</pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token literal-property property">history</span> <span class="token operator">:</span> 依赖 <span class="token constant">HTML5</span> History <span class="token constant">API</span> 和服务器配置。具体可以查看 <span class="token constant">HTML5</span> History 模式；</pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token literal-property property">abstract</span> <span class="token operator">:</span> 支持所有 JavaScript 运行环境，如 Node<span class="token punctuation">.</span>js 服务器端。如果发现没有浏览器的 <span class="token constant">API</span>，路由会自动强制进入这个模式<span class="token punctuation">.</span></pre></td></tr></table></figure><h2 id="19-能说下-vue-router-中常用的-hash-和-history-路由模式实现原理吗"><a class="anchor" href="#19-能说下-vue-router-中常用的-hash-和-history-路由模式实现原理吗">#</a> 19. 能说下 vue-router 中常用的 hash 和 history 路由模式实现原理吗？</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>（<span class="token number">1</span>）hash 模式的实现原理</pre></td></tr><tr><td data-num="2"></td><td><pre>早期的前端路由的实现就是基于 location<span class="token punctuation">.</span>hash 来实现的。其实现原理很简单，location<span class="token punctuation">.</span>hash 的值就是 <span class="token constant">URL</span> 中 # 后面的内容。比如下面这个网站，它的 location<span class="token punctuation">.</span>hash 的值为 ‘#search’：</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token literal-property property">https</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>word<span class="token punctuation">.</span>com#search</pre></td></tr><tr><td data-num="4"></td><td><pre>hash 路由模式的实现主要是基于下面几个特性：</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token constant">URL</span> 中 hash 值只是客户端的一种状态，也就是说当向服务器端发出请求时，hash 部分不会被发送；</pre></td></tr><tr><td data-num="7"></td><td><pre>hash 值的改变，都会在浏览器的访问历史中增加一个记录。因此我们能通过浏览器的回退、前进按钮控制hash 的切换；</pre></td></tr><tr><td data-num="8"></td><td><pre>可以通过 a 标签，并设置 href 属性，当用户点击这个标签后，<span class="token constant">URL</span> 的 hash 值会发生改变；或者使用 JavaScript 来对 loaction<span class="token punctuation">.</span>hash 进行赋值，改变 <span class="token constant">URL</span> 的 hash 值；</pre></td></tr><tr><td data-num="9"></td><td><pre>我们可以使用 hashchange 事件来监听 hash 值的变化，从而对页面进行跳转（渲染）。</pre></td></tr><tr><td data-num="10"></td><td><pre></pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>（<span class="token number">2</span>）history 模式的实现原理</pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token constant">HTML5</span> 提供了 History <span class="token constant">API</span> 来实现 <span class="token constant">URL</span> 的变化。其中做最主要的 <span class="token constant">API</span> 有以下两个：history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 和 history<span class="token punctuation">.</span><span class="token function">repalceState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>。这两个 <span class="token constant">API</span> 可以在不进行刷新的情况下，操作浏览器的历史纪录。</pre></td></tr><tr><td data-num="14"></td><td><pre>唯一不同的是，前者是新增一个历史记录，后者是直接替换当前的历史记录，如下所示：</pre></td></tr><tr><td data-num="15"></td><td><pre>window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>window<span class="token punctuation">.</span>history<span class="token punctuation">.</span><span class="token function">replaceState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> path<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>history 路由模式的实现主要基于存在下面几个特性：</pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>pushState 和 repalceState 两个 <span class="token constant">API</span> 来操作实现 <span class="token constant">URL</span> 的变化 ；</pre></td></tr><tr><td data-num="20"></td><td><pre>我们可以使用 popstate 事件来监听 url 的变化，从而对页面进行跳转（渲染）；</pre></td></tr><tr><td data-num="21"></td><td><pre>history<span class="token punctuation">.</span><span class="token function">pushState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 或 history<span class="token punctuation">.</span><span class="token function">replaceState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 不会触发 popstate 事件，这时我们需要手动触发页面跳转（渲染）。</pre></td></tr></table></figure><h1 id="三vuex"><a class="anchor" href="#三vuex">#</a> 三：Vuex</h1><h2 id="1概念"><a class="anchor" href="#1概念">#</a> 1. 概念</h2><p>​ 在 Vue 中实现集中式状态（数据）管理的一个 Vue 插件，对 vue 应用中多个组件的共享状态进行集中式的管理（读 / 写），也是一种组件间通信的方式，且适用于任意组件间通信。</p><h2 id="2何时使用"><a class="anchor" href="#2何时使用">#</a> 2. 何时使用？</h2><p>​ 多个组件需要共享数据时，音乐播放、登录状态、加入购物车</p><h2 id="3搭建vuex环境"><a class="anchor" href="#3搭建vuex环境">#</a> 3. 搭建 vuex 环境</h2><ol><li><p>创建文件： <code>src/store/index.js</code></p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 引入 Vue 核心库</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 引入 Vuex</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 应用 Vuex 插件</span></pre></td></tr><tr><td data-num="6"></td><td><pre>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token comment">// 准备 actions 对象 —— 响应组件中用户的动作</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token comment">// 准备 mutations 对象 —— 修改 state 中的数据</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token comment">// 准备 state 对象 —— 保存具体的数据</span></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token comment">// 创建并暴露 store</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>	actions<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	mutations<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	state</pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure></li><li><p>在 <code>main.js</code> 中创建 vm 时传入 <code>store</code> 配置项</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">...</span><span class="token operator">...</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token comment">// 引入 store</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'./store'</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">...</span><span class="token operator">...</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 创建 vm</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token literal-property property">el</span><span class="token operator">:</span><span class="token string">'#app'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">h</span> <span class="token operator">=></span> <span class="token function">h</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	store</pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure></li></ol><h2 id="4基本使用"><a class="anchor" href="#4基本使用">#</a> 4. 基本使用</h2><ol><li><p>初始化数据、配置 <code>actions</code> 、配置 <code>mutations</code> ，操作文件 <code>store.js</code></p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 引入 Vue 核心库</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 引入 Vuex</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token keyword">import</span> Vuex <span class="token keyword">from</span> <span class="token string">'vuex'</span></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">// 引用 Vuex</span></pre></td></tr><tr><td data-num="6"></td><td><pre>Vue<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>Vuex<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token keyword">const</span> actions <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token comment">// 响应组件中加的动作</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token function">jia</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>		<span class="token comment">//console.log ('actions 中的 jia 被调用了 ',miniStore,value)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'JIA'</span><span class="token punctuation">,</span>value<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="14"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token keyword">const</span> mutations <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token comment">// 执行加</span></pre></td></tr><tr><td data-num="18"></td><td><pre>	<span class="token constant">JIA</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>value</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>		<span class="token comment">//console.log ('mutations 中的 JIA 被调用了 ',state,value)</span></pre></td></tr><tr><td data-num="20"></td><td><pre>		state<span class="token punctuation">.</span>sum <span class="token operator">+=</span> value</pre></td></tr><tr><td data-num="21"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre><span class="token comment">// 初始化数据</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token keyword">const</span> state <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>   <span class="token literal-property property">sum</span><span class="token operator">:</span><span class="token number">0</span></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="28"></td><td><pre></pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">// 创建并暴露 store</span></pre></td></tr><tr><td data-num="30"></td><td><pre><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="31"></td><td><pre>	actions<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="32"></td><td><pre>	mutations<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="33"></td><td><pre>	state<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure></li><li><p>组件中读取 vuex 中的数据： <code>$store.state.sum</code></p></li><li><p>组件中修改 vuex 中的数据： <code>$store.dispatch('action中的方法名',数据)</code> 或 <code>$store.commit('mutations中的方法名',数据)</code></p><blockquote><p>备注：若没有网络请求或其他业务逻辑，组件中也可以越过 actions，即不写 <code>dispatch</code> ，直接编写 <code>commit</code></p></blockquote></li></ol><h2 id="5getters的使用"><a class="anchor" href="#5getters的使用">#</a> 5.getters 的使用</h2><ol><li><p>概念：当 state 中的数据需要经过加工后再使用时，可以使用 getters 加工。</p></li><li><p>在 <code>store.js</code> 中追加 <code>getters</code> 配置</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">...</span><span class="token operator">...</span></pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">const</span> getters <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>	<span class="token function">bigSum</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>		<span class="token keyword">return</span> state<span class="token punctuation">.</span>sum <span class="token operator">*</span> <span class="token number">10</span></pre></td></tr><tr><td data-num="6"></td><td><pre>	<span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 创建并暴露 store</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token operator">...</span><span class="token operator">...</span></pre></td></tr><tr><td data-num="12"></td><td><pre>	getters</pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure></li><li><p>组件中读取数据： <code>$store.getters.bigSum</code></p></li></ol><h2 id="6四个map方法的使用"><a class="anchor" href="#6四个map方法的使用">#</a> 6. 四个 map 方法的使用</h2><ol><li><p>&lt;strong&gt;mapState 方法：&lt;/strong &gt; 用于帮助我们映射 <code>state</code> 中的数据为计算属性</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token comment">// 借助 mapState 生成计算属性：sum、school、subject（对象写法）</span></pre></td></tr><tr><td data-num="3"></td><td><pre>     <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">sum</span><span class="token operator">:</span><span class="token string">'sum'</span><span class="token punctuation">,</span><span class="token literal-property property">school</span><span class="token operator">:</span><span class="token string">'school'</span><span class="token punctuation">,</span><span class="token literal-property property">subject</span><span class="token operator">:</span><span class="token string">'subject'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>         </pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token comment">// 借助 mapState 生成计算属性：sum、school、subject（数组写法）</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'sum'</span><span class="token punctuation">,</span><span class="token string">'school'</span><span class="token punctuation">,</span><span class="token string">'subject'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr></table></figure></li><li><p>&lt;strong&gt;mapGetters 方法：&lt;/strong &gt; 用于帮助我们映射 <code>getters</code> 中的数据为计算属性</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token comment">// 借助 mapGetters 生成计算属性：bigSum（对象写法）</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">bigSum</span><span class="token operator">:</span><span class="token string">'bigSum'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token comment">// 借助 mapGetters 生成计算属性：bigSum（数组写法）</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'bigSum'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr></table></figure></li><li><p>&lt;strong&gt;mapActions 方法：&lt;/strong &gt; 用于帮助我们生成与 <code>actions</code> 对话的方法，即：包含 <code>$store.dispatch(xxx)</code> 的函数</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token comment">// 靠 mapActions 生成：incrementOdd、incrementWait（对象形式）</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">incrementOdd</span><span class="token operator">:</span><span class="token string">'jiaOdd'</span><span class="token punctuation">,</span><span class="token literal-property property">incrementWait</span><span class="token operator">:</span><span class="token string">'jiaWait'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token comment">// 靠 mapActions 生成：incrementOdd、incrementWait（数组形式）</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'jiaOdd'</span><span class="token punctuation">,</span><span class="token string">'jiaWait'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li><li><p>&lt;strong&gt;mapMutations 方法：&lt;/strong &gt; 用于帮助我们生成与 <code>mutations</code> 对话的方法，即：包含 <code>$store.commit(xxx)</code> 的函数</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token comment">// 靠 mapActions 生成：increment、decrement（对象形式）</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token literal-property property">increment</span><span class="token operator">:</span><span class="token string">'JIA'</span><span class="token punctuation">,</span><span class="token literal-property property">decrement</span><span class="token operator">:</span><span class="token string">'JIAN'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>    </pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token comment">// 靠 mapMutations 生成：JIA、JIAN（对象形式）</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'JIA'</span><span class="token punctuation">,</span><span class="token string">'JIAN'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure></li></ol><blockquote><p>备注：mapActions 与 mapMutations 使用时，若需要传递参数需要：在模板中绑定事件时传递好参数，否则参数是事件对象。</p></blockquote><h2 id="7模块化命名空间"><a class="anchor" href="#7模块化命名空间">#</a> 7. 模块化 + 命名空间</h2><ol><li><p>目的：让代码更好维护，让多种数据分类更加明确。</p></li><li><p>修改 <code>store.js</code></p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">const</span> countAbout <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token literal-property property">namespaced</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">// 开启命名空间</span></pre></td></tr><tr><td data-num="3"></td><td><pre>  <span class="token literal-property property">state</span><span class="token operator">:</span><span class="token punctuation">&#123;</span><span class="token literal-property property">x</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="5"></td><td><pre>  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="6"></td><td><pre>  <span class="token literal-property property">getters</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>    <span class="token function">bigSum</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>       <span class="token keyword">return</span> state<span class="token punctuation">.</span>sum <span class="token operator">*</span> <span class="token number">10</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">const</span> personAbout <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  <span class="token literal-property property">namespaced</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token comment">// 开启命名空间</span></pre></td></tr><tr><td data-num="15"></td><td><pre>  <span class="token literal-property property">state</span><span class="token operator">:</span><span class="token punctuation">&#123;</span> <span class="token operator">...</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="16"></td><td><pre>  <span class="token literal-property property">mutations</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span> <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  <span class="token literal-property property">actions</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span> <span class="token operator">...</span> <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>  <span class="token literal-property property">modules</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="22"></td><td><pre>    countAbout<span class="token punctuation">,</span></pre></td></tr><tr><td data-num="23"></td><td><pre>    personAbout</pre></td></tr><tr><td data-num="24"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="25"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure></li><li><p>开启命名空间后，组件中读取 state 数据：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 方式一：自己直接读取</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>personAbout<span class="token punctuation">.</span>list</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 方式二：借助 mapState 读取：</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">...</span><span class="token function">mapState</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'sum'</span><span class="token punctuation">,</span><span class="token string">'school'</span><span class="token punctuation">,</span><span class="token string">'subject'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr></table></figure></li><li><p>开启命名空间后，组件中读取 getters 数据：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 方式一：自己直接读取</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>getters<span class="token punctuation">[</span><span class="token string">'personAbout/firstPersonName'</span><span class="token punctuation">]</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 方式二：借助 mapGetters 读取：</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">...</span><span class="token function">mapGetters</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token string">'bigSum'</span><span class="token punctuation">]</span><span class="token punctuation">)</span></pre></td></tr></table></figure></li><li><p>开启命名空间后，组件中调用 dispatch</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 方式一：自己直接 dispatch</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">'personAbout/addPersonWang'</span><span class="token punctuation">,</span>person<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 方式二：借助 mapActions：</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">...</span><span class="token function">mapActions</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">incrementOdd</span><span class="token operator">:</span><span class="token string">'jiaOdd'</span><span class="token punctuation">,</span><span class="token literal-property property">incrementWait</span><span class="token operator">:</span><span class="token string">'jiaWait'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure></li><li><p>开启命名空间后，组件中调用 commit</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 方式一：自己直接 commit</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'personAbout/ADD_PERSON'</span><span class="token punctuation">,</span>person<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token comment">// 方式二：借助 mapMutations：</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">...</span><span class="token function">mapMutations</span><span class="token punctuation">(</span><span class="token string">'countAbout'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span><span class="token literal-property property">increment</span><span class="token operator">:</span><span class="token string">'JIA'</span><span class="token punctuation">,</span><span class="token literal-property property">decrement</span><span class="token operator">:</span><span class="token string">'JIAN'</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">,</span></pre></td></tr></table></figure></li></ol><h2 id="8vuex-state数据的双向绑定"><a class="anchor" href="#8vuex-state数据的双向绑定">#</a> 8：Vuex state 数据的双向绑定</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">// 在从组件的 computed 中</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token literal-property property">computed</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token literal-property property">user</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>        <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="5"></td><td><pre>          <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span>state<span class="token punctuation">.</span>user</pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token function">set</span><span class="token punctuation">(</span>v<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>          <span class="token comment">// 使用 vuex 中的 mutations 中定义好的方法来改变</span></pre></td></tr><tr><td data-num="9"></td><td><pre>          <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">'USER'</span><span class="token punctuation">,</span> v<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token operator">&lt;</span>br<span class="token operator">></span><span class="token punctuation">&#125;</span><span class="token operator">&lt;</span>br<span class="token operator">></span><span class="token comment">// 在组件中就可以使用</span></pre></td></tr><tr><td data-num="12"></td><td><pre>     </pre></td></tr><tr><td data-num="13"></td><td><pre>        </pre></td></tr><tr><td data-num="14"></td><td><pre>        </pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token operator">&lt;</span>input v<span class="token operator">-</span>modle<span class="token operator">=</span><span class="token string">"user"</span> <span class="token operator">/</span><span class="token operator">></span></pre></td></tr></table></figure><h2 id="9相关文档写的比较好的文档"><a class="anchor" href="#9相关文档写的比较好的文档">#</a> 9. 相关文档 (写的比较好的文档)</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token literal-property property">https</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>zhuanlan<span class="token punctuation">.</span>zhihu<span class="token punctuation">.</span>com<span class="token operator">/</span>p<span class="token operator">/</span><span class="token number">78981485</span></pre></td></tr></table></figure><h2 id="10简要概括vuex"><a class="anchor" href="#10简要概括vuex">#</a> 10. 简要概括 vuex</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>主要包括以下几个模块：</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token parameter">State</span> <span class="token operator">=></span> 基本数据，定义了应用状态的数据结构，可以在这里设置默认的初始状态。</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token parameter">Getter</span> <span class="token operator">=></span> 从基本数据派生的数据，允许组件从 Store 中获取数据，mapGetters 辅助函数仅仅是将 store 中的 getter 映射到局部计算属性。</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token parameter">Mutation</span> <span class="token operator">=></span> 是唯一更改 store 中状态的方法，且必须是同步函数。</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token parameter">Action</span> <span class="token operator">=></span> 像一个装饰器，包裹mutations，使之可以异步。用于提交 mutation，而不是直接变更状态，可以包含任意异步操作。</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token parameter">Module</span> <span class="token operator">=></span> 模块化Vuex，允许将单一的 Store 拆分为多个 store 且同时保存在单一的状态树中。</pre></td></tr></table></figure><h1 id="四vue中的开发经验"><a class="anchor" href="#四vue中的开发经验">#</a> 四：Vue 中的开发经验</h1><h2 id="1搭建vue脚手架vue-cli并创建一个项目"><a class="anchor" href="#1搭建vue脚手架vue-cli并创建一个项目">#</a> 1：搭建 Vue 脚手架（vue-cli）并创建一个项目</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">1.</span>安装node<span class="token punctuation">.</span>js环境</pre></td></tr><tr><td data-num="2"></td><td><pre>	  <span class="token punctuation">[</span>官网下载地址<span class="token punctuation">]</span><span class="token punctuation">(</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>nodejs<span class="token punctuation">.</span>org<span class="token operator">/</span>en<span class="token operator">/</span>download<span class="token operator">/</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>               一路安装完成后 打开cmd  </pre></td></tr><tr><td data-num="4"></td><td><pre>               输入 node <span class="token operator">-</span>v</pre></td></tr><tr><td data-num="5"></td><td><pre>               输入 npm <span class="token operator">-</span>v</pre></td></tr><tr><td data-num="6"></td><td><pre>               如果能看到node和npm的版本号了，说明已经安装成功</pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>               </pre></td></tr><tr><td data-num="9"></td><td><pre>               </pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token number">2.</span>安装vue<span class="token operator">-</span>cli</pre></td></tr><tr><td data-num="11"></td><td><pre>               有npm和cnpm两种方式，网上都说cnpm好些，所以我也用的cnpm安装，</pre></td></tr><tr><td data-num="12"></td><td><pre>               首先利用淘宝镜像安装cnpm      </pre></td></tr><tr><td data-num="13"></td><td><pre>               npm install cnpm <span class="token operator">-</span>g <span class="token operator">--</span>registry<span class="token operator">=</span>https<span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>registry<span class="token punctuation">.</span>npm<span class="token punctuation">.</span>taobao<span class="token punctuation">.</span>org       </pre></td></tr><tr><td data-num="14"></td><td><pre>               安装完成</pre></td></tr><tr><td data-num="15"></td><td><pre>               输入 cnpm <span class="token operator">-</span>v</pre></td></tr><tr><td data-num="16"></td><td><pre>  </pre></td></tr><tr><td data-num="17"></td><td><pre>               </pre></td></tr><tr><td data-num="18"></td><td><pre>               </pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token number">3.</span>然后全局安装 vue<span class="token operator">-</span>cli</pre></td></tr><tr><td data-num="20"></td><td><pre>               输入指令 cnpm install <span class="token operator">-</span>g vue<span class="token operator">-</span>cli</pre></td></tr><tr><td data-num="21"></td><td><pre>               这个命令只需要运行一次就可以了。安装上之后，以后就不用安装了。</pre></td></tr><tr><td data-num="22"></td><td><pre>               查看vue版本号</pre></td></tr><tr><td data-num="23"></td><td><pre>               vue <span class="token operator">-</span><span class="token constant">V</span>    <span class="token comment">// 注：V 是大写字母 V</span></pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre>               如果提示“无法识别 ‘vue’ ” ，有可能是 npm 版本过低，需要手动更新npm的版本号，这也是上面说的为什么要保证npm版本号高的原因，npm的版本可以手动升级更新，没记错的话应该是               </pre></td></tr><tr><td data-num="26"></td><td><pre>               npm install <span class="token operator">-</span>g npm</pre></td></tr><tr><td data-num="27"></td><td><pre>               </pre></td></tr><tr><td data-num="28"></td><td><pre> </pre></td></tr><tr><td data-num="29"></td><td><pre>               </pre></td></tr><tr><td data-num="30"></td><td><pre>               </pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token number">4.</span>使用vue<span class="token operator">-</span>cli来创建一个基于 webpack 模板的新项目               </pre></td></tr><tr><td data-num="32"></td><td><pre>               创建</pre></td></tr><tr><td data-num="33"></td><td><pre>               cmd利用cd指令进入到保存项目的文件夹下，然后输入命令           </pre></td></tr><tr><td data-num="34"></td><td><pre>               输入 vue init webpack</pre></td></tr><tr><td data-num="35"></td><td><pre></pre></td></tr><tr><td data-num="36"></td><td><pre><span class="token number">5.</span>安装项目所需要的依赖               </pre></td></tr><tr><td data-num="37"></td><td><pre>   				进入新建的项目文件夹下，就是上头有一些文件的里面，输入命令</pre></td></tr><tr><td data-num="38"></td><td><pre>                输入 指令 cnpm install</pre></td></tr><tr><td data-num="39"></td><td><pre></pre></td></tr><tr><td data-num="40"></td><td><pre><span class="token number">6.</span>运行项目</pre></td></tr><tr><td data-num="41"></td><td><pre>               根据你<span class="token keyword">package</span><span class="token punctuation">.</span>json里的配置里的指令</pre></td></tr><tr><td data-num="42"></td><td><pre>               一般情况下都是 npm run dev</pre></td></tr><tr><td data-num="43"></td><td><pre>               </pre></td></tr><tr><td data-num="44"></td><td><pre><span class="token number">7.</span>打包资源上线</pre></td></tr><tr><td data-num="45"></td><td><pre>               根据你<span class="token keyword">package</span><span class="token punctuation">.</span>json里的配置里的指令</pre></td></tr><tr><td data-num="46"></td><td><pre>               一般情况下都是 npm run build</pre></td></tr><tr><td data-num="47"></td><td><pre>              	 </pre></td></tr><tr><td data-num="48"></td><td><pre><span class="token number">8.</span>具体创建项目 博客地址</pre></td></tr><tr><td data-num="49"></td><td><pre>               <span class="token literal-property property">https</span><span class="token operator">:</span><span class="token operator">/</span><span class="token operator">/</span>www<span class="token punctuation">.</span>cnblogs<span class="token punctuation">.</span>com<span class="token operator">/</span>coober<span class="token operator">/</span>p<span class="token operator">/</span><span class="token number">10875647</span><span class="token punctuation">.</span>html</pre></td></tr></table></figure><h2 id="2关于不同版本的vue"><a class="anchor" href="#2关于不同版本的vue">#</a> 2：关于不同版本的 Vue</h2><ol><li>vue.js 与 vue.runtime.xxx.js 的区别：<ol><li>vue.js 是完整版的 Vue，包含：核心功能 + 模板解析器。</li><li>vue.runtime.xxx.js 是运行版的 Vue，只包含：核心功能；没有模板解析器。</li></ol></li><li>因为 vue.runtime.xxx.js 没有模板解析器，所以不能使用 template 这个配置项，需要使用 render 函数接收到的 createElement 函数去指定具体内容。</li></ol><h2 id="3vueconfigjs配置文件"><a class="anchor" href="#3vueconfigjs配置文件">#</a> 3：vue.config.js 配置文件</h2><ol><li>使用 vue inspect &gt; output.js 可以查看到 Vue 脚手架的默认配置。</li><li>使用 vue.config.js 可以对脚手架进行个性化定制，详情见：<span class="exturl" data-url="aHR0cHM6Ly9jbGkudnVlanMub3JnL3po">https://cli.vuejs.org/zh</span></li></ol><h2 id="2vue中如何编写可复用的组件"><a class="anchor" href="#2vue中如何编写可复用的组件">#</a> 2：vue 中如何编写可复用的组件？</h2><p>①创建组件页面 eg Toast.vue；<br>②用 Vue.extend () 扩展一个组件构造器，再通过实例化组件构造器，就可创造出可复用的组件<br>③将 toast 组件挂载到新创建的 div 上；<br>④把 toast 组件的 dom 添加到 body 里；<br>⑤修改优化达到动态控制页面显示文字跟显示时间；</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span><span class="token punctuation">;</span> </pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">import</span> Toast <span class="token keyword">from</span> <span class="token string">'@/components/Toast'</span><span class="token punctuation">;</span>     <span class="token comment">// 引入组件</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">let</span> ToastConstructor  <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>Toast<span class="token punctuation">)</span> <span class="token comment">// 返回一个 “扩展实例构造器”</span></pre></td></tr><tr><td data-num="4"></td><td><pre> </pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token keyword">let</span> <span class="token function-variable function">myToast</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">text<span class="token punctuation">,</span>duration</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token keyword">let</span> toastDom <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ToastConstructor</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token literal-property property">el</span><span class="token operator">:</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span>    <span class="token comment">// 将 toast 组件挂载到新创建的 div 上</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> toastDom<span class="token punctuation">.</span>$el <span class="token punctuation">)</span>   <span class="token comment">// 把 toast 组件的 dom 添加到 body 里</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    </pre></td></tr><tr><td data-num="11"></td><td><pre>    toastDom<span class="token punctuation">.</span>text <span class="token operator">=</span> text<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    toastDom<span class="token punctuation">.</span>duration <span class="token operator">=</span> duration<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre> </pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token comment">// 在指定 duration 之后让 toast 消失</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>        toastDom<span class="token punctuation">.</span>isShow <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>  </pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span> toastDom<span class="token punctuation">.</span>duration<span class="token punctuation">)</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token keyword">export</span> <span class="token keyword">default</span> myToast<span class="token punctuation">;</span></pre></td></tr></table></figure><p>点击查看 <span class="exturl" data-url="aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4NTYzODQ1L2FydGljbGUvZGV0YWlscy83NzUyNDkzNA==">https://blog.csdn.net/qq_38563845/article/details/77524934</span></p><h2 id="3vue父组件向子组件传对象不实时更新解决"><a class="anchor" href="#3vue父组件向子组件传对象不实时更新解决">#</a> 3：vue 父组件向子组件传对象，不实时更新解决</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>思路<span class="token number">1</span>：就是让利用v<span class="token operator">-</span><span class="token keyword">if</span>的重新渲染机制</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">1.</span>首先考虑的就是手动刷了，给组件加个v<span class="token operator">-</span><span class="token keyword">if</span><span class="token operator">=</span>”someShow“<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token comment">//  这是组件上写法 ：&lt;my-component v-if="someShow">&lt;/my-component></span></pre></td></tr><tr><td data-num="6"></td><td><pre> </pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token comment">// 下边写在父组件的 methods 里</span></pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token function-variable function">refesh</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token keyword">this</span><span class="token punctuation">.</span>someShow<span class="token operator">=</span><span class="token boolean">false</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token keyword">var</span> _this<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>		_this<span class="token punctuation">.</span>someShow <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>  </pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token comment">// $nextTick</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">// $nextTick 是在下次 DOM 更新循环结束之后执行延迟回调，在修改数据之后使用 $nextTick，则可以在回调中获取更新后的 DOM  这样重新渲染就会是最新数据了</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre></pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre></pre></td></tr><tr><td data-num="22"></td><td><pre>思路<span class="token number">2</span>：利用watch监听</pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre>在子组件中监听你要的数据，当然别监听对象，监听了不一定好使。亲测不好使，测过好使的，可以给我留言。</pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre><span class="token function-variable function">data</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="28"></td><td><pre>    <span class="token keyword">return</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="29"></td><td><pre>        <span class="token literal-property property">title</span><span class="token operator">:</span><span class="token string">""</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="30"></td><td><pre>        <span class="token literal-property property">content</span><span class="token operator">:</span><span class="token string">""</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="31"></td><td><pre>        <span class="token literal-property property">btn</span><span class="token operator">:</span><span class="token string">""</span></pre></td></tr><tr><td data-num="32"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="33"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">,</span>   </pre></td></tr><tr><td data-num="34"></td><td><pre><span class="token literal-property property">methods</span><span class="token operator">:</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="35"></td><td><pre>        <span class="token function-variable function">changeTitle</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="36"></td><td><pre>            <span class="token keyword">this</span><span class="token punctuation">.</span>title<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>listTitle<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="37"></td><td><pre>            <span class="token comment">// 这里的每次变化了就复制给组件上的变量，视图也就更改了			</span></pre></td></tr><tr><td data-num="38"></td><td><pre>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="39"></td><td><pre>        <span class="token function-variable function">changeList</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="40"></td><td><pre>            <span class="token keyword">this</span><span class="token punctuation">.</span>content<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>listList<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="41"></td><td><pre>        <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="42"></td><td><pre>        <span class="token function-variable function">changeBtn</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="43"></td><td><pre>            <span class="token keyword">this</span><span class="token punctuation">.</span>btn<span class="token operator">=</span><span class="token keyword">this</span><span class="token punctuation">.</span>listBtn<span class="token punctuation">;</span></pre></td></tr><tr><td data-num="44"></td><td><pre>        <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="45"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="46"></td><td><pre><span class="token literal-property property">watch</span><span class="token operator">:</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="47"></td><td><pre>    	<span class="token literal-property property">listTitle</span><span class="token operator">:</span><span class="token string">"changeTitle"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="48"></td><td><pre>        <span class="token literal-property property">listList</span><span class="token operator">:</span><span class="token string">"changeList"</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="49"></td><td><pre>        <span class="token literal-property property">listBtn</span><span class="token operator">:</span><span class="token string">"changeBtn"</span></pre></td></tr><tr><td data-num="50"></td><td><pre>        <span class="token comment">// 冒号前边这个就是从父组件传过来的，后边的就是变化了的监听函数</span></pre></td></tr><tr><td data-num="51"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="4is的用法用于动态组件且基于-dom-内模板的限制来工作"><a class="anchor" href="#4is的用法用于动态组件且基于-dom-内模板的限制来工作">#</a> 4：is 的用法（用于动态组件且基于 DOM 内模板的限制来工作。）</h2><p><strong>is 用来动态切换组件，DOM 模板解析</strong></p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token operator">&lt;</span>table<span class="token operator">></span> <span class="token operator">&lt;</span>tr is<span class="token operator">=</span><span class="token string">"my-row"</span><span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">/</span>tr<span class="token operator">></span> <span class="token operator">&lt;</span><span class="token operator">/</span>table<span class="token operator">></span></pre></td></tr></table></figure><h2 id="5vue脚手架配置代理"><a class="anchor" href="#5vue脚手架配置代理">#</a> 5：vue 脚手架配置代理</h2><h3 id="方法一"><a class="anchor" href="#方法一">#</a> 方法一</h3><p>​	在 vue.config.js 中添加如下配置：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token literal-property property">devServer</span><span class="token operator">:</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>  <span class="token literal-property property">proxy</span><span class="token operator">:</span><span class="token string">"http://localhost:5000"</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><p>说明：</p><ol><li>优点：配置简单，请求资源时直接发给前端（8080）即可。</li><li>缺点：不能配置多个代理，不能灵活的控制请求是否走代理。</li><li>工作方式：若按照上述配置代理，当请求了前端不存在的资源时，那么该请求会转发给服务器 （优先匹配前端资源）</li></ol><h3 id="方法二"><a class="anchor" href="#方法二">#</a> 方法二</h3><p>​	编写 vue.config.js 配置具体代理规则：</p><figure class="highlight js"><figcaption data-lang="JavaScript"></figcaption><table><tr><td data-num="1"></td><td><pre>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	<span class="token literal-property property">devServer</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>      <span class="token literal-property property">proxy</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="4"></td><td><pre>      <span class="token string-property property">'/api1'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token comment">// 匹配所有以 '/api1' 开头的请求路径</span></pre></td></tr><tr><td data-num="5"></td><td><pre>        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'http://localhost:5000'</span><span class="token punctuation">,</span><span class="token comment">// 代理目标的基础路径</span></pre></td></tr><tr><td data-num="6"></td><td><pre>        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token string-property property">'^/api1'</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>      <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>      <span class="token string-property property">'/api2'</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token comment">// 匹配所有以 '/api2' 开头的请求路径</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">'http://localhost:5001'</span><span class="token punctuation">,</span><span class="token comment">// 代理目标的基础路径</span></pre></td></tr><tr><td data-num="11"></td><td><pre>        <span class="token literal-property property">changeOrigin</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="12"></td><td><pre>        <span class="token literal-property property">pathRewrite</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span><span class="token string-property property">'^/api2'</span><span class="token operator">:</span> <span class="token string">''</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>      <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token comment">/*</span></pre></td></tr><tr><td data-num="18"></td><td><pre>   changeOrigin 设置为 true 时，服务器收到的请求头中的 host 为：localhost:5000</pre></td></tr><tr><td data-num="19"></td><td><pre>   changeOrigin 设置为 false 时，服务器收到的请求头中的 host 为：localhost:8080</pre></td></tr><tr><td data-num="20"></td><td><pre>   changeOrigin 默认值为 true</pre></td></tr><tr><td data-num="21"></td><td><pre>*/</pre></td></tr></table></figure><p>说明：</p><ol><li>优点：可以配置多个代理，且可以灵活的控制请求是否走代理。</li><li>缺点：配置略微繁琐，请求资源时必须加前缀。</li></ol><h1 id="五vue源码原理"><a class="anchor" href="#五vue源码原理">#</a> 五：Vue 源码原理</h1><h2 id="1vuejs2x的两个核心是什么数据驱动-组件系统"><a class="anchor" href="#1vuejs2x的两个核心是什么数据驱动-组件系统">#</a> 1：vue.js2.x 的两个核心是什么 (数据驱动、组件系统。)</h2><p>数据驱动：Object.defineProperty 和存储器属性: getter 和 setter（所以只兼容 IE9 及以上版本），可称为基于依赖收集的观测机制，核心是 VM，即 ViewModel，保证数据和视图的一致性。</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> number <span class="token operator">=</span> <span class="token number">18</span></pre></td></tr><tr><td data-num="2"></td><td><pre>            <span class="token keyword">let</span> person <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="3"></td><td><pre>                <span class="token literal-property property">name</span> <span class="token operator">:</span> <span class="token string">'jack'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="4"></td><td><pre>                <span class="token literal-property property">sex</span> <span class="token operator">:</span> <span class="token string">'男'</span></pre></td></tr><tr><td data-num="5"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>            Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span><span class="token string">'age'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>                <span class="token comment">// value : 18,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>                <span class="token comment">//enumerable : true, // 控制熟悉是否可以枚举，默认值是 false</span></pre></td></tr><tr><td data-num="10"></td><td><pre>                <span class="token comment">//writable : true, // 控制熟悉是否可以被修改，默认值是 false</span></pre></td></tr><tr><td data-num="11"></td><td><pre>                <span class="token comment">//configurable : true, // 控制属性是否可以被删除，默认值是 false</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>                <span class="token comment">// 当有人读取 person 的 age 属性时，get 函数 (getter) 就会被调用，且返回值就是 age 的值</span></pre></td></tr><tr><td data-num="14"></td><td><pre>                <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="15"></td><td><pre>                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'有人读取了age'</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>                    <span class="token keyword">return</span> number</pre></td></tr><tr><td data-num="17"></td><td><pre>                <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="18"></td><td><pre></pre></td></tr><tr><td data-num="19"></td><td><pre>                <span class="token comment">// 当有人修改 person 的 age 属性时，set 函数 (setter) 就会被调用，且会收到修改的具体值</span></pre></td></tr><tr><td data-num="20"></td><td><pre>                <span class="token function">set</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>                    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">有人修改了age，值为:</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>value<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="22"></td><td><pre>                    number <span class="token operator">=</span> value</pre></td></tr><tr><td data-num="23"></td><td><pre>                <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="24"></td><td><pre></pre></td></tr><tr><td data-num="25"></td><td><pre>            <span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr></table></figure><p>组件系统:</p><h2 id="2vue数据代理的原理"><a class="anchor" href="#2vue数据代理的原理">#</a> 2：VUE 数据代理的原理</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token function">通过一个对象代理对另一个对象中的属性的操作</span><span class="token punctuation">(</span>读写<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token keyword">let</span> obj <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">x</span><span class="token operator">:</span><span class="token number">100</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token keyword">let</span> obj2 <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token literal-property property">y</span><span class="token operator">:</span><span class="token number">200</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj2<span class="token punctuation">,</span><span class="token string">'x'</span><span class="token punctuation">,</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="7"></td><td><pre>        <span class="token keyword">return</span> obj<span class="token punctuation">.</span>x</pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token function">set</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>        obj<span class="token punctuation">.</span>x <span class="token operator">=</span> value</pre></td></tr><tr><td data-num="11"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token number">1</span><span class="token punctuation">.</span>Vue中的数据代理：</pre></td></tr><tr><td data-num="16"></td><td><pre>	<span class="token function">通过vm对象代理data对象中的数据</span><span class="token punctuation">(</span>读<span class="token operator">/</span>写<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token number">2</span><span class="token punctuation">.</span>Vue中数据代理的好处：</pre></td></tr><tr><td data-num="18"></td><td><pre>	更加方便的操作data中的数据</pre></td></tr><tr><td data-num="19"></td><td><pre><span class="token number">3.</span>基本原理</pre></td></tr><tr><td data-num="20"></td><td><pre>	通过Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span>把data对象中所有属性添加到vm上</pre></td></tr><tr><td data-num="21"></td><td><pre>    为每一个添加到vm上的属性，都指定一个getter<span class="token operator">/</span>setter</pre></td></tr><tr><td data-num="22"></td><td><pre>	在getter<span class="token operator">/</span><span class="token function">setter内部去操作</span><span class="token punctuation">(</span>读<span class="token operator">/</span>写<span class="token punctuation">)</span>data中对应的属性</pre></td></tr></table></figure><h2 id="3vue-组件中-data-为什么必须是函数"><a class="anchor" href="#3vue-组件中-data-为什么必须是函数">#</a> 3：Vue 组件中 data 为什么必须是函数</h2><p>vue 组件中 data 值不能为对象，因为对象是引用类型，组件可能会被多个实例同时引用。<br>如果 data 值为对象，将导致多个实例共享一个对象，其中一个组件改变 data 属性值，其它实例也会受到影响。</p><h2 id="4vue双向绑定的原理"><a class="anchor" href="#4vue双向绑定的原理">#</a> 4：Vue 双向绑定的原理</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>如果被问到 Vue 怎么实现数据双向绑定，大家肯定都会回答 通过 Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 对数据进行劫持，但是 Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 只能对属性进行数据劫持，不能对整个对象进行劫持。</pre></td></tr><tr><td data-num="2"></td><td><pre>同理无法对数组进行劫持，但是我们在使用 Vue 框架中都知道，Vue 能检测到对象和数组（部分方法的操作）的变化，那它是怎么实现的呢？我们查看相关代码如下：</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>  <span class="token comment">/**</span></pre></td></tr><tr><td data-num="5"></td><td><pre>   * Observe a list of Array items.</pre></td></tr><tr><td data-num="6"></td><td><pre>   */</pre></td></tr><tr><td data-num="7"></td><td><pre>  <span class="token function">observeArray</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">items</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>any<span class="token operator">></span></span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> l <span class="token operator">=</span> items<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> l<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="9"></td><td><pre>      <span class="token function">observe</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">//observe 功能为监测数据的变化</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>  <span class="token comment">/**</span></pre></td></tr><tr><td data-num="14"></td><td><pre>   * 对属性进行递归遍历</pre></td></tr><tr><td data-num="15"></td><td><pre>   */</pre></td></tr><tr><td data-num="16"></td><td><pre>  <span class="token keyword">let</span> childOb <span class="token operator">=</span> <span class="token operator">!</span>shallow <span class="token operator">&amp;&amp;</span> <span class="token function">observe</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span> <span class="token comment">//observe 功能为监测数据的变化</span></pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre>  通过以上 Vue 源码部分查看，我们就能知道 Vue 框架是通过遍历数组 和递归遍历对象，从而达到利用 Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 也能对对象和数组（部分方法的操作）进行监听。</pre></td></tr></table></figure><h2 id="5vue的diff算法列表渲染key的作用和原理"><a class="anchor" href="#5vue的diff算法列表渲染key的作用和原理">#</a> 5：Vue 的 diff 算法（列表渲染 key 的作用和原理）</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">1.</span>虚拟<span class="token constant">DOM</span><span class="token literal-property property">中key的作用</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="2"></td><td><pre>key是虚拟<span class="token constant">DOM</span>对象的标识，当状态中的数据发生变化时，Vue会根据【新数据】生成【新的虚拟<span class="token constant">DOM</span>】</pre></td></tr><tr><td data-num="3"></td><td><pre>随后，Vue进行【新的虚拟<span class="token constant">DOM</span>】与【旧的虚拟<span class="token constant">DOM</span>】的差异比较，比较规则如下</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token number">2.</span><span class="token literal-property property">对比规则</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span>旧虚拟<span class="token constant">DOM</span>中找到了与新虚拟<span class="token constant">DOM</span><span class="token literal-property property">相同的key</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token number">1.</span>若虚拟<span class="token constant">DOM</span>中的内容没变，直接使用之前的真实<span class="token constant">DOM</span>！</pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token number">2.</span>若虚拟<span class="token constant">DOM</span>中的内容变了，则生成新的真实<span class="token constant">DOM</span>，随后替换掉页面中之前的真实<span class="token constant">DOM</span></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">.</span>旧虚拟<span class="token constant">DOM</span>中未找到与新虚拟<span class="token constant">DOM</span>相同的key</pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token number">1.</span>创建新的真实<span class="token constant">DOM</span>，随后渲染到页面</pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre><span class="token number">3.</span><span class="token literal-property property">用index作为key可能会引发的问题</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="13"></td><td><pre>	<span class="token number">1.</span>若对数据进行，逆序添加，逆序删除等破坏顺寻操作：</pre></td></tr><tr><td data-num="14"></td><td><pre>    	<span class="token parameter">会产生没有必要的真实<span class="token constant">DOM</span>更新</span> <span class="token operator">=></span> 界面效果没问题，但是效率低</pre></td></tr><tr><td data-num="15"></td><td><pre>	<span class="token number">2.</span>如果结构中还有包含输入类的<span class="token constant">DOM</span>：</pre></td></tr><tr><td data-num="16"></td><td><pre>    	<span class="token parameter">会产生错误<span class="token constant">DOM</span>更新</span> <span class="token operator">=></span> 界面有问题</pre></td></tr><tr><td data-num="17"></td><td><pre></pre></td></tr><tr><td data-num="18"></td><td><pre><span class="token number">4.</span>开发中如何选择key<span class="token operator">?</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	<span class="token number">1.</span>最好使用每条数据的唯一标识作为key<span class="token punctuation">,</span>比如id<span class="token punctuation">,</span>手机号，身份证号，学号等唯一值</pre></td></tr><tr><td data-num="20"></td><td><pre>	<span class="token number">2.</span>如果不存在对数据的逆序添加，逆序删除等破坏性顺序操作，仅用于渲染列表展示，使用index作为key是没问题的</pre></td></tr></table></figure><h2 id="6vue是怎么检测数据的改变的原理"><a class="anchor" href="#6vue是怎么检测数据的改变的原理">#</a> 6：Vue 是怎么检测数据的改变的原理</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token keyword">let</span> data <span class="token operator">=</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="2"></td><td><pre>    <span class="token literal-property property">name</span> <span class="token operator">:</span><span class="token string">'jack'</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="3"></td><td><pre>    <span class="token literal-property property">age</span> <span class="token operator">:</span> <span class="token number">18</span></pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token comment">// 创建一个监视的实例对象，用于监视 data 中属性的变化</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">const</span> obs <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token comment">// 准备一个 vm 实例对象</span></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token keyword">let</span> vm <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="11"></td><td><pre>vm<span class="token punctuation">.</span>_data <span class="token operator">=</span> data <span class="token operator">=</span> obs</pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre><span class="token keyword">function</span> <span class="token function">Observer</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token comment">// 汇总对象中所有属性形成的数组</span></pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token keyword">const</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token comment">// 遍历</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    keys<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">k</span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>        Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span>k<span class="token punctuation">,</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="19"></td><td><pre>            <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="20"></td><td><pre>                <span class="token keyword">return</span> obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span></pre></td></tr><tr><td data-num="21"></td><td><pre>            <span class="token punctuation">&#125;</span><span class="token punctuation">,</span></pre></td></tr><tr><td data-num="22"></td><td><pre>            <span class="token function">set</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="23"></td><td><pre>                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">$&#123;</span>k<span class="token interpolation-punctuation punctuation">&#125;</span></span><span class="token string">被改了，我要去解析模板了，生成虚拟DOM</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="24"></td><td><pre>                obj<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> val</pre></td></tr><tr><td data-num="25"></td><td><pre>            <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="26"></td><td><pre>        <span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="27"></td><td><pre>    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token punctuation">&#125;</span>  </pre></td></tr><tr><td data-num="29"></td><td><pre><span class="token comment">// 自己实现的基本的原理，只是对第一层的基本数据类型进行检测。无法检测到里面的</span></pre></td></tr><tr><td data-num="30"></td><td><pre></pre></td></tr><tr><td data-num="31"></td><td><pre>Vue的底层对data中的对象数据检测进行了递归，所以都能检测到，</pre></td></tr><tr><td data-num="32"></td><td><pre>数组里的对象数据没有检测</pre></td></tr></table></figure><h2 id="7-v-model-的原理"><a class="anchor" href="#7-v-model-的原理">#</a> 7. v-model 的原理？</h2><h2 id="8使用过-vue-ssr-吗说说-ssr"><a class="anchor" href="#8使用过-vue-ssr-吗说说-ssr">#</a> 8. 使用过 Vue SSR 吗？说说 SSR？</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>Vue<span class="token punctuation">.</span>js 是构建客户端应用程序的框架。默认情况下，可以在浏览器中输出 Vue 组件，进行生成 <span class="token constant">DOM</span> 和操作 <span class="token constant">DOM</span>。然而，也可以将同一个组件渲染为服务端的 <span class="token constant">HTML</span> 字符串，将它们直接发送到浏览器，最后将这些静态标记<span class="token string">"激活"</span>为客户端上完全可交互的应用程序。</pre></td></tr><tr><td data-num="2"></td><td><pre>即：<span class="token constant">SSR</span>大致的意思就是vue在客户端将标签渲染成的整个 html 片段的工作在服务端完成，服务端形成的html 片段直接返回给客户端这个过程就叫做服务端渲染。</pre></td></tr><tr><td data-num="3"></td><td><pre>服务端渲染 <span class="token constant">SSR</span> 的优缺点如下：</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>（<span class="token number">1</span>）服务端渲染的优点：</pre></td></tr><tr><td data-num="6"></td><td><pre>更好的 <span class="token constant">SEO</span>：因为 <span class="token constant">SPA</span> 页面的内容是通过 Ajax 获取，而搜索引擎爬取工具并不会等待 Ajax 异步完成后再抓取页面内容，所以在 <span class="token constant">SPA</span> 中是抓取不到页面通过 Ajax 获取到的内容；而 <span class="token constant">SSR</span> 是直接由服务端返回已经渲染好的页面（数据已经包含在页面中），所以搜索引擎爬取工具可以抓取渲染好的页面；</pre></td></tr><tr><td data-num="7"></td><td><pre>更快的内容到达时间（首屏加载更快）：<span class="token constant">SPA</span> 会等待所有 Vue 编译后的 js 文件都下载完成后，才开始进行页面的渲染，文件下载等需要一定的时间等，所以首屏渲染需要一定的时间；<span class="token constant">SSR</span> 直接由服务端渲染好页面直接返回显示，无需等待下载 js 文件及再去渲染等，所以 <span class="token constant">SSR</span> 有更快的内容到达时间；</pre></td></tr><tr><td data-num="8"></td><td><pre>（<span class="token number">2</span><span class="token punctuation">)</span> 服务端渲染的缺点：</pre></td></tr><tr><td data-num="9"></td><td><pre>更多的开发条件限制：例如服务端渲染只支持 beforCreate 和 created 两个钩子函数，这会导致一些外部扩展库需要特殊处理，才能在服务端渲染应用程序中运行；并且与可以部署在任何静态文件服务器上的完全静态单页面应用程序 <span class="token constant">SPA</span> 不同，服务端渲染应用程序，需要处于 Node<span class="token punctuation">.</span>js server 运行环境；</pre></td></tr><tr><td data-num="10"></td><td><pre>更多的服务器负载：在 Node<span class="token punctuation">.</span>js 中渲染完整的应用程序，显然会比仅仅提供静态文件的 server 更加大量占用<span class="token constant">CPU</span> <span class="token function">资源</span> <span class="token punctuation">(</span><span class="token constant">CPU</span><span class="token operator">-</span>intensive <span class="token operator">-</span> <span class="token constant">CPU</span> 密集<span class="token punctuation">)</span><span class="token function">，因此如果你预料在高流量环境</span> <span class="token punctuation">(</span> high traffic <span class="token punctuation">)</span> 下使用，请准备相应的服务器负载，并明智地采用缓存策略。</pre></td></tr></table></figure><h2 id="9-vue-框架怎么实现对象和数组的监听"><a class="anchor" href="#9-vue-框架怎么实现对象和数组的监听">#</a> 9. Vue 框架怎么实现对象和数组的监听？</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>Vue 数据双向绑定主要是指：数据变化更新视图，视图变化更新数据。</pre></td></tr><tr><td data-num="2"></td><td><pre>即：</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>输入框内容变化时，Data 中的数据同步变化。即 <span class="token parameter">View</span> <span class="token operator">=></span> Data 的变化。</pre></td></tr><tr><td data-num="5"></td><td><pre>Data 中的数据变化时，文本节点的内容同步变化。即 <span class="token parameter">Data</span> <span class="token operator">=></span> View 的变化。</pre></td></tr><tr><td data-num="6"></td><td><pre>其中，View 变化更新 Data ，可以通过事件监听的方式来实现，所以 Vue 的数据双向绑定的工作主要是如何根据 Data 变化更新 View。</pre></td></tr><tr><td data-num="7"></td><td><pre>Vue 主要通过以下 <span class="token number">4</span> 个步骤来实现数据双向绑定的：</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>实现一个监听器 Observer：对数据对象进行遍历，包括子属性对象的属性，利用 Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 对属性都加上 setter 和 getter。这样的话，给这个对象的某个值赋值，就会触发 setter，那么就能监听到了数据变化。</pre></td></tr><tr><td data-num="10"></td><td><pre>实现一个解析器 Compile：解析 Vue 模板指令，将模板中的变量都替换成数据，然后初始化渲染页面视图，并将每个指令对应的节点绑定更新函数，添加监听数据的订阅者，一旦数据有变动，收到通知，调用更新函数进行数据更新。</pre></td></tr><tr><td data-num="11"></td><td><pre>实现一个订阅者 Watcher：Watcher 订阅者是 Observer 和 Compile 之间通信的桥梁 ，主要的任务是订阅 Observer 中的属性值变化的消息，当收到属性值变化的消息时，触发解析器 Compile 中对应的更新函数。</pre></td></tr><tr><td data-num="12"></td><td><pre>实现一个订阅器 Dep：订阅器采用 发布<span class="token operator">-</span>订阅 设计模式，用来收集订阅者 Watcher，对监听器 Observer 和 订阅者 Watcher 进行统一管理。</pre></td></tr></table></figure><h2 id="10-vue-怎么用-vmset-解决对象新增属性不能响应的问题"><a class="anchor" href="#10-vue-怎么用-vmset-解决对象新增属性不能响应的问题">#</a> 10. Vue 怎么用 vm.$set () 解决对象新增属性不能响应的问题 ？</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>受现代 JavaScript 的限制 ，Vue 无法检测到对象属性的添加或删除。</pre></td></tr><tr><td data-num="2"></td><td><pre>由于 Vue 会在初始化实例时对属性执行 getter<span class="token operator">/</span>setter 转化，所以属性必须在 data 对象上存在才能让 Vue 将它转换为响应式的。</pre></td></tr><tr><td data-num="3"></td><td><pre>但是 Vue 提供了 Vue<span class="token punctuation">.</span><span class="token function">set</span> <span class="token punctuation">(</span>object<span class="token punctuation">,</span> propertyName<span class="token punctuation">,</span> value<span class="token punctuation">)</span> <span class="token operator">/</span> vm<span class="token punctuation">.</span><span class="token function">$set</span> <span class="token punctuation">(</span>object<span class="token punctuation">,</span> propertyName<span class="token punctuation">,</span> value<span class="token punctuation">)</span>来实现为对象添加响应式属性，那框架本身是如何实现的呢？</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>我们查看对应的 Vue 源码：vue<span class="token operator">/</span>src<span class="token operator">/</span>core<span class="token operator">/</span>instance<span class="token operator">/</span>index<span class="token punctuation">.</span>js</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">set</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">target</span><span class="token operator">:</span> Array<span class="token operator">&lt;</span>any<span class="token operator">></span> <span class="token operator">|</span> Object<span class="token punctuation">,</span> <span class="token literal-property property">key</span><span class="token operator">:</span> any<span class="token punctuation">,</span> <span class="token literal-property property">val</span><span class="token operator">:</span> any</span><span class="token punctuation">)</span><span class="token operator">:</span> any <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="8"></td><td><pre>  <span class="token comment">//target 为数组</span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isValidArrayIndex</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>    <span class="token comment">// 修改数组的长度，避免索引 > 数组长度导致 splcie () 执行有误</span></pre></td></tr><tr><td data-num="11"></td><td><pre>    target<span class="token punctuation">.</span>length <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>target<span class="token punctuation">.</span>length<span class="token punctuation">,</span> key<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="12"></td><td><pre>    <span class="token comment">// 利用数组的 splice 变异方法触发响应式</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    target<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>key<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> val<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">return</span> val</pre></td></tr><tr><td data-num="15"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>  <span class="token comment">//key 已经存在，直接修改属性值</span></pre></td></tr><tr><td data-num="17"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span>key <span class="token keyword">in</span> target <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token punctuation">(</span>key <span class="token keyword">in</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> val</pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token keyword">return</span> val</pre></td></tr><tr><td data-num="20"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="21"></td><td><pre>  <span class="token keyword">const</span> ob <span class="token operator">=</span> <span class="token punctuation">(</span>target<span class="token operator">:</span> any<span class="token punctuation">)</span><span class="token punctuation">.</span>__ob__</pre></td></tr><tr><td data-num="22"></td><td><pre>  <span class="token comment">//target 本身就不是响应式数据，直接赋值</span></pre></td></tr><tr><td data-num="23"></td><td><pre>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>ob<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="24"></td><td><pre>    target<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> val</pre></td></tr><tr><td data-num="25"></td><td><pre>    <span class="token keyword">return</span> val</pre></td></tr><tr><td data-num="26"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="27"></td><td><pre>  <span class="token comment">// 对属性进行响应式处理</span></pre></td></tr><tr><td data-num="28"></td><td><pre>  <span class="token function">defineReactive</span><span class="token punctuation">(</span>ob<span class="token punctuation">.</span>value<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="29"></td><td><pre>  ob<span class="token punctuation">.</span>dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="30"></td><td><pre>  <span class="token keyword">return</span> val</pre></td></tr><tr><td data-num="31"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="32"></td><td><pre></pre></td></tr><tr><td data-num="33"></td><td><pre></pre></td></tr><tr><td data-num="34"></td><td><pre>我们阅读以上源码可知，vm<span class="token punctuation">.</span>$<span class="token keyword">set</span> 的实现原理是：</pre></td></tr><tr><td data-num="35"></td><td><pre></pre></td></tr><tr><td data-num="36"></td><td><pre>如果目标是数组，直接使用数组的 splice 方法触发相应式；</pre></td></tr><tr><td data-num="37"></td><td><pre>如果目标是对象，会先判读属性是否存在、对象是否是响应式，最终如果要对属性进行响应式处理，则是通过调用 defineReactive 方法进行响应式处理（ defineReactive 方法就是 Vue 在初始化对象时，给对象属性采用 Object<span class="token punctuation">.</span>defineProperty 动态添加 getter 和 setter 的功能所调用的方法）</pre></td></tr></table></figure><h2 id="11-虚拟-dom-的优缺点"><a class="anchor" href="#11-虚拟-dom-的优缺点">#</a> 11. 虚拟 DOM 的优缺点？</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>优点：</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>保证性能下限： 框架的虚拟 <span class="token constant">DOM</span> 需要适配任何上层 <span class="token constant">API</span> 可能产生的操作，它的一些 <span class="token constant">DOM</span> 操作的实现必须是普适的，所以它的性能并不是最优的；但是比起粗暴的 <span class="token constant">DOM</span> 操作性能要好很多，因此框架的虚拟 <span class="token constant">DOM</span> 至少可以保证在你不需要手动优化的情况下，依然可以提供还不错的性能，即保证性能的下限；</pre></td></tr><tr><td data-num="4"></td><td><pre>无需手动操作 <span class="token constant">DOM</span>： 我们不再需要手动去操作 <span class="token constant">DOM</span>，只需要写好 View<span class="token operator">-</span>Model 的代码逻辑，框架会根据虚拟 <span class="token constant">DOM</span> 和 数据双向绑定，帮我们以可预期的方式更新视图，极大提高我们的开发效率；</pre></td></tr><tr><td data-num="5"></td><td><pre>跨平台： 虚拟 <span class="token constant">DOM</span> 本质上是 JavaScript 对象<span class="token punctuation">,</span>而 <span class="token constant">DOM</span> 与平台强相关，相比之下虚拟 <span class="token constant">DOM</span> 可以进行更方便地跨平台操作，例如服务器渲染、weex 开发等等。</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token literal-property property">缺点</span><span class="token operator">:</span></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>无法进行极致优化： 虽然虚拟 <span class="token constant">DOM</span> <span class="token operator">+</span> 合理的优化，足以应对绝大部分应用的性能需求，但在一些性能要求极高的应用中虚拟 <span class="token constant">DOM</span> 无法进行针对性的极致优化。</pre></td></tr></table></figure><h2 id="12-虚拟-dom-实现原理"><a class="anchor" href="#12-虚拟-dom-实现原理">#</a> 12. 虚拟 DOM 实现原理？</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>虚拟 <span class="token constant">DOM</span> 的实现原理主要包括以下 <span class="token number">3</span> 部分：</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>用 JavaScript 对象模拟真实 <span class="token constant">DOM</span> 树，对真实 <span class="token constant">DOM</span> 进行抽象；</pre></td></tr><tr><td data-num="4"></td><td><pre>diff 算法 — 比较两棵虚拟 <span class="token constant">DOM</span> 树的差异；</pre></td></tr><tr><td data-num="5"></td><td><pre>pach 算法 — 将两个虚拟 <span class="token constant">DOM</span> 对象的差异应用到真正的 <span class="token constant">DOM</span> 树。</pre></td></tr></table></figure><h2 id="13-vue-中的-key-有什么作用"><a class="anchor" href="#13-vue-中的-key-有什么作用">#</a> 13. Vue 中的 key 有什么作用？</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>key 是为 Vue 中 vnode 的唯一标记，通过这个 key，我们的 diff 操作可以更准确、更快速。</pre></td></tr><tr><td data-num="2"></td><td><pre>Vue 的 diff 过程可以概括为：oldCh 和 newCh 各有两个头尾的变量 oldStartIndex、oldEndIndex 和 newStartIndex、newEndIndex，它们会新节点和旧节点会进行两两对比，即一共有<span class="token number">4</span>种比较方式：newStartIndex 和oldStartIndex 、newEndIndex 和 oldEndIndex 、newStartIndex 和 oldEndIndex 、newEndIndex 和 oldStartIndex，如果以上 <span class="token number">4</span> 种比较都没匹配，如果设置了key，就会用 key 再进行比较，在比较的过程中，遍历会往中间靠，一旦 StartIdx <span class="token operator">></span> EndIdx 表明 oldCh 和 newCh 至少有一个已经遍历完了，就会结束比较。</pre></td></tr><tr><td data-num="3"></td><td><pre>所以 Vue 中 key 的作用是：key 是为 Vue 中 vnode 的唯一标记，通过这个 key，我们的 diff 操作可以更准确、更快速<span class="token operator">!</span></pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>更准确：因为带 key 就不是就地复用了，在 sameNode 函数 a<span class="token punctuation">.</span>key <span class="token operator">===</span> b<span class="token punctuation">.</span>key 对比中可以避免就地复用的情况。所以会更加准确。</pre></td></tr><tr><td data-num="6"></td><td><pre>更快速：利用 key 的唯一性生成 map 对象来获取对应节点，比遍历方式更快，源码如下：</pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre><span class="token keyword">function</span> <span class="token function">createKeyToOldIdx</span> <span class="token punctuation">(</span><span class="token parameter">children<span class="token punctuation">,</span> beginIdx<span class="token punctuation">,</span> endIdx</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token keyword">let</span> i<span class="token punctuation">,</span> key</pre></td></tr><tr><td data-num="11"></td><td><pre>  <span class="token keyword">const</span> map <span class="token operator">=</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre>  <span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token operator">=</span> beginIdx<span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> endIdx<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span></pre></td></tr><tr><td data-num="13"></td><td><pre>    key <span class="token operator">=</span> children<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>key</pre></td></tr><tr><td data-num="14"></td><td><pre>    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isDef</span><span class="token punctuation">(</span>key<span class="token punctuation">)</span><span class="token punctuation">)</span> map<span class="token punctuation">[</span>key<span class="token punctuation">]</span> <span class="token operator">=</span> i</pre></td></tr><tr><td data-num="15"></td><td><pre>  <span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="16"></td><td><pre>  <span class="token keyword">return</span> map</pre></td></tr><tr><td data-num="17"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr></table></figure><h2 id="14-你有对-vue-项目进行哪些优化"><a class="anchor" href="#14-你有对-vue-项目进行哪些优化">#</a> 14. 你有对 Vue 项目进行哪些优化？</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>（<span class="token number">1</span>）代码层面的优化</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>v<span class="token operator">-</span><span class="token keyword">if</span> 和 v<span class="token operator">-</span>show 区分使用场景</pre></td></tr><tr><td data-num="4"></td><td><pre>computed 和 watch 区分使用场景</pre></td></tr><tr><td data-num="5"></td><td><pre>v<span class="token operator">-</span><span class="token keyword">for</span> 遍历必须为 item 添加 key，且避免同时使用 v<span class="token operator">-</span><span class="token keyword">if</span></pre></td></tr><tr><td data-num="6"></td><td><pre>长列表性能优化</pre></td></tr><tr><td data-num="7"></td><td><pre>事件的销毁</pre></td></tr><tr><td data-num="8"></td><td><pre>图片资源懒加载</pre></td></tr><tr><td data-num="9"></td><td><pre>路由懒加载</pre></td></tr><tr><td data-num="10"></td><td><pre>第三方插件的按需引入</pre></td></tr><tr><td data-num="11"></td><td><pre>优化无限列表性能</pre></td></tr><tr><td data-num="12"></td><td><pre>服务端渲染 <span class="token constant">SSR</span> or 预渲染</pre></td></tr><tr><td data-num="13"></td><td><pre>（<span class="token number">2</span>）Webpack 层面的优化</pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>Webpack 对图片进行压缩</pre></td></tr><tr><td data-num="16"></td><td><pre>减少 <span class="token constant">ES6</span> 转为 <span class="token constant">ES5</span> 的冗余代码</pre></td></tr><tr><td data-num="17"></td><td><pre>提取公共代码</pre></td></tr><tr><td data-num="18"></td><td><pre>模板预编译</pre></td></tr><tr><td data-num="19"></td><td><pre>提取组件的 <span class="token constant">CSS</span></pre></td></tr><tr><td data-num="20"></td><td><pre>优化 SourceMap</pre></td></tr><tr><td data-num="21"></td><td><pre>构建结果输出分析</pre></td></tr><tr><td data-num="22"></td><td><pre>Vue 项目的编译优化</pre></td></tr><tr><td data-num="23"></td><td><pre></pre></td></tr><tr><td data-num="24"></td><td><pre>（<span class="token number">3</span>）基础的 Web 技术的优化</pre></td></tr><tr><td data-num="25"></td><td><pre></pre></td></tr><tr><td data-num="26"></td><td><pre>开启 gzip 压缩</pre></td></tr><tr><td data-num="27"></td><td><pre>浏览器缓存</pre></td></tr><tr><td data-num="28"></td><td><pre><span class="token constant">CDN</span> 的使用</pre></td></tr><tr><td data-num="29"></td><td><pre>使用 Chrome Performance 查找性能瓶颈</pre></td></tr></table></figure><h2 id="15-对于-vue30-特性你有什么了解的吗"><a class="anchor" href="#15-对于-vue30-特性你有什么了解的吗">#</a> 15. 对于 vue3.0 特性你有什么了解的吗？</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>Vue <span class="token number">3.0</span> 的目标是让 Vue 核心变得更小、更快、更强大，因此 Vue <span class="token number">3.0</span> 增加以下这些新特性：</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>（<span class="token number">1</span>）监测机制的改变</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">3.0</span> 将带来基于代理 Proxy 的 observer 实现，提供全语言覆盖的反应性跟踪。这消除了 Vue <span class="token number">2</span> 当中基于 Object<span class="token punctuation">.</span>defineProperty 的实现所存在的很多限制：</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>只能监测属性，不能监测对象</pre></td></tr><tr><td data-num="7"></td><td><pre>检测属性的添加和删除；</pre></td></tr><tr><td data-num="8"></td><td><pre>检测数组索引和长度的变更；</pre></td></tr><tr><td data-num="9"></td><td><pre>支持 Map、Set、WeakMap 和 WeakSet。</pre></td></tr><tr><td data-num="10"></td><td><pre>新的 observer 还提供了以下特性：</pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>用于创建 observable 的公开 <span class="token constant">API</span>。这为中小规模场景提供了简单轻量级的跨组件状态管理解决方案。</pre></td></tr><tr><td data-num="13"></td><td><pre>默认采用惰性观察。在 <span class="token number">2</span><span class="token punctuation">.</span>x 中，不管反应式数据有多大，都会在启动时被观察到。如果你的数据集很大，这可能会在应用启动时带来明显的开销。在 <span class="token number">3</span><span class="token punctuation">.</span>x 中，只观察用于渲染应用程序最初可见部分的数据。</pre></td></tr><tr><td data-num="14"></td><td><pre>更精确的变更通知。在 <span class="token number">2</span><span class="token punctuation">.</span>x 中，通过 Vue<span class="token punctuation">.</span>set 强制添加新属性将导致依赖于该对象的 watcher 收到变更通知。在 <span class="token number">3</span><span class="token punctuation">.</span>x 中，只有依赖于特定属性的 watcher 才会收到通知。</pre></td></tr><tr><td data-num="15"></td><td><pre>不可变的 observable：我们可以创建值的“不可变”版本（即使是嵌套属性），除非系统在内部暂时将其“解禁”。这个机制可用于冻结 prop 传递或 Vuex 状态树以外的变化。</pre></td></tr><tr><td data-num="16"></td><td><pre>更好的调试功能：我们可以使用新的 renderTracked 和 renderTriggered 钩子精确地跟踪组件在什么时候以及为什么重新渲染。</pre></td></tr><tr><td data-num="17"></td><td><pre>（<span class="token number">2</span>）模板</pre></td></tr><tr><td data-num="18"></td><td><pre>模板方面没有大的变更，只改了作用域插槽，<span class="token number">2</span><span class="token punctuation">.</span>x 的机制导致作用域插槽变了，父组件会重新渲染，而 <span class="token number">3.0</span> 把作用域插槽改成了函数的方式，这样只会影响子组件的重新渲染，提升了渲染的性能。</pre></td></tr><tr><td data-num="19"></td><td><pre>同时，对于 render 函数的方面，vue3<span class="token punctuation">.</span><span class="token number">0</span> 也会进行一系列更改来方便习惯直接使用 api 来生成 vdom 。</pre></td></tr><tr><td data-num="20"></td><td><pre></pre></td></tr><tr><td data-num="21"></td><td><pre>（<span class="token number">3</span>）对象式的组件声明方式</pre></td></tr><tr><td data-num="22"></td><td><pre>vue2<span class="token punctuation">.</span>x 中的组件是通过声明的方式传入一系列 option，和 TypeScript 的结合需要通过一些装饰器的方式来做，虽然能实现功能，但是比较麻烦。</pre></td></tr><tr><td data-num="23"></td><td><pre><span class="token number">3.0</span> 修改了组件的声明方式，改成了类式的写法，这样使得和 TypeScript 的结合变得很容易。</pre></td></tr><tr><td data-num="24"></td><td><pre>此外，vue 的源码也改用了 TypeScript 来写。其实当代码的功能复杂之后，必须有一个静态类型系统来做一些辅助管理。</pre></td></tr><tr><td data-num="25"></td><td><pre>现在 vue3<span class="token punctuation">.</span><span class="token number">0</span> 也全面改用 TypeScript 来重写了，更是使得对外暴露的 api 更容易结合 TypeScript。静态类型系统对于复杂代码的维护确实很有必要。</pre></td></tr><tr><td data-num="26"></td><td><pre></pre></td></tr><tr><td data-num="27"></td><td><pre>（<span class="token number">4</span>）其它方面的更改</pre></td></tr><tr><td data-num="28"></td><td><pre>vue3<span class="token punctuation">.</span><span class="token number">0</span> 的改变是全面的，上面只涉及到主要的 <span class="token number">3</span> 个方面，还有一些其他的更改：</pre></td></tr><tr><td data-num="29"></td><td><pre></pre></td></tr><tr><td data-num="30"></td><td><pre>支持自定义渲染器，从而使得 weex 可以通过自定义渲染器的方式来扩展，而不是直接 fork 源码来改的方式。</pre></td></tr><tr><td data-num="31"></td><td><pre>支持 Fragment（多个根节点）和 Protal（在 dom 其他部分渲染组建内容）组件，针对一些特殊的场景做了处理。</pre></td></tr><tr><td data-num="32"></td><td><pre>基于 treeshaking 优化，提供了更多的内置功能。</pre></td></tr></table></figure><h2 id="16-响应式原理变化侦测"><a class="anchor" href="#16-响应式原理变化侦测">#</a> 16. 响应式原理（变化侦测）</h2><p><strong>使用发布订阅模式将数据劫持和模板编译结合，实现双向绑定</strong></p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">1</span><span class="token literal-property property">、observer</span><span class="token operator">:</span> 封装 Object<span class="token punctuation">.</span>defineProperty 方法用来劫持对象属性的getter和setter，以此来追踪数据变化。</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">2</span><span class="token function">、读取数据时触发getter来收集依赖</span><span class="token punctuation">(</span>Watcher<span class="token punctuation">)</span>到Dep。</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">3</span>、修改数据时触发setter，并遍历依赖列表，通知所有相关依赖（Watcher）</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token number">4</span>、Dep 类为依赖找一个存储依赖的地方，用来收集和管理依赖，在getter中收集，在setter中通知。</pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token number">5</span>、Watcher 类就是收集的依赖，实际上是一个订阅器，Watcher会将自己的实例赋值给window<span class="token punctuation">.</span>target（全局变量）上，然后去主动访问属性，触发属性的getter，getter中会将此Watcher收集到Dep中，Watcher的update方法会在Dep的通知方法中被调用，触发更新。</pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token number">6</span>、Observer 类用来将一个对象的所有属性和子属性都变成响应式的，通过递归调用defineReactive来实现。</pre></td></tr><tr><td data-num="8"></td><td><pre><span class="token number">7</span>、由于无法侦测对象上新增<span class="token operator">/</span>删除属性，所以提供 $<span class="token keyword">set</span> 和 $<span class="token keyword">delete</span> <span class="token constant">API5</span>。</pre></td></tr><tr><td data-num="9"></td><td><pre></pre></td></tr><tr><td data-num="10"></td><td><pre><span class="token number">28.</span> Object<span class="token punctuation">.</span>defineProperty怎么用， 三个参数？，有什么作用啊？</pre></td></tr><tr><td data-num="11"></td><td><pre>Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 方法会直接在一个对象上定义一个新属性，或者修改一个对象的现有属性，并返回此对象。</pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre>   obj：需要定义属性的对象</pre></td></tr><tr><td data-num="16"></td><td><pre>     prop：需要定义的属性</pre></td></tr><tr><td data-num="17"></td><td><pre>     <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>：要定义或修改的属性描述符。</pre></td></tr><tr><td data-num="18"></td><td><pre>	     <span class="token literal-property property">value</span><span class="token operator">:</span> <span class="token string">"18"</span><span class="token punctuation">,</span>         <span class="token comment">// 设置默认值 （与 get () 互斥）</span></pre></td></tr><tr><td data-num="19"></td><td><pre>	     <span class="token literal-property property">enumerable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>    <span class="token comment">// 这一句控制属性可以枚举 enumerable 改为 true 就可以参与遍历了   默认值 false</span></pre></td></tr><tr><td data-num="20"></td><td><pre>	     <span class="token literal-property property">writable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>      <span class="token comment">// 该属性是否可写   默认值 false （与 set () 互斥）</span></pre></td></tr><tr><td data-num="21"></td><td><pre>	     <span class="token literal-property property">configurable</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// 该属性是否可被删除   默认值 false</span></pre></td></tr><tr><td data-num="22"></td><td><pre>	      <span class="token keyword">get</span> <span class="token comment">// 当有人读取 prop 的时候  get 函数就会调用，并且返回就是 sss 的值</span></pre></td></tr><tr><td data-num="23"></td><td><pre>	      <span class="token keyword">set</span> <span class="token comment">// 当有人修改 prop 的时候  set 函数就会调用，有个参数这个参数就是修改后的值</span></pre></td></tr></table></figure><h2 id="17-vue2和vue3的响应式原理都有什么区别呢"><a class="anchor" href="#17-vue2和vue3的响应式原理都有什么区别呢">#</a> 17. vue2 和 vue3 的响应式原理都有什么区别呢？</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>vue2 用的是 Object<span class="token punctuation">.</span>defindProperty 但是vue3用的是Proxy</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>Object<span class="token punctuation">.</span>defindProperty 缺点：</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>一次只能对一个属性进行监听，需要遍历来对所有属性监听</pre></td></tr><tr><td data-num="6"></td><td><pre>对于对象的新增属性，需要手动监听</pre></td></tr><tr><td data-num="7"></td><td><pre>对于数组通过push、unshift方法增加的元素，也无法监听</pre></td></tr><tr><td data-num="8"></td><td><pre>Proxy就没有这个问题，可以监听整个对象的数据变化，所以用vue3<span class="token punctuation">.</span><span class="token number">0</span>会用Proxy代替definedProperty。</pre></td></tr></table></figure><h2 id="18-vue-模板编译原理"><a class="anchor" href="#18-vue-模板编译原理">#</a> 18. Vue 模板编译原理</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>模板字符串 转换成 element <span class="token constant">AST</span>（解析器）</pre></td></tr><tr><td data-num="2"></td><td><pre>Vue<span class="token operator">-</span>loader 切割解析 <span class="token punctuation">.</span>vue 文件（parseHTML按标签以出栈入栈形式切割（自闭合不入栈直接处理），出栈时维护父子关系）生成 <span class="token constant">AST</span>（抽象语法树）</pre></td></tr><tr><td data-num="3"></td><td><pre></pre></td></tr><tr><td data-num="4"></td><td><pre>使用大量正则匹配开始结束标签，<span class="token keyword">while</span>指针定位解析位置，</pre></td></tr><tr><td data-num="5"></td><td><pre></pre></td></tr><tr><td data-num="6"></td><td><pre>对 <span class="token constant">AST</span> 进行静态节点标记，主要用来做虚拟<span class="token constant">DOM</span>的渲染优化（优化器）</pre></td></tr><tr><td data-num="7"></td><td><pre>在dom更新时不需 diff 静态节点。</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>使用 element <span class="token constant">AST</span> 生成 render 函数代码字符串（代码生成器）</pre></td></tr><tr><td data-num="10"></td><td><pre>Vue<span class="token operator">-</span>template<span class="token operator">-</span>compiler再解析成render（可执行函数字符串<span class="token operator">-</span><span class="token keyword">with</span><span class="token punctuation">(</span><span class="token parameter"><span class="token keyword">this</span></span><span class="token punctuation">)</span><span class="token operator">=></span><span class="token punctuation">&#123;</span><span class="token keyword">return</span> <span class="token function">_c</span><span class="token punctuation">(</span>‘div’<span class="token punctuation">)</span><span class="token punctuation">&#125;</span>），<span class="token keyword">new</span> <span class="token class-name">Function</span> 生成函数，传递给组件的 render</pre></td></tr><tr><td data-num="11"></td><td><pre></pre></td></tr><tr><td data-num="12"></td><td><pre>在组件渲染的时候直接调用 render 即可</pre></td></tr></table></figure><h2 id="19-vue原理总结"><a class="anchor" href="#19-vue原理总结">#</a> 19. Vue 原理总结</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>【模板编译】将template模板，经过编译系统后生成VNode，（模板字符串→<span class="token constant">AST</span>→Render函数）</pre></td></tr><tr><td data-num="2"></td><td><pre></pre></td></tr><tr><td data-num="3"></td><td><pre>【渲染】然后再通过渲染系统来将VNode生成真实<span class="token constant">DOM</span>（document<span class="token punctuation">.</span>createElement <span class="token operator">&amp;&amp;</span> Mount挂载到真实<span class="token constant">DOM</span>节点上）</pre></td></tr><tr><td data-num="4"></td><td><pre></pre></td></tr><tr><td data-num="5"></td><td><pre>【响应式】通过响应式系统对数据进行监听，当数据发生改变时，触发依赖项（组件）</pre></td></tr><tr><td data-num="6"></td><td><pre></pre></td></tr><tr><td data-num="7"></td><td><pre>【Diff <span class="token operator">&amp;</span> Patch】组件内收到通知后，会通过diff算法对比VNode的变化，尽可能复用代码，找出最小差异，保证性能消耗最小。</pre></td></tr><tr><td data-num="8"></td><td><pre></pre></td></tr><tr><td data-num="9"></td><td><pre>【渲染】拿到需要新增<span class="token operator">/</span>删除<span class="token operator">/</span>修改的VNode后，逐一去操作真实<span class="token constant">DOM</span>进行修改（通过选择器选择到对应真实<span class="token constant">DOM</span>节点进行修改）</pre></td></tr></table></figure><h1 id="六对vue的理解"><a class="anchor" href="#六对vue的理解">#</a> 六：对 Vue 的理解</h1><h2 id="1谈谈对mvvm的理解"><a class="anchor" href="#1谈谈对mvvm的理解">#</a> 1：谈谈对 MVVM 的理解</h2><p>M-model，model 代表数据模型，也可以在 model 中定义数据修改和操作的业务逻辑</p><p>V-view,view 代表 UI 组件，它负责将数据模型转化为 UI 展现出来</p><p>VM-viewmodel,viewmodel 监听模型数据的改变和控制视图行为、处理用户交互，简单理解就是一个同步 view 和 model 的对象，连接 model 和 view</p><h2 id="2vue是渐进式的框架的理解主张最少没有多做职责之外的事"><a class="anchor" href="#2vue是渐进式的框架的理解主张最少没有多做职责之外的事">#</a> 2：vue 是渐进式的框架的理解：(主张最少，没有多做职责之外的事)</h2><p>Vue 的核心的功能，是一个视图模板引擎，但这不是说 Vue 就不能成为一个框架。如下图所示，这里包含了 Vue 的所有部件，在声明式渲染（视图模板引擎）的基础上，我们可以通过添加组件系统、客户端路由、大规模状态管理来构建一个完整的框架。更重要的是，这些功能相互独立，你可以在核心功能的基础上任意选用其他的部件，不一定要全部整合在一起。可以看到，所说的 “渐进式”，其实就是 Vue 的使用方式，同时也体现了 Vue 的设计的理念<br>在我看来，渐进式代表的含义是：主张最少。视图模板引擎<br>每个框架都不可避免会有自己的一些特点，从而会对使用者有一定的要求，这些要求就是主张，主张有强有弱，它的强势程度会影响在业务开发中的使用方式。<br>比如说，Angular，它两个版本都是强主张的，如果你用它，必须接受以下东西：<br>必须使用它的模块机制 - 必须使用它的依赖注入 - 必须使用它的特殊形式定义组件（这一点每个视图框架都有，难以避免）<br>所以 Angular 是带有比较强的排它性的，如果你的应用不是从头开始，而是要不断考虑是否跟其他东西集成，这些主张会带来一些困扰。<br>Vue 可能有些方面是不如 React，不如 Angular，但它是渐进的，没有强主张，你可以在原有大系统的上面，把一两个组件改用它实现，当 jQuery 用；也可以整个用它全家桶开发，当 Angular 用；还可以用它的视图，搭配你自己设计的整个下层用。也可以函数式，都可以，它只是个轻量视图而已，只做了自己该做的事，没有做不该做的事，仅此而已。<br><strong>渐进式的含义，我的理解是：没有多做职责之外的事。</strong></p><h2 id="3spa-单页面应用及其优缺点"><a class="anchor" href="#3spa-单页面应用及其优缺点">#</a> 3：SPA 单页面应用及其优缺点</h2><p><strong>缺点：</strong></p><p>不支持低版本的浏览器，最低只支持到 IE9；<br>不利于 SEO 的优化（如果要支持 SEO，建议通过服务端来进行渲染组件）；<br>第一次加载首页耗时相对长一些；<br>不可以使用浏览器的导航按钮需要自行实现前进、后退。</p><p><strong>优点：</strong></p><p>无刷新体验，提升了用户体验；<br>前端开发不再以页面为单位，更多地采用组件化的思想，代码结构和组织方式更加规范化，便于修改和调整；<br>API 共享，同一套后端程序代码不用修改就可以用于 Web 界面、手机、平板等多种客户端<br>用户体验好、快，内容的改变不需要重新加载整个页面。</p><h2 id="4怎样理解-vue-的单向数据流"><a class="anchor" href="#4怎样理解-vue-的单向数据流">#</a> 4：怎样理解 Vue 的单向数据流？</h2><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>所有的 prop 都使得其父子 prop 之间形成了一个单向下行绑定：父级 prop 的更新会向下流动到子组件中，但是反过来则不行。</pre></td></tr><tr><td data-num="2"></td><td><pre>这样会防止从子组件意外改变父级组件的状态，从而导致你的应用的数据流向难以理解。</pre></td></tr><tr><td data-num="3"></td><td><pre>额外的，每次父级组件发生更新时，子组件中所有的 prop 都将会刷新为最新的值。</pre></td></tr><tr><td data-num="4"></td><td><pre>这意味着你不应该在一个子组件内部改变 prop。如果你这样做了，Vue 会在浏览器的控制台中发出警告。</pre></td></tr><tr><td data-num="5"></td><td><pre>子组件想修改时，只能通过 $emit 派发一个自定义事件，父组件接收到后，由父组件修改。</pre></td></tr></table></figure><h1 id="七vue3扩展"><a class="anchor" href="#七vue3扩展">#</a> 七：Vue3 扩展</h1><h2 id="1vue3简介"><a class="anchor" href="#1vue3简介">#</a> 1.VUE3 简介</h2><ul><li>2020 年 9 月 18 日，Vue.js 发布 3.0 版本，代号 One Piece (海贼王)</li></ul><h2 id="2vue3带来了什么"><a class="anchor" href="#2vue3带来了什么">#</a> 2.Vue3 带来了什么</h2><p>1. 性能的提升</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">1.</span>打包大小减少<span class="token number">41</span><span class="token operator">%</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">2.</span>初次渲染快<span class="token number">55</span><span class="token operator">%</span><span class="token punctuation">,</span>更新渲染快<span class="token number">33</span><span class="token operator">%</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">3.</span>内存减少<span class="token number">54</span><span class="token operator">%</span>   </pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token operator">...</span></pre></td></tr></table></figure><p>2. 源码的升级</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>使用Proxy代替defineProperty实现响应式</pre></td></tr><tr><td data-num="2"></td><td><pre>重写虚拟<span class="token constant">DOM</span>的实现和Tree<span class="token operator">-</span>Shaking</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token operator">...</span></pre></td></tr></table></figure><p>3. 拥抱 TypeScript</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>Vue3可以更好的支持TypeScript</pre></td></tr></table></figure><p>4. 新的特性</p><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">1</span><span class="token punctuation">.</span>Composition <span class="token constant">API</span><span class="token punctuation">(</span>组合<span class="token constant">API</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre>	steup配置</pre></td></tr><tr><td data-num="3"></td><td><pre>    ref与reactive</pre></td></tr><tr><td data-num="4"></td><td><pre>    watch与watchEffect</pre></td></tr><tr><td data-num="5"></td><td><pre>    provide与inject</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token operator">...</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token number">2.</span>新的内置组件</pre></td></tr><tr><td data-num="8"></td><td><pre>	Fragment</pre></td></tr><tr><td data-num="9"></td><td><pre>    Teleport</pre></td></tr><tr><td data-num="10"></td><td><pre>    Suspense</pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token number">3.</span>其他改变</pre></td></tr><tr><td data-num="12"></td><td><pre>	新的生命周期钩子</pre></td></tr><tr><td data-num="13"></td><td><pre>    data选项应始终被声明为一个函数</pre></td></tr><tr><td data-num="14"></td><td><pre>    移除keyCode支持作为v<span class="token operator">-</span>on的修饰符</pre></td></tr><tr><td data-num="15"></td><td><pre>    <span class="token operator">...</span></pre></td></tr></table></figure><h2 id="3创建vue30工程"><a class="anchor" href="#3创建vue30工程">#</a> 3. 创建 Vue3.0 工程</h2><h3 id="1使用vue-cli创建"><a class="anchor" href="#1使用vue-cli创建">#</a> 1. 使用 vue-cli 创建</h3><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>## 查看@vue<span class="token operator">/</span>cli版本，确保@vue<span class="token operator">/</span>cli版本在<span class="token number">4.5</span><span class="token number">.0</span>以上</pre></td></tr><tr><td data-num="2"></td><td><pre>vue <span class="token operator">--</span>version  或者 vue <span class="token operator">-</span><span class="token constant">V</span></pre></td></tr><tr><td data-num="3"></td><td><pre>## 安装或者升级你的@vue<span class="token operator">/</span>cli</pre></td></tr><tr><td data-num="4"></td><td><pre>npm install <span class="token operator">-</span>g @vue<span class="token operator">/</span>cli</pre></td></tr><tr><td data-num="5"></td><td><pre>## 创建</pre></td></tr><tr><td data-num="6"></td><td><pre>vue create vue<span class="token operator">-</span>text   <span class="token operator">/</span>或者使用 <span class="token function">node自带的</span><span class="token punctuation">(</span>如果升级不了@vue<span class="token operator">/</span>cli<span class="token punctuation">)</span>    npx @vue<span class="token operator">/</span>cli create my<span class="token operator">-</span>app</pre></td></tr><tr><td data-num="7"></td><td><pre>## 启动</pre></td></tr><tr><td data-num="8"></td><td><pre>cd vue<span class="token operator">-</span>text</pre></td></tr><tr><td data-num="9"></td><td><pre>npm run serve</pre></td></tr></table></figure><h3 id="2使用vite创建"><a class="anchor" href="#2使用vite创建">#</a> 2. 使用 vite 创建</h3><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre>## 什么是vite<span class="token operator">?</span>   </pre></td></tr><tr><td data-num="2"></td><td><pre>新一代前端构建工具</pre></td></tr><tr><td data-num="3"></td><td><pre>## 优势</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">1.</span>开发环境中<span class="token punctuation">,</span>无需打包操作，可快速的冷启动</pre></td></tr><tr><td data-num="5"></td><td><pre><span class="token number">2.</span><span class="token function">轻量快速的热重载</span><span class="token punctuation">(</span><span class="token constant">HMR</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token number">3.</span>真正的按需编译，不再等待整个应用编译完成</pre></td></tr><tr><td data-num="7"></td><td><pre>## 创建工程</pre></td></tr><tr><td data-num="8"></td><td><pre>npm init  vite<span class="token operator">-</span>app <span class="token operator">&lt;</span>project<span class="token operator">-</span>name<span class="token operator">></span></pre></td></tr><tr><td data-num="9"></td><td><pre>## 进入工程目录</pre></td></tr><tr><td data-num="10"></td><td><pre>cd <span class="token operator">&lt;</span>project<span class="token operator">-</span>name<span class="token operator">></span></pre></td></tr><tr><td data-num="11"></td><td><pre>## 安装依赖</pre></td></tr><tr><td data-num="12"></td><td><pre>npm install</pre></td></tr><tr><td data-num="13"></td><td><pre>## 运行</pre></td></tr><tr><td data-num="14"></td><td><pre>npm run dev</pre></td></tr></table></figure><h2 id="4常用composition-api"><a class="anchor" href="#4常用composition-api">#</a> 4. 常用 Composition API</h2><h3 id="1拉开序幕的setup"><a class="anchor" href="#1拉开序幕的setup">#</a> 1. 拉开序幕的 setup</h3><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">1.</span>理解：vue3<span class="token punctuation">.</span><span class="token number">0</span>中的一个新的配置项。值为一个函数</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">2</span><span class="token punctuation">.</span>setups是所有Composition <span class="token constant">API</span><span class="token punctuation">(</span>组合api<span class="token punctuation">)</span> “表演的舞台”</pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">3.</span>组件中所有用到的：数据，方法等等。均要配置在setup中</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">4</span><span class="token punctuation">.</span>setup函数的两种返回值：</pre></td></tr><tr><td data-num="5"></td><td><pre>	<span class="token number">1.</span>若返回一个对象，则对象中的属性，方法，在模板中直接使用</pre></td></tr><tr><td data-num="6"></td><td><pre>    <span class="token number">2.</span><span class="token function">若返回画一个渲染函数，则可以自定义渲染内容</span><span class="token punctuation">(</span>了解即可<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="7"></td><td><pre><span class="token number">5.</span>注意点</pre></td></tr><tr><td data-num="8"></td><td><pre>	<span class="token number">1.</span>尽量不要与Vue2<span class="token punctuation">.</span>x配置混用</pre></td></tr><tr><td data-num="9"></td><td><pre>	<span class="token number">2.</span>但在setup中不能访问到Vue2<span class="token punctuation">.</span><span class="token function">x配置</span><span class="token punctuation">(</span>data<span class="token punctuation">,</span>methsds<span class="token punctuation">,</span>computed<span class="token operator">...</span><span class="token punctuation">)</span></pre></td></tr><tr><td data-num="10"></td><td><pre>	<span class="token number">3.</span>如果重名，setup优先</pre></td></tr></table></figure><h3 id="2ref函数"><a class="anchor" href="#2ref函数">#</a> 2.ref 函数</h3><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">1.</span>作用：定义一个响应式的数据</pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">2.</span>语法 ： <span class="token keyword">const</span> xxx <span class="token operator">=</span> <span class="token function">ref</span><span class="token punctuation">(</span>initValue<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre>	<span class="token number">1.</span>创建一个响应式的数据的引用对象</pre></td></tr><tr><td data-num="4"></td><td><pre>    <span class="token number">2</span><span class="token punctuation">.</span>js操作数据</pre></td></tr><tr><td data-num="5"></td><td><pre>    <span class="token number">3.</span>模板中读取数据：不需要  <span class="token punctuation">.</span>value  直接 <span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span>swig￼<span class="token number">10</span><span class="token operator">--</span><span class="token operator">></span><span class="token operator">&lt;</span>div<span class="token operator">/</span><span class="token operator">></span></pre></td></tr><tr><td data-num="6"></td><td><pre><span class="token number">3.</span>备注：</pre></td></tr><tr><td data-num="7"></td><td><pre>	<span class="token number">1.</span>接收数据可以是基本类型，也可以是对象类型</pre></td></tr><tr><td data-num="8"></td><td><pre>    <span class="token number">2.</span>基本类型的数据：响应式依然是靠Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 的<span class="token keyword">get</span>和<span class="token keyword">set</span></pre></td></tr><tr><td data-num="9"></td><td><pre>    <span class="token number">3.</span>对象类型的数据： 内部求助了Vue3<span class="token punctuation">.</span><span class="token number">0</span>中的一个新的函数  <span class="token operator">-</span> reactive</pre></td></tr></table></figure><h3 id="3reactive"><a class="anchor" href="#3reactive">#</a> 3.reactive</h3><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token number">1.</span><span class="token function">作用：定义一个对象类型的响应式数据</span><span class="token punctuation">(</span>基本类型别用它，用ref函数<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="2"></td><td><pre><span class="token number">2.</span>语法 <span class="token keyword">const</span> 代理对象  <span class="token operator">=</span> <span class="token function">reactive</span><span class="token punctuation">(</span>被代理对象<span class="token punctuation">)</span>接收一个对象或者数组<span class="token punctuation">,</span><span class="token function">返回一个代理器对象</span><span class="token punctuation">(</span>proxy对象<span class="token punctuation">)</span></pre></td></tr><tr><td data-num="3"></td><td><pre><span class="token number">3</span><span class="token punctuation">.</span>reactive定义的响应数据是深层次的</pre></td></tr><tr><td data-num="4"></td><td><pre><span class="token number">4.</span>内部基于<span class="token constant">ES6</span>的proxy，通过代理对象对原数据内部数据都是响应式的</pre></td></tr></table></figure><h1 id="八vue3x脚手架相关"><a class="anchor" href="#八vue3x脚手架相关">#</a> 八：vue3.X 脚手架相关</h1><h3 id="1shims-vuedts-文件的作用"><a class="anchor" href="#1shims-vuedts-文件的作用">#</a> 1.shims-vue.d.ts 文件的作用</h3><figure class="highlight javascript"><figcaption data-lang="javascript"></figcaption><table><tr><td data-num="1"></td><td><pre><span class="token comment">/**</span></pre></td></tr><tr><td data-num="2"></td><td><pre> * shims-vue.d.ts 的作用</pre></td></tr><tr><td data-num="3"></td><td><pre> * 为了 typescript 做的适配定义文件，因为.vue 文件不是一个常规的文件类型，ts 是不能理解 vue 文件是干嘛的，</pre></td></tr><tr><td data-num="4"></td><td><pre> * 加这一段是是告诉 ts，vue 文件是这种类型的。</pre></td></tr><tr><td data-num="5"></td><td><pre> * 可以把这一段删除，会发现 import 的所有 vue 类型的文件都会报错。</pre></td></tr><tr><td data-num="6"></td><td><pre> */</pre></td></tr><tr><td data-num="7"></td><td><pre></pre></td></tr><tr><td data-num="8"></td><td><pre>declare module <span class="token string">'*.vue'</span> <span class="token punctuation">&#123;</span> <span class="token comment">//declare 声明宣告， 声明一个 ambient module (即：没有内部实现的 module 声明) </span></pre></td></tr><tr><td data-num="9"></td><td><pre>  <span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">'vue'</span></pre></td></tr><tr><td data-num="10"></td><td><pre>  <span class="token keyword">export</span> <span class="token keyword">default</span> Vue</pre></td></tr><tr><td data-num="11"></td><td><pre><span class="token punctuation">&#125;</span></pre></td></tr><tr><td data-num="12"></td><td><pre></pre></td></tr><tr><td data-num="13"></td><td><pre>declare module <span class="token string">'vue-echarts'</span>  <span class="token comment">// 引入 vue-echarts</span></pre></td></tr><tr><td data-num="14"></td><td><pre></pre></td></tr><tr><td data-num="15"></td><td><pre><span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">"ts"</span><span class="token operator">></span></pre></td></tr><tr><td data-num="16"></td><td><pre>    <span class="token comment">/* eslint-disable @typescript-eslint/camelcase */</span></pre></td></tr><tr><td data-num="17"></td><td><pre>    <span class="token keyword">import</span> <span class="token punctuation">&#123;</span> Vue<span class="token punctuation">,</span> Component<span class="token punctuation">,</span> Watch <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">'vue-property-decorator'</span></pre></td></tr><tr><td data-num="18"></td><td><pre>    <span class="token keyword">import</span> ECharts <span class="token keyword">from</span> <span class="token string">'vue-echarts'</span> <span class="token comment">// 报错，按上面的方法在 shims-vue.d.ts 文件中引入即可</span></pre></td></tr><tr><td data-num="19"></td><td><pre>    <span class="token keyword">import</span> <span class="token string">'echarts/lib/chart/line'</span></pre></td></tr><tr><td data-num="20"></td><td><pre>    <span class="token keyword">import</span> <span class="token string">'echarts/lib/chart/pie'</span></pre></td></tr><tr><td data-num="21"></td><td><pre>    <span class="token keyword">import</span> <span class="token string">'echarts/lib/component/tooltip'</span></pre></td></tr><tr><td data-num="22"></td><td><pre><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></pre></td></tr></table></figure><h1 id="八vue-性能优化"><a class="anchor" href="#八vue-性能优化">#</a> 八：vue 性能优化</h1><h2 id="1ssr"><a class="anchor" href="#1ssr">#</a> 1.SSR</h2><h2 id="2同构"><a class="anchor" href="#2同构">#</a> 2. 同构</h2><h2 id="3常见性能优化策略"><a class="anchor" href="#3常见性能优化策略">#</a> 3. 常见性能优化策略</h2><h1 id="九自动化测试"><a class="anchor" href="#九自动化测试">#</a> 九：自动化测试</h1><h2 id="1单元测试"><a class="anchor" href="#1单元测试">#</a> 1. 单元测试</h2><h2 id="2e2e测试"><a class="anchor" href="#2e2e测试">#</a> 2.E2E 测试</h2><div class="tags"><a href="/tags/Vue/" rel="tag"><i class="ic i-tag"></i> Vue</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">更新于</span> <time title="修改时间：2023-06-29 20:41:09" itemprop="dateModified" datetime="2023-06-29T20:41:09+08:00">2023-06-29</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> 赞赏</button><p>请我喝[茶]~(￣▽￣)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="Yn 微信支付"><p>微信支付</p></div><div><img data-src="/images/alipay.png" alt="Yn 支付宝"><p>支付宝</p></div></div></div><div id="copyright"><ul><li class="author"><strong>本文作者： </strong>Yn <i class="ic i-at"><em>@</em></i>死肥宅</li><li class="link"><strong>本文链接：</strong> <a href="http://yoursite.com/front-end/vue%E5%B8%B8%E7%94%A8%E5%9F%BA%E7%A1%80/" title="vue常用基础">http://yoursite.com/front-end/vue常用基础/</a></li><li class="license"><strong>版权声明： </strong>本站所有文章除特别声明外，均采用 <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> 许可协议。转载请注明出处！</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/front-end/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7html%20js%20%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gicliwyw55j20zk0m8hdt.jpg" title="微信公众号html js 实现登录"><span class="type">上一篇</span> <span class="category"><i class="ic i-flag"></i> 微信公众号</span><h3>微信公众号html js 实现登录</h3></a></div><div class="item right"><a href="/front-end/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%A6%96%E5%B1%8F%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giclhpw3lwj20zk0m8gvw.jpg" title="小程序首屏性能优化"><span class="type">下一篇</span> <span class="category"><i class="ic i-flag"></i> 小程序</span><h3>小程序首屏性能优化</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="文章目录"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%80vue%E5%9F%BA%E7%A1%80"><span class="toc-number">1.</span> <span class="toc-text">一：Vue 基础</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1vue%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E5%92%8C%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90%E5%87%BD%E6%95%B0"><span class="toc-number">1.1.</span> <span class="toc-text">1：vue 生命周期和生命周期钩子函数？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2v-show%E4%B8%8Ev-if%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.2.</span> <span class="toc-text">2：v-show 与 v-if 的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E5%BC%80%E5%8F%91%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84%E6%8C%87%E4%BB%A4%E6%9C%89%E5%93%AA%E4%BA%9B"><span class="toc-number">1.3.</span> <span class="toc-text">3：开发中常用的指令有哪些？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E7%BB%91%E5%AE%9Aclass%E7%9A%84%E6%95%B0%E7%BB%84%E7%94%A8%E6%B3%95"><span class="toc-number">1.4.</span> <span class="toc-text">4：绑定 class 的数组用法</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E5%92%8Cmethods"><span class="toc-number">1.5.</span> <span class="toc-text">5：计算属性和 methods</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6computed%E8%AE%A1%E7%AE%97%E5%B1%9E%E6%80%A7%E5%92%8Cwatch%E7%9B%91%E5%90%AC%E7%9A%84%E5%AF%B9%E6%AF%94"><span class="toc-number">1.6.</span> <span class="toc-text">6：computed (计算属性) 和 watch (监听) 的对比</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7vue%E7%BB%84%E4%BB%B6%E7%9A%84scoped%E5%B1%9E%E6%80%A7%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.7.</span> <span class="toc-text">7：vue 组件的 scoped 属性的作用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8vue%E5%B8%B8%E7%94%A8%E4%BF%AE%E9%A5%B0%E7%AC%A6"><span class="toc-number">1.8.</span> <span class="toc-text">8：vue 常用修饰符</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9v-on%E5%8F%AF%E4%BB%A5%E7%9B%91%E5%90%AC%E5%A4%9A%E4%B8%AA%E4%BA%8B%E4%BB%B6%E5%A4%84%E7%90%86%E5%90%97%E5%8F%AF%E4%BB%A5%E7%9A%84"><span class="toc-number">1.9.</span> <span class="toc-text">9：v-on 可以监听多个事件处理吗？（可以的）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10vue%E4%BA%8B%E4%BB%B6%E4%B8%AD%E4%BD%BF%E7%94%A8event%E5%AF%B9%E8%B1%A1"><span class="toc-number">1.10.</span> <span class="toc-text">10：vue 事件中使用 event 对象</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11nexttick"><span class="toc-number">1.11.</span> <span class="toc-text">11：nextTick</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13vue%E7%BB%84%E4%BB%B6%E9%97%B4%E4%BC%A0%E9%80%92%E6%95%B0%E6%8D%AE%E7%9A%84%E6%96%B9%E5%BC%8F"><span class="toc-number">1.12.</span> <span class="toc-text">13：Vue 组件间传递数据的方式</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1props%E9%85%8D%E7%BD%AE%E9%A1%B9%E7%88%B6%E4%BC%A0%E5%AD%90-or-%E5%AD%90%E4%BC%A0%E7%88%B6"><span class="toc-number">1.12.1.</span> <span class="toc-text">1.props 配置项 (父传子 or 子传父)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E7%BB%84%E4%BB%B6%E7%9A%84%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6%E5%AD%90%E4%BC%A0%E7%88%B6"><span class="toc-number">1.12.2.</span> <span class="toc-text">2. 组件的自定义事件 (子传父)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3%E5%85%A8%E5%B1%80%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BFglobaleventbus"><span class="toc-number">1.12.3.</span> <span class="toc-text">3. 全局事件总线（GlobalEventBus）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4%E6%B6%88%E6%81%AF%E8%AE%A2%E9%98%85%E4%B8%8E%E5%8F%91%E5%B8%83pubsub"><span class="toc-number">1.12.4.</span> <span class="toc-text">4. 消息订阅与发布（pubsub）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5prvide-inject"><span class="toc-number">1.12.5.</span> <span class="toc-text">5：prvide &amp; inject</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6%E6%95%B4%E5%90%88"><span class="toc-number">1.12.6.</span> <span class="toc-text">6：整合</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14vue%E6%9B%B4%E6%96%B0%E5%93%8D%E5%BA%94%E5%BC%8F%E7%9A%84%E7%BC%BA%E9%99%B7%E5%92%8Cset%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">1.13.</span> <span class="toc-text">14：vue 更新响应式的缺陷和 $set 的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15vue%E8%8E%B7%E5%8F%96dom%E5%85%83%E7%B4%A0%E8%8A%82%E7%82%B9%E5%B9%B6%E6%93%8D%E4%BD%9C%E5%85%83%E7%B4%A0%E7%9A%84%E6%A0%B7%E5%BC%8F"><span class="toc-number">1.14.</span> <span class="toc-text">15：Vue 获取 dom 元素节点并操作元素的样式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16forceupdate"><span class="toc-number">1.15.</span> <span class="toc-text">16：forceUpdate</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17mixin%E6%B7%B7%E5%85%A5"><span class="toc-number">1.16.</span> <span class="toc-text">17：mixin (混入)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#18%E6%8F%92%E4%BB%B6"><span class="toc-number">1.17.</span> <span class="toc-text">18：插件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#19%E6%8F%92%E6%A7%BD"><span class="toc-number">1.18.</span> <span class="toc-text">19：插槽</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#20-vue-%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E6%89%A7%E8%A1%8C%E9%A1%BA%E5%BA%8F%E7%88%B6%E5%AD%90%E7%BB%84%E4%BB%B6"><span class="toc-number">1.19.</span> <span class="toc-text">20: vue 生命周期执行顺序 (父子组件)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#21-%E8%B0%88%E8%B0%88%E4%BD%A0%E5%AF%B9-keep-alive-%E7%9A%84%E4%BA%86%E8%A7%A3"><span class="toc-number">1.20.</span> <span class="toc-text">21. 谈谈你对 keep-alive 的了解？</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%8Cvue-router"><span class="toc-number">2.</span> <span class="toc-text">二：Vue-Router</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">2.1.</span> <span class="toc-text">1. 基本使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E5%87%A0%E4%B8%AA%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-number">2.2.</span> <span class="toc-text">2. 几个注意点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E5%A4%9A%E7%BA%A7%E8%B7%AF%E7%94%B1%E5%A4%9A%E7%BA%A7%E8%B7%AF%E7%94%B1"><span class="toc-number">2.3.</span> <span class="toc-text">3. 多级路由（多级路由）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E8%B7%AF%E7%94%B1%E7%9A%84query%E5%8F%82%E6%95%B0"><span class="toc-number">2.4.</span> <span class="toc-text">4. 路由的 query 参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5%E5%91%BD%E5%90%8D%E8%B7%AF%E7%94%B1"><span class="toc-number">2.5.</span> <span class="toc-text">5. 命名路由</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%E8%B7%AF%E7%94%B1%E7%9A%84params%E5%8F%82%E6%95%B0"><span class="toc-number">2.6.</span> <span class="toc-text">6. 路由的 params 参数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7%E8%B7%AF%E7%94%B1%E7%9A%84props%E9%85%8D%E7%BD%AE"><span class="toc-number">2.7.</span> <span class="toc-text">7. 路由的 props 配置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8router-link%E7%9A%84replace%E5%B1%9E%E6%80%A7"><span class="toc-number">2.8.</span> <span class="toc-text">8. &lt;router-link&gt; 的 replace 属性</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9%E7%BC%96%E7%A8%8B%E5%BC%8F%E8%B7%AF%E7%94%B1%E5%AF%BC%E8%88%AA"><span class="toc-number">2.9.</span> <span class="toc-text">9. 编程式路由导航</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10%E7%BC%93%E5%AD%98%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6"><span class="toc-number">2.10.</span> <span class="toc-text">10. 缓存路由组件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11%E4%B8%A4%E4%B8%AA%E6%96%B0%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90"><span class="toc-number">2.11.</span> <span class="toc-text">11. 两个新的生命周期钩子</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12%E8%B7%AF%E7%94%B1%E5%AE%88%E5%8D%AB"><span class="toc-number">2.12.</span> <span class="toc-text">12. 路由守卫</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13vue-router%E5%AE%9E%E7%8E%B0%E8%B7%AF%E7%94%B1%E6%87%92%E5%8A%A0%E8%BD%BD-%E5%8A%A8%E6%80%81%E5%8A%A0%E8%BD%BD%E8%B7%AF%E7%94%B1"><span class="toc-number">2.13.</span> <span class="toc-text">13.vue-router 实现路由懒加载（ 动态加载路由 ）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14vue-router%E5%A6%82%E4%BD%95%E5%93%8D%E5%BA%94-%E8%B7%AF%E7%94%B1%E5%8F%82%E6%95%B0-%E7%9A%84%E5%8F%98%E5%8C%96"><span class="toc-number">2.14.</span> <span class="toc-text">14.vue-router 如何响应 路由参数 的变化？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15route%E5%92%8Crouter%E7%9A%84%E5%8C%BA%E5%88%AB%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">2.15.</span> <span class="toc-text">15.route和route和route和 router 的区别是什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16hash%E5%92%8Chistory%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.16.</span> <span class="toc-text">16.hash 和 history 的区别</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17%E8%B7%AF%E7%94%B1%E9%89%B4%E6%9D%83"><span class="toc-number">2.17.</span> <span class="toc-text">17. 路由鉴权</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#18vue-router-%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%BC%8F%E6%9C%89%E5%87%A0%E7%A7%8D"><span class="toc-number">2.18.</span> <span class="toc-text">18.vue-router 路由模式有几种？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#19-%E8%83%BD%E8%AF%B4%E4%B8%8B-vue-router-%E4%B8%AD%E5%B8%B8%E7%94%A8%E7%9A%84-hash-%E5%92%8C-history-%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%BC%8F%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%E5%90%97"><span class="toc-number">2.19.</span> <span class="toc-text">19. 能说下 vue-router 中常用的 hash 和 history 路由模式实现原理吗？</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%89vuex"><span class="toc-number">3.</span> <span class="toc-text">三：Vuex</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E6%A6%82%E5%BF%B5"><span class="toc-number">3.1.</span> <span class="toc-text">1. 概念</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E4%BD%95%E6%97%B6%E4%BD%BF%E7%94%A8"><span class="toc-number">3.2.</span> <span class="toc-text">2. 何时使用？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E6%90%AD%E5%BB%BAvuex%E7%8E%AF%E5%A2%83"><span class="toc-number">3.3.</span> <span class="toc-text">3. 搭建 vuex 环境</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">3.4.</span> <span class="toc-text">4. 基本使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5getters%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.5.</span> <span class="toc-text">5.getters 的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6%E5%9B%9B%E4%B8%AAmap%E6%96%B9%E6%B3%95%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">3.6.</span> <span class="toc-text">6. 四个 map 方法的使用</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7%E6%A8%A1%E5%9D%97%E5%8C%96%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4"><span class="toc-number">3.7.</span> <span class="toc-text">7. 模块化 + 命名空间</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8vuex-state%E6%95%B0%E6%8D%AE%E7%9A%84%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A"><span class="toc-number">3.8.</span> <span class="toc-text">8：Vuex state 数据的双向绑定</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9%E7%9B%B8%E5%85%B3%E6%96%87%E6%A1%A3%E5%86%99%E7%9A%84%E6%AF%94%E8%BE%83%E5%A5%BD%E7%9A%84%E6%96%87%E6%A1%A3"><span class="toc-number">3.9.</span> <span class="toc-text">9. 相关文档 (写的比较好的文档)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10%E7%AE%80%E8%A6%81%E6%A6%82%E6%8B%ACvuex"><span class="toc-number">3.10.</span> <span class="toc-text">10. 简要概括 vuex</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%9Bvue%E4%B8%AD%E7%9A%84%E5%BC%80%E5%8F%91%E7%BB%8F%E9%AA%8C"><span class="toc-number">4.</span> <span class="toc-text">四：Vue 中的开发经验</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E6%90%AD%E5%BB%BAvue%E8%84%9A%E6%89%8B%E6%9E%B6vue-cli%E5%B9%B6%E5%88%9B%E5%BB%BA%E4%B8%80%E4%B8%AA%E9%A1%B9%E7%9B%AE"><span class="toc-number">4.1.</span> <span class="toc-text">1：搭建 Vue 脚手架（vue-cli）并创建一个项目</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E5%85%B3%E4%BA%8E%E4%B8%8D%E5%90%8C%E7%89%88%E6%9C%AC%E7%9A%84vue"><span class="toc-number">4.2.</span> <span class="toc-text">2：关于不同版本的 Vue</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3vueconfigjs%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">4.3.</span> <span class="toc-text">3：vue.config.js 配置文件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2vue%E4%B8%AD%E5%A6%82%E4%BD%95%E7%BC%96%E5%86%99%E5%8F%AF%E5%A4%8D%E7%94%A8%E7%9A%84%E7%BB%84%E4%BB%B6"><span class="toc-number">4.4.</span> <span class="toc-text">2：vue 中如何编写可复用的组件？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3vue%E7%88%B6%E7%BB%84%E4%BB%B6%E5%90%91%E5%AD%90%E7%BB%84%E4%BB%B6%E4%BC%A0%E5%AF%B9%E8%B1%A1%E4%B8%8D%E5%AE%9E%E6%97%B6%E6%9B%B4%E6%96%B0%E8%A7%A3%E5%86%B3"><span class="toc-number">4.5.</span> <span class="toc-text">3：vue 父组件向子组件传对象，不实时更新解决</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4is%E7%9A%84%E7%94%A8%E6%B3%95%E7%94%A8%E4%BA%8E%E5%8A%A8%E6%80%81%E7%BB%84%E4%BB%B6%E4%B8%94%E5%9F%BA%E4%BA%8E-dom-%E5%86%85%E6%A8%A1%E6%9D%BF%E7%9A%84%E9%99%90%E5%88%B6%E6%9D%A5%E5%B7%A5%E4%BD%9C"><span class="toc-number">4.6.</span> <span class="toc-text">4：is 的用法（用于动态组件且基于 DOM 内模板的限制来工作。）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5vue%E8%84%9A%E6%89%8B%E6%9E%B6%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86"><span class="toc-number">4.7.</span> <span class="toc-text">5：vue 脚手架配置代理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%B8%80"><span class="toc-number">4.7.1.</span> <span class="toc-text">方法一</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E4%BA%8C"><span class="toc-number">4.7.2.</span> <span class="toc-text">方法二</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BA%94vue%E6%BA%90%E7%A0%81%E5%8E%9F%E7%90%86"><span class="toc-number">5.</span> <span class="toc-text">五：Vue 源码原理</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1vuejs2x%E7%9A%84%E4%B8%A4%E4%B8%AA%E6%A0%B8%E5%BF%83%E6%98%AF%E4%BB%80%E4%B9%88%E6%95%B0%E6%8D%AE%E9%A9%B1%E5%8A%A8-%E7%BB%84%E4%BB%B6%E7%B3%BB%E7%BB%9F"><span class="toc-number">5.1.</span> <span class="toc-text">1：vue.js2.x 的两个核心是什么 (数据驱动、组件系统。)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2vue%E6%95%B0%E6%8D%AE%E4%BB%A3%E7%90%86%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-number">5.2.</span> <span class="toc-text">2：VUE 数据代理的原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3vue-%E7%BB%84%E4%BB%B6%E4%B8%AD-data-%E4%B8%BA%E4%BB%80%E4%B9%88%E5%BF%85%E9%A1%BB%E6%98%AF%E5%87%BD%E6%95%B0"><span class="toc-number">5.3.</span> <span class="toc-text">3：Vue 组件中 data 为什么必须是函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4vue%E5%8F%8C%E5%90%91%E7%BB%91%E5%AE%9A%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-number">5.4.</span> <span class="toc-text">4：Vue 双向绑定的原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5vue%E7%9A%84diff%E7%AE%97%E6%B3%95%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93key%E7%9A%84%E4%BD%9C%E7%94%A8%E5%92%8C%E5%8E%9F%E7%90%86"><span class="toc-number">5.5.</span> <span class="toc-text">5：Vue 的 diff 算法（列表渲染 key 的作用和原理）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6vue%E6%98%AF%E6%80%8E%E4%B9%88%E6%A3%80%E6%B5%8B%E6%95%B0%E6%8D%AE%E7%9A%84%E6%94%B9%E5%8F%98%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-number">5.6.</span> <span class="toc-text">6：Vue 是怎么检测数据的改变的原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-v-model-%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-number">5.7.</span> <span class="toc-text">7. v-model 的原理？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8%E4%BD%BF%E7%94%A8%E8%BF%87-vue-ssr-%E5%90%97%E8%AF%B4%E8%AF%B4-ssr"><span class="toc-number">5.8.</span> <span class="toc-text">8. 使用过 Vue SSR 吗？说说 SSR？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-vue-%E6%A1%86%E6%9E%B6%E6%80%8E%E4%B9%88%E5%AE%9E%E7%8E%B0%E5%AF%B9%E8%B1%A1%E5%92%8C%E6%95%B0%E7%BB%84%E7%9A%84%E7%9B%91%E5%90%AC"><span class="toc-number">5.9.</span> <span class="toc-text">9. Vue 框架怎么实现对象和数组的监听？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-vue-%E6%80%8E%E4%B9%88%E7%94%A8-vmset-%E8%A7%A3%E5%86%B3%E5%AF%B9%E8%B1%A1%E6%96%B0%E5%A2%9E%E5%B1%9E%E6%80%A7%E4%B8%8D%E8%83%BD%E5%93%8D%E5%BA%94%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">5.10.</span> <span class="toc-text">10. Vue 怎么用 vm.$set () 解决对象新增属性不能响应的问题 ？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-%E8%99%9A%E6%8B%9F-dom-%E7%9A%84%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-number">5.11.</span> <span class="toc-text">11. 虚拟 DOM 的优缺点？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#12-%E8%99%9A%E6%8B%9F-dom-%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86"><span class="toc-number">5.12.</span> <span class="toc-text">12. 虚拟 DOM 实现原理？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-vue-%E4%B8%AD%E7%9A%84-key-%E6%9C%89%E4%BB%80%E4%B9%88%E4%BD%9C%E7%94%A8"><span class="toc-number">5.13.</span> <span class="toc-text">13. Vue 中的 key 有什么作用？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-%E4%BD%A0%E6%9C%89%E5%AF%B9-vue-%E9%A1%B9%E7%9B%AE%E8%BF%9B%E8%A1%8C%E5%93%AA%E4%BA%9B%E4%BC%98%E5%8C%96"><span class="toc-number">5.14.</span> <span class="toc-text">14. 你有对 Vue 项目进行哪些优化？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#15-%E5%AF%B9%E4%BA%8E-vue30-%E7%89%B9%E6%80%A7%E4%BD%A0%E6%9C%89%E4%BB%80%E4%B9%88%E4%BA%86%E8%A7%A3%E7%9A%84%E5%90%97"><span class="toc-number">5.15.</span> <span class="toc-text">15. 对于 vue3.0 特性你有什么了解的吗？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#16-%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86%E5%8F%98%E5%8C%96%E4%BE%A6%E6%B5%8B"><span class="toc-number">5.16.</span> <span class="toc-text">16. 响应式原理（变化侦测）</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#17-vue2%E5%92%8Cvue3%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F%E5%8E%9F%E7%90%86%E9%83%BD%E6%9C%89%E4%BB%80%E4%B9%88%E5%8C%BA%E5%88%AB%E5%91%A2"><span class="toc-number">5.17.</span> <span class="toc-text">17. vue2 和 vue3 的响应式原理都有什么区别呢？</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#18-vue-%E6%A8%A1%E6%9D%BF%E7%BC%96%E8%AF%91%E5%8E%9F%E7%90%86"><span class="toc-number">5.18.</span> <span class="toc-text">18. Vue 模板编译原理</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#19-vue%E5%8E%9F%E7%90%86%E6%80%BB%E7%BB%93"><span class="toc-number">5.19.</span> <span class="toc-text">19. Vue 原理总结</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%AD%E5%AF%B9vue%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">6.</span> <span class="toc-text">六：对 Vue 的理解</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E8%B0%88%E8%B0%88%E5%AF%B9mvvm%E7%9A%84%E7%90%86%E8%A7%A3"><span class="toc-number">6.1.</span> <span class="toc-text">1：谈谈对 MVVM 的理解</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2vue%E6%98%AF%E6%B8%90%E8%BF%9B%E5%BC%8F%E7%9A%84%E6%A1%86%E6%9E%B6%E7%9A%84%E7%90%86%E8%A7%A3%E4%B8%BB%E5%BC%A0%E6%9C%80%E5%B0%91%E6%B2%A1%E6%9C%89%E5%A4%9A%E5%81%9A%E8%81%8C%E8%B4%A3%E4%B9%8B%E5%A4%96%E7%9A%84%E4%BA%8B"><span class="toc-number">6.2.</span> <span class="toc-text">2：vue 是渐进式的框架的理解：(主张最少，没有多做职责之外的事)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3spa-%E5%8D%95%E9%A1%B5%E9%9D%A2%E5%BA%94%E7%94%A8%E5%8F%8A%E5%85%B6%E4%BC%98%E7%BC%BA%E7%82%B9"><span class="toc-number">6.3.</span> <span class="toc-text">3：SPA 单页面应用及其优缺点</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E6%80%8E%E6%A0%B7%E7%90%86%E8%A7%A3-vue-%E7%9A%84%E5%8D%95%E5%90%91%E6%95%B0%E6%8D%AE%E6%B5%81"><span class="toc-number">6.4.</span> <span class="toc-text">4：怎样理解 Vue 的单向数据流？</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B8%83vue3%E6%89%A9%E5%B1%95"><span class="toc-number">7.</span> <span class="toc-text">七：Vue3 扩展</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1vue3%E7%AE%80%E4%BB%8B"><span class="toc-number">7.1.</span> <span class="toc-text">1.VUE3 简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2vue3%E5%B8%A6%E6%9D%A5%E4%BA%86%E4%BB%80%E4%B9%88"><span class="toc-number">7.2.</span> <span class="toc-text">2.Vue3 带来了什么</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E5%88%9B%E5%BB%BAvue30%E5%B7%A5%E7%A8%8B"><span class="toc-number">7.3.</span> <span class="toc-text">3. 创建 Vue3.0 工程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E4%BD%BF%E7%94%A8vue-cli%E5%88%9B%E5%BB%BA"><span class="toc-number">7.3.1.</span> <span class="toc-text">1. 使用 vue-cli 创建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2%E4%BD%BF%E7%94%A8vite%E5%88%9B%E5%BB%BA"><span class="toc-number">7.3.2.</span> <span class="toc-text">2. 使用 vite 创建</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4%E5%B8%B8%E7%94%A8composition-api"><span class="toc-number">7.4.</span> <span class="toc-text">4. 常用 Composition API</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1%E6%8B%89%E5%BC%80%E5%BA%8F%E5%B9%95%E7%9A%84setup"><span class="toc-number">7.4.1.</span> <span class="toc-text">1. 拉开序幕的 setup</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2ref%E5%87%BD%E6%95%B0"><span class="toc-number">7.4.2.</span> <span class="toc-text">2.ref 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3reactive"><span class="toc-number">7.4.3.</span> <span class="toc-text">3.reactive</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%ABvue3x%E8%84%9A%E6%89%8B%E6%9E%B6%E7%9B%B8%E5%85%B3"><span class="toc-number">8.</span> <span class="toc-text">八：vue3.X 脚手架相关</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1shims-vuedts-%E6%96%87%E4%BB%B6%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">8.0.1.</span> <span class="toc-text">1.shims-vue.d.ts 文件的作用</span></a></li></ol></li></ol><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%85%ABvue-%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96"><span class="toc-number">9.</span> <span class="toc-text">八：vue 性能优化</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1ssr"><span class="toc-number">9.1.</span> <span class="toc-text">1.SSR</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2%E5%90%8C%E6%9E%84"><span class="toc-number">9.2.</span> <span class="toc-text">2. 同构</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3%E5%B8%B8%E8%A7%81%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E7%AD%96%E7%95%A5"><span class="toc-number">9.3.</span> <span class="toc-text">3. 常见性能优化策略</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%B9%9D%E8%87%AA%E5%8A%A8%E5%8C%96%E6%B5%8B%E8%AF%95"><span class="toc-number">10.</span> <span class="toc-text">九：自动化测试</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95"><span class="toc-number">10.1.</span> <span class="toc-text">1. 单元测试</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2e2e%E6%B5%8B%E8%AF%95"><span class="toc-number">10.2.</span> <span class="toc-text">2.E2E 测试</span></a></li></ol></li></div><div class="related panel pjax" data-title="系列文章"><ul><li class="active"><a href="/front-end/vue%E5%B8%B8%E7%94%A8%E5%9F%BA%E7%A1%80/" rel="bookmark" title="vue常用基础">vue常用基础</a></li></ul></div><div class="overview panel" data-title="站点概览"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="Yn" data-src="/images/avatar.jpg"><p class="name" itemprop="name">Yn</p><div class="description" itemprop="description">双马尾の罪</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">24</span> <span class="name">文章</span></a></div><div class="item categories"><a href="/categories/"><span class="count">23</span> <span class="name">分类</span></a></div><div class="item tags"><a href="/tags/"><span class="count">18</span> <span class="name">标签</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3BpbmstcG5n" title="https:&#x2F;&#x2F;github.com&#x2F;pink-png"><i class="ic i-github"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>首页</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>文章</a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>归档</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>分类</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>标签</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/front-end/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7html%20js%20%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95/" rel="prev" title="上一篇"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/front-end/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%A6%96%E5%B1%8F%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" rel="next" title="下一篇"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>随机文章</h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="分类于 前端开发">前端开发</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/Javascript/" title="分类于 Javascript">Javascript</a></div><span><a href="/front-end/JavaScript%E8%BF%90%E7%94%A8/" title="js运用">js运用</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="分类于 前端开发">前端开发</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%80%82%E9%85%8D/" title="分类于 移动端适配">移动端适配</a></div><span><a href="/front-end/%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%80%82%E9%85%8D/" title="移动端相关适配方案">移动端相关适配方案</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="分类于 前端开发">前端开发</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" title="分类于 前端性能优化">前端性能优化</a></div><span><a href="/front-end/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" title="前端性能优化">前端性能优化</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="分类于 前端开发">前端开发</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/Jquery/" title="分类于 Jquery">Jquery</a></div><span><a href="/front-end/Jquery/" title="Jquery基础">Jquery基础</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="分类于 前端开发">前端开发</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" title="分类于 前端性能优化">前端性能优化</a></div><span><a href="/front-end/%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96%E9%9D%A2%E8%AF%95/" title="前端性能优化三大方向">前端性能优化三大方向</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="分类于 前端开发">前端开发</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/css/" title="分类于 css">css</a></div><span><a href="/front-end/html+css%E9%9D%A2%E8%AF%95/" title="css面试">css面试</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="分类于 前端开发">前端开发</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%A4%A7%E5%89%8D%E7%AB%AF/" title="分类于 大前端">大前端</a></div><span><a href="/front-end/%E8%AE%B0%E4%B8%80%E6%AC%A1vue%E8%BD%ACuniapp/" title="记一次vue转uniapp">记一次vue转uniapp</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="分类于 前端开发">前端开发</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/Nodejs/" title="分类于 Nodejs">Nodejs</a></div><span><a href="/front-end/nodejs/" title="Nodejs基础">Nodejs基础</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%BC%80%E5%8F%91/" title="分类于 服务端开发">服务端开发</a> <i class="ic i-angle-right"></i> <a href="/categories/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%BC%80%E5%8F%91/java/" title="分类于 java">java</a> <i class="ic i-angle-right"></i> <a href="/categories/%E6%9C%8D%E5%8A%A1%E7%AB%AF%E5%BC%80%E5%8F%91/java/hello-world/" title="分类于 hello world">hello world</a></div><span><a href="/rear-end/java/hello-world/" title="hello world">hello world</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="分类于 前端开发">前端开发</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="分类于 前端设计模式">前端设计模式</a></div><span><a href="/front-end/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/" title="前端设计模式">前端设计模式</a></span></li></ul></div><div><h2>最新评论</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 – <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">Yn @ Yume Shoka</span></div><div class="powered-by">基于 <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"front-end/vue常用基础/",favicon:{show:"（●´3｀●）やれやれだぜ",hide:"(´Д｀)大変だ！"},search:{placeholder:"文章搜索",empty:"关于 「 ${query} 」，什么也没搜到",stats:"${time} ms 内找到 ${hits} 条结果"},valine:!0,fancybox:!0,copyright:'复制成功，转载请遵守 <i class="ic i-creative-commons"></i>BY-NC-SA 协议。',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>