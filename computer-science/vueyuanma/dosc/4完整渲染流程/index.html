<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="æ­»è‚¥å®…" href="https://pink-png.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="æ­»è‚¥å®…" href="https://pink-png.github.io/atom.xml"><link rel="alternate" type="application/json" title="æ­»è‚¥å®…" href="https://pink-png.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="Vue"><link rel="canonical" href="https://pink-png.github.io/computer-science/vueyuanma/dosc/4%E5%AE%8C%E6%95%B4%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B/"><title>Step.4 å®Œæ•´æ¸²æŸ“æµç¨‹ - vue2.xæºç  - Vue - è®¡ç®—æœºç§‘å­¦ | Yume Shoka = æ­»è‚¥å®… = è‚¥å®…å¿«ä¹æ°´</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Step.4 å®Œæ•´æ¸²æŸ“æµç¨‹</h1><div class="meta"><span class="item" title="åˆ›å»ºæ—¶é—´ï¼š2020-04-16 07:24:41"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">å‘è¡¨äº</span> <time itemprop="dateCreated datePublished" datetime="2020-04-16T07:24:41+08:00">2020-04-16</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Yume Shoka</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://cdn.cdnjson.com/tva4.sinaimg.cn/large/6833939bly1gipevgoki5j20zk0m84qp.jpg"></li><li class="item" data-background-image="https://cdn.cdnjson.com/tva4.sinaimg.cn/large/6833939bly1gipet8c1a2j20zk0m8kct.jpg"></li><li class="item" data-background-image="https://cdn.cdnjson.com/tva4.sinaimg.cn/large/6833939bly1giclg5ms2rj20zk0m8u0x.jpg"></li><li class="item" data-background-image="https://cdn.cdnjson.com/tva4.sinaimg.cn/large/6833939bly1giclxfdlttj20zk0m8npd.jpg"></li><li class="item" data-background-image="https://cdn.cdnjson.com/tva4.sinaimg.cn/large/6833939bly1giclwuom7cj20zk0m8dvn.jpg"></li><li class="item" data-background-image="https://cdn.cdnjson.com/tva4.sinaimg.cn/large/6833939bly1gipeybxm1pj20zk0m8niv.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">é¦–é¡µ</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/" itemprop="item" rel="index" title="åˆ†ç±»äº è®¡ç®—æœºç§‘å­¦"><span itemprop="name">è®¡ç®—æœºç§‘å­¦</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/vueyuanma/" itemprop="item" rel="index" title="åˆ†ç±»äº Vue"><span itemprop="name">Vue</span></a><meta itemprop="position" content="2"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/vueyuanma/dosc/" itemprop="item" rel="index" title="åˆ†ç±»äº vue2.xæºç "><span itemprop="name">vue2.xæºç </span></a><meta itemprop="position" content="3"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://pink-png.github.io/computer-science/vueyuanma/dosc/4%E5%AE%8C%E6%95%B4%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="sanxin98"><meta itemprop="description" content="è‚¥å®…å¿«ä¹æ°´, ç¼–ç¨‹ & ç”Ÿæ´»"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ­»è‚¥å®…"></span><div class="body md" itemprop="articleBody"><blockquote><p>ç»§ä¸Šä¸€èŠ‚å†…å®¹ï¼Œæˆ‘ä»¬å°†<code>Vue</code>å¤æ‚çš„æŒ‚è½½æµç¨‹é€šè¿‡å›¾è§£æµç¨‹ï¼Œä»£ç åˆ†æçš„æ–¹å¼ç®€å•æ¢³ç†äº†ä¸€éï¼Œæœ€åä¹Ÿè®²åˆ°äº†æ¨¡æ¿ç¼–è¯‘çš„å¤§è‡´æµç¨‹ã€‚ç„¶è€Œåœ¨æŒ‚è½½çš„æ ¸å¿ƒå¤„ï¼Œæˆ‘ä»¬å¹¶æ²¡æœ‰åˆ†ææ¨¡æ¿ç¼–è¯‘åæ¸²æŸ“å‡½æ•°æ˜¯å¦‚ä½•è½¬æ¢ä¸ºå¯è§†åŒ–<code>DOM</code>èŠ‚ç‚¹çš„ã€‚å› æ­¤è¿™ä¸€ç« èŠ‚ï¼Œæˆ‘ä»¬å°†é‡æ–°å›åˆ°<code>Vue</code>å®ä¾‹æŒ‚è½½çš„æœ€åä¸€ä¸ªç¯èŠ‚ï¼šæ¸²æŸ“<code>DOM</code>èŠ‚ç‚¹ã€‚åœ¨æ¸²æŸ“çœŸå®<code>DOM</code>çš„è¿‡ç¨‹ä¸­ï¼Œ<code>Vue</code>å¼•è¿›äº†è™šæ‹Ÿ<code>DOM</code>çš„æ¦‚å¿µï¼Œè¿™æ˜¯<code>Vue</code>æ¶æ„è®¾è®¡ä¸­å¦ä¸€ä¸ªé‡è¦çš„ç†å¿µã€‚è™šæ‹Ÿ<code>DOM</code>ä½œä¸º<code>JS</code>å¯¹è±¡å’ŒçœŸå®<code>DOM</code>ä¸­é—´çš„ä¸€ä¸ªç¼“å†²å±‚ï¼Œå¯¹<code>JS</code>é¢‘ç¹æ“ä½œ<code>DOM</code>çš„å¼•èµ·çš„æ€§èƒ½é—®é¢˜æœ‰å¾ˆå¥½çš„ç¼“è§£ä½œç”¨ã€‚</p></blockquote><h2 id="4-1-Virtual-DOM"><a href="#4-1-Virtual-DOM" class="headerlink" title="4.1 Virtual DOM"></a>4.1 Virtual DOM</h2><h3 id="4-1-1-æµè§ˆå™¨çš„æ¸²æŸ“æµç¨‹"><a href="#4-1-1-æµè§ˆå™¨çš„æ¸²æŸ“æµç¨‹" class="headerlink" title="4.1.1 æµè§ˆå™¨çš„æ¸²æŸ“æµç¨‹"></a>4.1.1 æµè§ˆå™¨çš„æ¸²æŸ“æµç¨‹</h3><p>å½“æµè§ˆå™¨æ¥æ”¶åˆ°ä¸€ä¸ª<code>Html</code>æ–‡ä»¶æ—¶ï¼Œ<code>JS</code>å¼•æ“å’Œæµè§ˆå™¨çš„æ¸²æŸ“å¼•æ“ä¾¿å¼€å§‹å·¥ä½œäº†ã€‚ä»æ¸²æŸ“å¼•æ“çš„è§’åº¦ï¼Œå®ƒé¦–å…ˆä¼šå°†<code>html</code>æ–‡ä»¶è§£ææˆä¸€ä¸ª<code>DOM</code>æ ‘ï¼Œä¸æ­¤åŒæ—¶ï¼Œæµè§ˆå™¨å°†è¯†åˆ«å¹¶åŠ è½½<code>CSS</code>æ ·å¼ï¼Œå¹¶å’Œ<code>DOM</code>æ ‘ä¸€èµ·åˆå¹¶ä¸ºä¸€ä¸ªæ¸²æŸ“æ ‘ã€‚æœ‰äº†æ¸²æŸ“æ ‘åï¼Œæ¸²æŸ“å¼•æ“å°†è®¡ç®—æ‰€æœ‰å…ƒç´ çš„ä½ç½®ä¿¡æ¯ï¼Œæœ€åé€šè¿‡ç»˜åˆ¶ï¼Œåœ¨å±å¹•ä¸Šæ‰“å°æœ€ç»ˆçš„å†…å®¹ã€‚<code>JS</code>å¼•æ“å’Œæ¸²æŸ“å¼•æ“è™½ç„¶æ˜¯ä¸¤ä¸ªç‹¬ç«‹çš„çº¿ç¨‹ï¼Œä½†æ˜¯JSå¼•æ“å´å¯ä»¥è§¦å‘æ¸²æŸ“å¼•æ“å·¥ä½œï¼Œå½“æˆ‘ä»¬é€šè¿‡è„šæœ¬å»ä¿®æ”¹å…ƒç´ ä½ç½®æˆ–å¤–è§‚æ—¶ï¼Œ<code>JS</code>å¼•æ“ä¼šåˆ©ç”¨<code>DOM</code>ç›¸å…³çš„<code>API</code>æ–¹æ³•å»æ“ä½œ<code>DOM</code>å¯¹è±¡,æ­¤æ—¶æ¸²æŸ“å¼•æ“å˜å¼€å§‹å·¥ä½œï¼Œæ¸²æŸ“å¼•æ“ä¼šè§¦å‘å›æµæˆ–è€…é‡ç»˜ã€‚ä¸‹é¢æ˜¯å›æµé‡ç»˜çš„ä¸¤ä¸ªæ¦‚å¿µï¼š</p><ul><li>å›æµï¼š å½“æˆ‘ä»¬å¯¹<code>DOM</code>çš„ä¿®æ”¹å¼•å‘äº†å…ƒç´ å°ºå¯¸çš„å˜åŒ–æ—¶ï¼Œæµè§ˆå™¨éœ€è¦é‡æ–°è®¡ç®—å…ƒç´ çš„å¤§å°å’Œä½ç½®ï¼Œæœ€åå°†é‡æ–°è®¡ç®—çš„ç»“æœç»˜åˆ¶å‡ºæ¥ï¼Œè¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºå›æµã€‚</li><li>é‡ç»˜ï¼š å½“æˆ‘ä»¬å¯¹<code>DOM</code>çš„ä¿®æ”¹åªå•çº¯æ”¹å˜å…ƒç´ çš„é¢œè‰²æ—¶ï¼Œæµè§ˆå™¨æ­¤æ—¶å¹¶ä¸éœ€è¦é‡æ–°è®¡ç®—å…ƒç´ çš„å¤§å°å’Œä½ç½®ï¼Œè€Œåªè¦é‡æ–°ç»˜åˆ¶æ–°æ ·å¼ã€‚è¿™ä¸ªè¿‡ç¨‹ç§°ä¸ºé‡ç»˜ã€‚</li></ul><p><strong>å¾ˆæ˜¾ç„¶å›æµæ¯”é‡ç»˜æ›´åŠ è€—è´¹æ€§èƒ½</strong>ã€‚</p><p>é€šè¿‡äº†è§£æµè§ˆå™¨åŸºæœ¬çš„æ¸²æŸ“æœºåˆ¶ï¼Œæˆ‘ä»¬å¾ˆå®¹æ˜“è”æƒ³åˆ°å½“ä¸æ–­çš„é€šè¿‡<code>JS</code>ä¿®æ”¹<code>DOM</code>æ—¶ï¼Œä¸ç»æ„é—´ä¼šè§¦å‘åˆ°æ¸²æŸ“å¼•æ“çš„å›æµæˆ–è€…é‡ç»˜ï¼Œè¿™ä¸ªæ€§èƒ½å¼€é”€æ˜¯éå¸¸å·¨å¤§çš„ã€‚å› æ­¤ä¸ºäº†é™ä½å¼€é”€ï¼Œæˆ‘ä»¬éœ€è¦åšçš„æ˜¯å°½å¯èƒ½å‡å°‘<code>DOM</code>æ“ä½œã€‚æœ‰ä»€ä¹ˆæ–¹æ³•å¯ä»¥åšåˆ°å‘¢ï¼Ÿ</p><h3 id="4-1-2-ç¼“å†²å±‚-è™šæ‹ŸDOM"><a href="#4-1-2-ç¼“å†²å±‚-è™šæ‹ŸDOM" class="headerlink" title="4.1.2 ç¼“å†²å±‚-è™šæ‹ŸDOM"></a>4.1.2 ç¼“å†²å±‚-è™šæ‹ŸDOM</h3><p>è™šæ‹Ÿ<code>DOM</code>æ˜¯ä¸ºäº†è§£å†³é¢‘ç¹æ“ä½œ<code>DOM</code>å¼•å‘æ€§èƒ½é—®é¢˜çš„äº§ç‰©ã€‚è™šæ‹Ÿ<code>DOM</code>(ä¸‹é¢ç§°ä¸º<code>Virtual DOM</code>)æ˜¯å°†é¡µé¢çš„çŠ¶æ€æŠ½è±¡ä¸º<code>JS</code>å¯¹è±¡çš„å½¢å¼ï¼Œæœ¬è´¨ä¸Šæ˜¯<code>JS</code>å’ŒçœŸå®<code>DOM</code>çš„ä¸­é—´å±‚ï¼Œå½“æˆ‘ä»¬æƒ³ç”¨<code>JS</code>è„šæœ¬å¤§æ‰¹é‡è¿›è¡Œ<code>DOM</code>æ“ä½œæ—¶ï¼Œä¼šä¼˜å…ˆä½œç”¨äº<code>Virtual DOM</code>è¿™ä¸ª<code>JS</code>å¯¹è±¡ï¼Œæœ€åé€šè¿‡å¯¹æ¯”å°†è¦æ”¹åŠ¨çš„éƒ¨åˆ†é€šçŸ¥å¹¶æ›´æ–°åˆ°çœŸå®çš„<code>DOM</code>ã€‚å°½ç®¡æœ€ç»ˆè¿˜æ˜¯æ“ä½œçœŸå®çš„<code>DOM</code>ï¼Œä½†<code>Virtual DOM</code>å¯ä»¥å°†å¤šä¸ªæ”¹åŠ¨åˆå¹¶æˆä¸€ä¸ªæ‰¹é‡çš„æ“ä½œï¼Œä»è€Œå‡å°‘ <code>DOM</code> é‡æ’çš„æ¬¡æ•°ï¼Œè¿›è€Œç¼©çŸ­äº†ç”Ÿæˆæ¸²æŸ“æ ‘å’Œç»˜åˆ¶æ‰€èŠ±çš„æ—¶é—´ã€‚</p><p>æˆ‘ä»¬çœ‹ä¸€ä¸ªçœŸå®çš„<code>DOM</code>åŒ…å«äº†ä»€ä¹ˆï¼š</p><p><img data-src="/images/img/4.1.png"><br>æµè§ˆå™¨å°†ä¸€ä¸ªçœŸå®<code>DOM</code>è®¾è®¡å¾—å¾ˆå¤æ‚ï¼Œä¸ä»…åŒ…å«äº†è‡ªèº«çš„å±æ€§æè¿°ï¼Œå¤§å°ä½ç½®ç­‰å®šä¹‰ï¼Œä¹Ÿå›Šæ‹¬äº†<code>DOM</code>æ‹¥æœ‰çš„æµè§ˆå™¨äº‹ä»¶ç­‰ã€‚æ­£å› ä¸ºå¦‚æ­¤å¤æ‚çš„ç»“æ„ï¼Œæˆ‘ä»¬é¢‘ç¹å»æ“ä½œ<code>DOM</code>æˆ–å¤šæˆ–å°‘ä¼šå¸¦æ¥æµè§ˆå™¨çš„æ€§èƒ½é—®é¢˜ã€‚è€Œä½œä¸ºæ•°æ®å’ŒçœŸå®<code>DOM</code>ä¹‹é—´çš„ä¸€å±‚ç¼“å†²ï¼Œ<code>Virtual DOM</code> åªæ˜¯ç”¨æ¥æ˜ å°„åˆ°çœŸå®<code>DOM</code>çš„æ¸²æŸ“ï¼Œå› æ­¤ä¸éœ€è¦åŒ…å«æ“ä½œ <code>DOM</code> çš„æ–¹æ³•ï¼Œå®ƒåªè¦åœ¨å¯¹è±¡ä¸­é‡ç‚¹å…³æ³¨å‡ ä¸ªå±æ€§å³å¯ã€‚</p><pre><code class="js">// çœŸå®DOM
&lt;div id=&quot;real&quot;&gt;&lt;span&gt;dom&lt;/span&gt;&lt;/div&gt;

// çœŸå®DOMå¯¹åº”çš„JSå¯¹è±¡
&#123;
    tag: &#39;div&#39;,
    data: &#123;
        id: &#39;real&#39;
    &#125;,
    children: [&#123;
        tag: &#39;span&#39;,
        children: &#39;dom&#39;
    &#125;]
&#125;
</code></pre><h2 id="4-2-Vnode"><a href="#4-2-Vnode" class="headerlink" title="4.2 Vnode"></a>4.2 Vnode</h2><p><code>Vue</code>åœ¨æ¸²æŸ“æœºåˆ¶çš„ä¼˜åŒ–ä¸Šï¼ŒåŒæ ·å¼•è¿›äº†<code>virtual dom</code>çš„æ¦‚å¿µï¼Œå®ƒæ˜¯ç”¨<code>Vnode</code>è¿™ä¸ªæ„é€ å‡½æ•°å»æè¿°ä¸€ä¸ª<code>DOM</code>èŠ‚ç‚¹ã€‚</p><h3 id="4-2-1-Vnodeæ„é€ å‡½æ•°"><a href="#4-2-1-Vnodeæ„é€ å‡½æ•°" class="headerlink" title="4.2.1 Vnodeæ„é€ å‡½æ•°"></a>4.2.1 Vnodeæ„é€ å‡½æ•°</h3><pre><code class="js">var VNode = function VNode (tag,data,children,text,elm,context,componentOptions,asyncFactory) &#123;
    this.tag = tag; // æ ‡ç­¾
    this.data = data;  // æ•°æ®
    this.children = children; // å­èŠ‚ç‚¹
    this.text = text;
    Â·Â·Â·
    Â·Â·Â·
  &#125;;
</code></pre><p><code>Vnode</code>å®šä¹‰çš„å±æ€§å·®ä¸å¤šæœ‰20å‡ ä¸ªï¼Œæ˜¾ç„¶ç”¨<code>Vnode</code>å¯¹è±¡è¦æ¯”çœŸå®<code>DOM</code>å¯¹è±¡æè¿°çš„å†…å®¹è¦ç®€å•å¾—å¤šï¼Œå®ƒåªç”¨æ¥å•çº¯æè¿°èŠ‚ç‚¹çš„å…³é”®å±æ€§ï¼Œä¾‹å¦‚æ ‡ç­¾åï¼Œæ•°æ®ï¼Œå­èŠ‚ç‚¹ç­‰ã€‚å¹¶æ²¡æœ‰ä¿ç•™è·Ÿæµè§ˆå™¨ç›¸å…³çš„<code>DOM</code>æ–¹æ³•ã€‚é™¤æ­¤ä¹‹å¤–ï¼Œ<code>Vnode</code>ä¹Ÿä¼šæœ‰å…¶ä»–çš„å±æ€§ç”¨æ¥æ‰©å±•<code>Vue</code>çš„çµæ´»æ€§ã€‚</p><p>æºç ä¸­ä¹Ÿå®šä¹‰äº†åˆ›å»º<code>Vnode</code>çš„ç›¸å…³æ–¹æ³•ã€‚</p><h3 id="4-2-2-åˆ›å»ºVnodeæ³¨é‡ŠèŠ‚ç‚¹"><a href="#4-2-2-åˆ›å»ºVnodeæ³¨é‡ŠèŠ‚ç‚¹" class="headerlink" title="4.2.2 åˆ›å»ºVnodeæ³¨é‡ŠèŠ‚ç‚¹"></a>4.2.2 åˆ›å»ºVnodeæ³¨é‡ŠèŠ‚ç‚¹</h3><pre><code class="js">// åˆ›å»ºæ³¨é‡ŠvnodeèŠ‚ç‚¹
var createEmptyVNode = function (text) &#123;
    if ( text === void 0 ) text = &#39;&#39;;

    var node = new VNode();
    node.text = text;
    node.isComment = true; // æ ‡è®°æ³¨é‡ŠèŠ‚ç‚¹
    return node
&#125;;
</code></pre><h3 id="4-2-3-åˆ›å»ºVnodeæ–‡æœ¬èŠ‚ç‚¹"><a href="#4-2-3-åˆ›å»ºVnodeæ–‡æœ¬èŠ‚ç‚¹" class="headerlink" title="4.2.3 åˆ›å»ºVnodeæ–‡æœ¬èŠ‚ç‚¹"></a>4.2.3 åˆ›å»ºVnodeæ–‡æœ¬èŠ‚ç‚¹</h3><pre><code class="js">// åˆ›å»ºæ–‡æœ¬vnodeèŠ‚ç‚¹
function createTextVNode (val) &#123;
    return new VNode(undefined, undefined, undefined, String(val))
&#125;
</code></pre><h3 id="4-2-4-å…‹éš†vnode"><a href="#4-2-4-å…‹éš†vnode" class="headerlink" title="4.2.4 å…‹éš†vnode"></a>4.2.4 å…‹éš†vnode</h3><pre><code class="js">function cloneVNode (vnode) &#123;
    var cloned = new VNode(
      vnode.tag,
      vnode.data,
      vnode.children &amp;&amp; vnode.children.slice(),
      vnode.text,
      vnode.elm,
      vnode.context,
      vnode.componentOptions,
      vnode.asyncFactory
    );
    cloned.ns = vnode.ns;
    cloned.isStatic = vnode.isStatic;
    cloned.key = vnode.key;
    cloned.isComment = vnode.isComment;
    cloned.fnContext = vnode.fnContext;
    cloned.fnOptions = vnode.fnOptions;
    cloned.fnScopeId = vnode.fnScopeId;
    cloned.asyncMeta = vnode.asyncMeta;
    cloned.isCloned = true;
    return cloned
  &#125;
</code></pre><p><strong>æ³¨æ„ï¼š<code>cloneVnode</code>å¯¹<code>Vnode</code>çš„å…‹éš†åªæ˜¯ä¸€å±‚æµ…æ‹·è´ï¼Œå®ƒä¸ä¼šå¯¹å­èŠ‚ç‚¹è¿›è¡Œæ·±åº¦å…‹éš†ã€‚</strong></p><h2 id="4-3-Virtual-DOMçš„åˆ›å»º"><a href="#4-3-Virtual-DOMçš„åˆ›å»º" class="headerlink" title="4.3 Virtual DOMçš„åˆ›å»º"></a>4.3 Virtual DOMçš„åˆ›å»º</h2><p>å…ˆç®€å•å›é¡¾ä¸€ä¸‹æŒ‚è½½çš„æµç¨‹ï¼ŒæŒ‚è½½çš„è¿‡ç¨‹æ˜¯è°ƒç”¨<code>Vue</code>å®ä¾‹ä¸Š<code>$mount</code>æ–¹æ³•ï¼Œè€Œ<code>$mount</code>çš„æ ¸å¿ƒæ˜¯<code>mountComponent</code>å‡½æ•°ã€‚å¦‚æœæˆ‘ä»¬ä¼ é€’çš„æ˜¯<code>template</code>æ¨¡æ¿ï¼Œæ¨¡æ¿ä¼šå…ˆç»è¿‡ç¼–è¯‘å™¨çš„è§£æï¼Œå¹¶æœ€ç»ˆæ ¹æ®ä¸åŒå¹³å°ç”Ÿæˆå¯¹åº”ä»£ç ï¼Œæ­¤æ—¶å¯¹åº”çš„å°±æ˜¯å°†<code>with</code>è¯­å¥å°è£…å¥½çš„<code>render</code>å‡½æ•°;å¦‚æœä¼ é€’çš„æ˜¯<code>render</code>å‡½æ•°ï¼Œåˆ™è·³è¿‡æ¨¡æ¿ç¼–è¯‘è¿‡ç¨‹ï¼Œç›´æ¥è¿›å…¥ä¸‹ä¸€ä¸ªé˜¶æ®µã€‚ä¸‹ä¸€é˜¶æ®µæ˜¯æ‹¿åˆ°<code>render</code>å‡½æ•°ï¼Œè°ƒç”¨<code>vm._render()</code>æ–¹æ³•å°†<code>render</code>å‡½æ•°è½¬åŒ–ä¸º<code>Virtual DOM</code>ï¼Œå¹¶æœ€ç»ˆé€šè¿‡<code>vm._update()</code>æ–¹æ³•å°†<code>Virtual DOM</code>æ¸²æŸ“ä¸ºçœŸå®çš„<code>DOM</code>èŠ‚ç‚¹ã€‚</p><pre><code class="js">Vue.prototype.$mount = function(el, hydrating) &#123;
    Â·Â·Â·
    return mountComponent(this, el)
&#125;
function mountComponent() &#123;
    Â·Â·Â·
    updateComponent = function () &#123;
        vm._update(vm._render(), hydrating);
    &#125;;
&#125;
</code></pre><p>æˆ‘ä»¬å…ˆçœ‹çœ‹<code>vm._render()</code>æ–¹æ³•æ˜¯å¦‚ä½•<strong>å°†renderå‡½æ•°è½¬åŒ–ä¸ºVirtual DOM</strong>çš„ã€‚</p><p>å›é¡¾ä¸€ä¸‹ç¬¬ä¸€ç« èŠ‚å†…å®¹ï¼Œæ–‡ç« ä»‹ç»äº†<code>Vue</code>åœ¨ä»£ç å¼•å…¥æ—¶ä¼šå®šä¹‰å¾ˆå¤šå±æ€§å’Œæ–¹æ³•ï¼Œå…¶ä¸­æœ‰ä¸€ä¸ª<code>renderMixin</code>è¿‡ç¨‹ï¼Œæˆ‘ä»¬ä¹‹å‰åªæåˆ°äº†å®ƒä¼šå®šä¹‰è·Ÿæ¸²æŸ“æœ‰å…³çš„å‡½æ•°ï¼Œå®é™…ä¸Šå®ƒåªå®šä¹‰äº†ä¸¤ä¸ªé‡è¦çš„æ–¹æ³•ï¼Œ<code>_render</code>å‡½æ•°å°±æ˜¯å…¶ä¸­ä¸€ä¸ªã€‚</p><pre><code class="js">// å¼•å…¥Vueæ—¶ï¼Œæ‰§è¡ŒrenderMixinæ–¹æ³•ï¼Œè¯¥æ–¹æ³•å®šä¹‰äº†VueåŸå‹ä¸Šçš„å‡ ä¸ªæ–¹æ³•ï¼Œå…¶ä¸­ä¸€ä¸ªä¾¿æ˜¯ _renderå‡½æ•°
renderMixin();//
function renderMixin() &#123;
    Vue.prototype._render = function() &#123;
        var ref = vm.$options;
        var render = ref.render;
        Â·Â·Â·
        try &#123;
            vnode = render.call(vm._renderProxy, vm.$createElement);
        &#125; catch (e) &#123;
            Â·Â·Â·
        &#125;
        Â·Â·Â·
        return vnode
    &#125;
&#125;
</code></pre><p>æŠ›å¼€å…¶ä»–ä»£ç ï¼Œ_renderå‡½æ•°çš„æ ¸å¿ƒæ˜¯<code>render.call(vm._renderProxy, vm.$createElement)</code>éƒ¨åˆ†ï¼Œ<code>vm._renderProxy</code>åœ¨æ•°æ®ä»£ç†åˆ†æè¿‡ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸ºäº†åšæ•°æ®è¿‡æ»¤æ£€æµ‹ï¼Œå®ƒä¹Ÿç»‘å®šäº†<code>render</code>å‡½æ•°æ‰§è¡Œæ—¶çš„<code>this</code>æŒ‡å‘ã€‚<code>vm.$createElement</code>æ–¹æ³•ä¼šä½œä¸º<code>render</code>å‡½æ•°çš„å‚æ•°ä¼ å…¥ã€‚<strong>å›å¿†ä¸€ä¸‹ï¼Œåœ¨æ‰‹å†™<code>render</code>å‡½æ•°æ—¶ï¼Œæˆ‘ä»¬ä¼šåˆ©ç”¨<code>render</code>å‡½æ•°çš„ç¬¬ä¸€ä¸ªå‚æ•°<code>createElement</code>è¿›è¡Œæ¸²æŸ“å‡½æ•°çš„ç¼–å†™ï¼Œè¿™é‡Œçš„<code>createElement</code>å‚æ•°å°±æ˜¯å®šä¹‰å¥½çš„<code>$createElement</code>æ–¹æ³•ã€‚</strong></p><pre><code class="js">new Vue(&#123;
    el: &#39;#app&#39;,
    render: function(createElement) &#123;
        return createElement(&#39;div&#39;, &#123;&#125;, this.message)
    &#125;,
    data() &#123;
        return &#123;
            message: &#39;dom&#39;
        &#125;
    &#125;
&#125;)
</code></pre><p>åˆå§‹åŒ–<code>_init</code>æ—¶ï¼Œæœ‰ä¸€ä¸ª<code>initRender</code>å‡½æ•°ï¼Œå®ƒå°±æ˜¯ç”¨æ¥å®šä¹‰æ¸²æŸ“å‡½æ•°æ–¹æ³•çš„ï¼Œå…¶ä¸­å°±æœ‰<code>vm.$createElement</code>æ–¹æ³•çš„å®šä¹‰ï¼Œé™¤äº†<code>$createElement</code>ï¼Œ<code>_c</code>æ–¹æ³•çš„å®šä¹‰ä¹Ÿç±»ä¼¼ã€‚å…¶ä¸­ <code>vm._c</code> æ˜¯<code>template</code>å†…éƒ¨ç¼–è¯‘æˆ<code>render</code>å‡½æ•°æ—¶è°ƒç”¨çš„æ–¹æ³•ï¼Œ<code>vm.$createElement</code>æ˜¯æ‰‹å†™<code>render</code>å‡½æ•°æ—¶è°ƒç”¨çš„æ–¹æ³•ã€‚<strong>ä¸¤è€…çš„å”¯ä¸€åŒºåˆ«ä»…ä»…æ˜¯æœ€åä¸€ä¸ªå‚æ•°çš„ä¸åŒã€‚é€šè¿‡æ¨¡æ¿ç”Ÿæˆçš„<code>render</code>æ–¹æ³•å¯ä»¥ä¿è¯å­èŠ‚ç‚¹éƒ½æ˜¯<code>Vnode</code>ï¼Œè€Œæ‰‹å†™çš„<code>render</code>éœ€è¦ä¸€äº›æ£€éªŒå’Œè½¬æ¢ã€‚</strong></p><pre><code class="js">function initRender(vm) &#123;
    vm._c = function(a, b, c, d) &#123; return createElement(vm, a, b, c, d, false); &#125;
    vm.$createElement = function (a, b, c, d) &#123; return createElement(vm, a, b, c, d, true); &#125;;
&#125;
</code></pre><p><code>createElement</code> æ–¹æ³•å®é™…ä¸Šæ˜¯å¯¹ <code>_createElement</code> æ–¹æ³•çš„å°è£…ï¼Œåœ¨è°ƒç”¨<code>_createElement</code>å‰ï¼Œå®ƒä¼šå…ˆå¯¹ä¼ å…¥çš„å‚æ•°è¿›è¡Œå¤„ç†ï¼Œæ¯•ç«Ÿæ‰‹å†™çš„<code>render</code>å‡½æ•°å‚æ•°è§„æ ¼ä¸ç»Ÿä¸€ã€‚ä¸¾ä¸€ä¸ªç®€å•çš„ä¾‹å­ã€‚</p><pre><code class="js">// æ²¡æœ‰data
new Vue(&#123;
    el: &#39;#app&#39;,
    render: function(createElement) &#123;
        return createElement(&#39;div&#39;, this.message)
    &#125;,
    data() &#123;
        return &#123;
            message: &#39;dom&#39;
        &#125;
    &#125;
&#125;)
// æœ‰data
new Vue(&#123;
    el: &#39;#app&#39;,
    render: function(createElement) &#123;
        return createElement(&#39;div&#39;, &#123;&#125;, this.message)
    &#125;,
    data() &#123;
        return &#123;
            message: &#39;dom&#39;
        &#125;
    &#125;
&#125;)
</code></pre><p>è¿™é‡Œå¦‚æœç¬¬äºŒä¸ªå‚æ•°æ˜¯å˜é‡æˆ–è€…æ•°ç»„ï¼Œåˆ™é»˜è®¤æ˜¯æ²¡æœ‰ä¼ é€’<code>data</code>,å› ä¸º<code>data</code>ä¸€èˆ¬æ˜¯å¯¹è±¡å½¢å¼å­˜åœ¨ã€‚</p><pre><code class="js">function createElement (
    context, // vm å®ä¾‹
    tag, // æ ‡ç­¾
    data, // èŠ‚ç‚¹ç›¸å…³æ•°æ®ï¼Œå±æ€§
    children, // å­èŠ‚ç‚¹
    normalizationType,
    alwaysNormalize // åŒºåˆ†å†…éƒ¨ç¼–è¯‘ç”Ÿæˆçš„renderè¿˜æ˜¯æ‰‹å†™render
  ) &#123;
    // å¯¹ä¼ å…¥å‚æ•°åšå¤„ç†ï¼Œå¦‚æœæ²¡æœ‰dataï¼Œåˆ™å°†ç¬¬ä¸‰ä¸ªå‚æ•°ä½œä¸ºç¬¬å››ä¸ªå‚æ•°ä½¿ç”¨ï¼Œå¾€ä¸Šç±»æ¨ã€‚
    if (Array.isArray(data) || isPrimitive(data)) &#123;
      normalizationType = children;
      children = data;
      data = undefined;
    &#125;
    // æ ¹æ®æ˜¯alwaysNormalize åŒºåˆ†æ˜¯å†…éƒ¨ç¼–è¯‘ä½¿ç”¨çš„ï¼Œè¿˜æ˜¯ç”¨æˆ·æ‰‹å†™renderä½¿ç”¨çš„
    if (isTrue(alwaysNormalize)) &#123;
      normalizationType = ALWAYS_NORMALIZE;
    &#125;
    return _createElement(context, tag, data, children, normalizationType) // çœŸæ­£ç”ŸæˆVnodeçš„æ–¹æ³•
  &#125;
</code></pre><h3 id="4-3-1-æ•°æ®è§„èŒƒæ£€æµ‹"><a href="#4-3-1-æ•°æ®è§„èŒƒæ£€æµ‹" class="headerlink" title="4.3.1 æ•°æ®è§„èŒƒæ£€æµ‹"></a>4.3.1 æ•°æ®è§„èŒƒæ£€æµ‹</h3><p><code>Vue</code>æ—¢ç„¶æš´éœ²ç»™ç”¨æˆ·ç”¨<code>render</code>å‡½æ•°å»æ‰‹å†™æ¸²æŸ“æ¨¡æ¿ï¼Œå°±éœ€è¦è€ƒè™‘ç”¨æˆ·æ“ä½œå¸¦æ¥çš„ä¸ç¡®å®šæ€§ï¼Œå› æ­¤<code>_createElement</code>åœ¨åˆ›å»º<code>Vnode</code>å‰ä¼šå…ˆæ•°æ®çš„è§„èŒƒæ€§è¿›è¡Œæ£€æµ‹ï¼Œå°†ä¸åˆæ³•çš„æ•°æ®ç±»å‹é”™è¯¯æå‰æš´éœ²ç»™ç”¨æˆ·ã€‚æ¥ä¸‹æ¥å°†åˆ—ä¸¾å‡ ä¸ªåœ¨å®é™…åœºæ™¯ä¸­å®¹æ˜“çŠ¯çš„é”™è¯¯ï¼Œä¹Ÿæ–¹ä¾¿æˆ‘ä»¬ç†è§£æºç ä¸­å¯¹è¿™ç±»é”™è¯¯çš„å¤„ç†ã€‚</p><ol><li>ç”¨å“åº”å¼å¯¹è±¡åš<code>data</code>å±æ€§</li></ol><pre><code class="js">new Vue(&#123;
    el: &#39;#app&#39;,
    render: function (createElement, context) &#123;
       return createElement(&#39;div&#39;, this.observeData, this.show)
    &#125;,
    data() &#123;
        return &#123;
            show: &#39;dom&#39;,
            observeData: &#123;
                attr: &#123;
                    id: &#39;test&#39;
                &#125;
            &#125;
        &#125;
    &#125;
&#125;)
</code></pre><ol start="2"><li>å½“ç‰¹æ®Šå±æ€§keyçš„å€¼ä¸ºéå­—ç¬¦ä¸²ï¼Œéæ•°å­—ç±»å‹æ—¶</li></ol><pre><code class="js">new Vue(&#123;
    el: &#39;#app&#39;,
    render: function(createElement) &#123;
        return createElement(&#39;div&#39;, &#123; key: this.lists &#125;, this.lists.map(l =&gt; &#123;
           return createElement(&#39;span&#39;, l.name)
        &#125;))
    &#125;,
    data() &#123;
        return &#123;
            lists: [&#123;
              name: &#39;111&#39;
            &#125;,
            &#123;
              name: &#39;222&#39;
            &#125;
          ],
        &#125;
    &#125;
&#125;)
</code></pre><p>è¿™äº›è§„èŒƒéƒ½ä¼šåœ¨åˆ›å»º<code>Vnode</code>èŠ‚ç‚¹ä¹‹å‰å‘ç°å¹¶æŠ¥é”™ï¼Œæºä»£ç å¦‚ä¸‹ï¼š</p><pre><code class="js">function _createElement (context,tag,data,children,normalizationType) &#123;
    // 1. æ•°æ®å¯¹è±¡ä¸èƒ½æ˜¯å®šä¹‰åœ¨Vue dataå±æ€§ä¸­çš„å“åº”å¼æ•°æ®ã€‚
    if (isDef(data) &amp;&amp; isDef((data).__ob__)) &#123;
      warn(
        &quot;Avoid using observed data object as vnode data: &quot; + (JSON.stringify(data)) + &quot;\n&quot; +
        &#39;Always create fresh vnode data objects in each render!&#39;,
        context
      );
      return createEmptyVNode() // è¿”å›æ³¨é‡ŠèŠ‚ç‚¹
    &#125;
    if (isDef(data) &amp;&amp; isDef(data.is)) &#123;
      tag = data.is;
    &#125;
    if (!tag) &#123;
      // é˜²æ­¢åŠ¨æ€ç»„ä»¶ :is å±æ€§è®¾ç½®ä¸ºfalseæ—¶ï¼Œéœ€è¦åšç‰¹æ®Šå¤„ç†
      return createEmptyVNode()
    &#125;
    // 2. keyå€¼åªèƒ½ä¸ºstringï¼Œnumberè¿™äº›åŸå§‹æ•°æ®ç±»å‹
    if (isDef(data) &amp;&amp; isDef(data.key) &amp;&amp; !isPrimitive(data.key)
    ) &#123;
      &#123;
        warn(
          &#39;Avoid using non-primitive value as key, &#39; +
          &#39;use string/number value instead.&#39;,
          context
        );
      &#125;
    &#125;
    Â·Â·Â·
  &#125;
</code></pre><p>è¿™äº›è§„èŒƒæ€§æ£€æµ‹ä¿è¯äº†åç»­<code>Virtual DOM tree</code>çš„å®Œæ•´ç”Ÿæˆã€‚</p><h3 id="4-3-2-å­èŠ‚ç‚¹childrenè§„èŒƒåŒ–"><a href="#4-3-2-å­èŠ‚ç‚¹childrenè§„èŒƒåŒ–" class="headerlink" title="4.3.2 å­èŠ‚ç‚¹childrenè§„èŒƒåŒ–"></a>4.3.2 å­èŠ‚ç‚¹childrenè§„èŒƒåŒ–</h3><p><code>Virtual DOM tree</code>æ˜¯ç”±æ¯ä¸ª<code>Vnode</code>ä»¥æ ‘çŠ¶å½¢å¼æ‹¼æˆçš„è™šæ‹Ÿ<code>DOM</code>æ ‘ï¼Œæˆ‘ä»¬åœ¨è½¬æ¢çœŸå®èŠ‚ç‚¹æ—¶éœ€è¦çš„å°±æ˜¯è¿™æ ·ä¸€ä¸ªå®Œæ•´çš„<code>Virtual DOM tree</code>ï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦ä¿è¯æ¯ä¸€ä¸ªå­èŠ‚ç‚¹éƒ½æ˜¯<code>Vnode</code>ç±»å‹,è¿™é‡Œåˆ†ä¸¤ç§åœºæ™¯åˆ†æã€‚</p><ul><li>æ¨¡æ¿ç¼–è¯‘<code>render</code>å‡½æ•°ï¼Œç†è®ºä¸Š<code>template</code>æ¨¡æ¿é€šè¿‡ç¼–è¯‘ç”Ÿæˆçš„<code>render</code>å‡½æ•°éƒ½æ˜¯<code>Vnode</code>ç±»å‹ï¼Œä½†æ˜¯æœ‰ä¸€ä¸ªä¾‹å¤–ï¼Œå‡½æ•°å¼ç»„ä»¶è¿”å›çš„æ˜¯ä¸€ä¸ªæ•°ç»„(è¿™ä¸ªç‰¹æ®Šä¾‹å­ï¼Œå¯ä»¥çœ‹å‡½æ•°å¼ç»„ä»¶çš„æ–‡ç« åˆ†æ),è¿™ä¸ªæ—¶å€™<code>Vue</code>çš„å¤„ç†æ˜¯å°†æ•´ä¸ª<code>children</code>æ‹å¹³æˆä¸€ç»´æ•°ç»„ã€‚</li><li>ç”¨æˆ·å®šä¹‰<code>render</code>å‡½æ•°ï¼Œè¿™ä¸ªæ—¶å€™åˆåˆ†ä¸ºä¸¤ç§æƒ…å†µï¼Œä¸€ä¸ªæ˜¯å½“<code>chidren</code>ä¸ºæ–‡æœ¬èŠ‚ç‚¹æ—¶ï¼Œè¿™æ—¶å€™é€šè¿‡å‰é¢ä»‹ç»çš„<code>createTextVNode</code> åˆ›å»ºä¸€ä¸ªæ–‡æœ¬èŠ‚ç‚¹çš„ <code>VNode</code>; å¦ä¸€ç§ç›¸å¯¹å¤æ‚ï¼Œå½“<code>children</code>ä¸­æœ‰<code>v-for</code>çš„æ—¶å€™ä¼šå‡ºç°åµŒå¥—æ•°ç»„ï¼Œè¿™æ—¶å€™çš„å¤„ç†é€»è¾‘æ˜¯ï¼Œéå†<code>children</code>ï¼Œå¯¹æ¯ä¸ªèŠ‚ç‚¹è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœä¾æ—§æ˜¯æ•°ç»„ï¼Œåˆ™ç»§ç»­é€’å½’è°ƒç”¨ï¼Œç›´åˆ°ç±»å‹ä¸ºåŸºç¡€ç±»å‹æ—¶ï¼Œè°ƒç”¨<code>createTextVnode</code>æ–¹æ³•è½¬åŒ–ä¸º<code>Vnode</code>ã€‚è¿™æ ·ç»è¿‡é€’å½’ï¼Œ<code>children</code>ä¹Ÿå˜æˆäº†ä¸€ä¸ªç±»å‹ä¸º<code>Vnode</code>çš„æ•°ç»„ã€‚</li></ul><pre><code class="js">function _createElement() &#123;
    Â·Â·Â·
    if (normalizationType === ALWAYS_NORMALIZE) &#123;
      // ç”¨æˆ·å®šä¹‰renderå‡½æ•°
      children = normalizeChildren(children);
    &#125; else if (normalizationType === SIMPLE_NORMALIZE) &#123;
      // æ¨¡æ¿ç¼–è¯‘ç”Ÿæˆçš„çš„renderå‡½æ•°
      children = simpleNormalizeChildren(children);
    &#125;
&#125;

// å¤„ç†ç¼–è¯‘ç”Ÿæˆçš„render å‡½æ•°
function simpleNormalizeChildren (children) &#123;
    for (var i = 0; i &lt; children.length; i++) &#123;
        // å­èŠ‚ç‚¹ä¸ºæ•°ç»„æ—¶ï¼Œè¿›è¡Œå¼€å¹³æ“ä½œï¼Œå‹æˆä¸€ç»´æ•°ç»„ã€‚
        if (Array.isArray(children[i])) &#123;
        return Array.prototype.concat.apply([], children)
        &#125;
    &#125;
    return children
&#125;

// å¤„ç†ç”¨æˆ·å®šä¹‰çš„renderå‡½æ•°
function normalizeChildren (children) &#123;
    // é€’å½’è°ƒç”¨ï¼Œç›´åˆ°å­èŠ‚ç‚¹æ˜¯åŸºç¡€ç±»å‹ï¼Œåˆ™è°ƒç”¨åˆ›å»ºæ–‡æœ¬èŠ‚ç‚¹Vnode
    return isPrimitive(children)
      ? [createTextVNode(children)]
      : Array.isArray(children)
        ? normalizeArrayChildren(children)
        : undefined
  &#125;

// åˆ¤æ–­æ˜¯å¦åŸºç¡€ç±»å‹
function isPrimitive (value) &#123;
    return (
      typeof value === &#39;string&#39; ||
      typeof value === &#39;number&#39; ||
      typeof value === &#39;symbol&#39; ||
      typeof value === &#39;boolean&#39;
    )
  &#125;
</code></pre><h3 id="4-3-4-å®é™…åœºæ™¯"><a href="#4-3-4-å®é™…åœºæ™¯" class="headerlink" title="4.3.4 å®é™…åœºæ™¯"></a>4.3.4 å®é™…åœºæ™¯</h3><p>åœ¨æ•°æ®æ£€æµ‹å’Œç»„ä»¶è§„èŒƒåŒ–åï¼Œæ¥ä¸‹æ¥é€šè¿‡<code>new VNode()</code>ä¾¿å¯ä»¥ç”Ÿæˆä¸€æ£µå®Œæ•´çš„<code>VNode</code>æ ‘ï¼Œæ³¨æ„åœ¨<code>_render</code>è¿‡ç¨‹ä¸­ä¼šé‡åˆ°å­ç»„ä»¶ï¼Œè¿™ä¸ªæ—¶å€™ä¼šä¼˜å…ˆå»åšå­ç»„ä»¶çš„åˆå§‹åŒ–ï¼Œè¿™éƒ¨åˆ†æ”¾åˆ°ç»„ä»¶ç¯èŠ‚ä¸“é—¨åˆ†æã€‚æˆ‘ä»¬ç”¨ä¸€ä¸ªå®é™…çš„ä¾‹å­ï¼Œç»“æŸ<code>render</code>å‡½æ•°åˆ°<code>Virtual DOM</code>çš„åˆ†æã€‚</p><ul><li><code>template</code>æ¨¡æ¿å½¢å¼</li></ul><pre><code class="js">var vm = new Vue(&#123;
  el: &#39;#app&#39;,
  template: &#39;&lt;div&gt;&lt;span&gt;virtual dom&lt;/span&gt;&lt;/div&gt;&#39;
&#125;)
</code></pre><ul><li>æ¨¡æ¿ç¼–è¯‘ç”Ÿæˆ<code>render</code>å‡½æ•°</li></ul><pre><code class="js">(function() &#123;
  with(this)&#123;
    return _c(&#39;div&#39;,[_c(&#39;span&#39;,[_v(&quot;virual dom&quot;)])])
  &#125;
&#125;)
</code></pre><ul><li><code>Virtual DOM tree</code>çš„ç»“æœ(çœç•¥ç‰ˆ)</li></ul><pre><code class="js">&#123;
  tag: &#39;div&#39;,
  children: [&#123;
    tag: &#39;span&#39;,
    children: [&#123;
      tag: undefined,
      text: &#39;virtual dom&#39;
    &#125;]
  &#125;]
&#125;
</code></pre><h2 id="4-4-è™šæ‹ŸVnodeæ˜ å°„æˆçœŸå®DOM"><a href="#4-4-è™šæ‹ŸVnodeæ˜ å°„æˆçœŸå®DOM" class="headerlink" title="4.4 è™šæ‹ŸVnodeæ˜ å°„æˆçœŸå®DOM"></a>4.4 è™šæ‹ŸVnodeæ˜ å°„æˆçœŸå®DOM</h2><p>å›åˆ° <code>updateComponent</code>çš„æœ€åä¸€ä¸ªè¿‡ç¨‹,è™šæ‹Ÿçš„<code>DOM</code>æ ‘åœ¨ç”Ÿæˆ<code>virtual dom</code>åï¼Œä¼šè°ƒç”¨<code>Vue</code>åŸå‹ä¸Š<code>_update</code>æ–¹æ³•ï¼Œå°†è™šæ‹Ÿ<code>DOM</code>æ˜ å°„æˆä¸ºçœŸå®çš„<code>DOM</code>ã€‚ä»æºç ä¸Šå¯ä»¥çŸ¥é“ï¼Œ<code>_update</code>çš„è°ƒç”¨æ—¶æœºæœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯å‘ç”Ÿåœ¨åˆæ¬¡æ¸²æŸ“é˜¶æ®µï¼Œå¦ä¸€ä¸ªå‘ç”Ÿæ•°æ®æ›´æ–°é˜¶æ®µã€‚</p><pre><code class="js">updateComponent = function () &#123;
    // renderç”Ÿæˆè™šæ‹ŸDOMï¼Œupdateæ¸²æŸ“çœŸå®DOM
    vm._update(vm._render(), hydrating);
&#125;;
</code></pre><p><code>vm._update</code>æ–¹æ³•çš„å®šä¹‰åœ¨<code>lifecycleMixin</code>ä¸­ã€‚</p><pre><code class="js">lifecycleMixin()
function lifecycleMixin() &#123;
    Vue.prototype._update = function (vnode, hydrating) &#123;
        var vm = this;
        var prevEl = vm.$el;
        var prevVnode = vm._vnode; // prevVnodeä¸ºæ—§vnodeèŠ‚ç‚¹
        // é€šè¿‡æ˜¯å¦æœ‰æ—§èŠ‚ç‚¹åˆ¤æ–­æ˜¯åˆæ¬¡æ¸²æŸ“è¿˜æ˜¯æ•°æ®æ›´æ–°
        if (!prevVnode) &#123;
            // åˆæ¬¡æ¸²æŸ“
            vm.$el = vm.__patch__(vm.$el, vnode, hydrating, false)
        &#125; else &#123;
            // æ•°æ®æ›´æ–°
            vm.$el = vm.__patch__(prevVnode, vnode);
        &#125;
&#125;
</code></pre><p><code>_update</code>çš„æ ¸å¿ƒæ˜¯<code>__patch__</code>æ–¹æ³•ï¼Œå¦‚æœæ˜¯æœåŠ¡ç«¯æ¸²æŸ“ï¼Œç”±äºæ²¡æœ‰<code>DOM</code>ï¼Œ<code>_patch</code>æ–¹æ³•æ˜¯ä¸€ä¸ªç©ºå‡½æ•°ï¼Œåœ¨æœ‰<code>DOM</code>å¯¹è±¡çš„æµè§ˆå™¨ç¯å¢ƒä¸‹ï¼Œ<code>__patch__</code>æ˜¯<code>patch</code>å‡½æ•°çš„å¼•ç”¨ã€‚</p><pre><code>// æµè§ˆå™¨ç«¯æ‰æœ‰DOMï¼ŒæœåŠ¡ç«¯æ²¡æœ‰domï¼Œæ‰€ä»¥patchä¸ºä¸€ä¸ªç©ºå‡½æ•°
  Vue.prototype.__patch__ = inBrowser ? patch : noop;
</code></pre><p>è€Œ<code>patch</code>æ–¹æ³•åˆæ˜¯<code>createPatchFunction</code>æ–¹æ³•çš„è¿”å›å€¼ï¼Œ<code>createPatchFunction</code>æ–¹æ³•ä¼ é€’ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œå¯¹è±¡æ‹¥æœ‰ä¸¤ä¸ªå±æ€§ï¼Œ<code>nodeOps</code>å’Œ<code>modules</code>ï¼Œ<code>nodeOps</code>å°è£…äº†ä¸€ç³»åˆ—æ“ä½œåŸç”Ÿ<code>DOM</code>å¯¹è±¡çš„æ–¹æ³•ã€‚è€Œ<code>modules</code>å®šä¹‰äº†æ¨¡å—çš„é’©å­å‡½æ•°ã€‚</p><pre><code class="js"> var patch = createPatchFunction(&#123; nodeOps: nodeOps, modules: modules &#125;);

// å°†æ“ä½œdomå¯¹è±¡çš„æ–¹æ³•åˆé›†åšå†»ç»“æ“ä½œ
 var nodeOps = /*#__PURE__*/Object.freeze(&#123;
    createElement: createElement$1,
    createElementNS: createElementNS,
    createTextNode: createTextNode,
    createComment: createComment,
    insertBefore: insertBefore,
    removeChild: removeChild,
    appendChild: appendChild,
    parentNode: parentNode,
    nextSibling: nextSibling,
    tagName: tagName,
    setTextContent: setTextContent,
    setStyleScope: setStyleScope
  &#125;);

// å®šä¹‰äº†æ¨¡å—çš„é’©å­å‡½æ•°
  var platformModules = [
    attrs,
    klass,
    events,
    domProps,
    style,
    transition
  ];

var modules = platformModules.concat(baseModules);
</code></pre><p>çœŸæ­£çš„<code>createPatchFunction</code>å‡½æ•°æœ‰ä¸€åƒå¤šè¡Œä»£ç ï¼Œè¿™é‡Œå°±ä¸æ–¹ä¾¿åˆ—ä¸¾å‡ºæ¥äº†ï¼Œå®ƒçš„å†…éƒ¨é¦–å…ˆå®šä¹‰äº†ä¸€ç³»åˆ—è¾…åŠ©çš„æ–¹æ³•ï¼Œè€Œæ ¸å¿ƒæ˜¯é€šè¿‡è°ƒç”¨<code>createElm</code>æ–¹æ³•è¿›è¡Œ<code>dom</code>æ“ä½œï¼Œåˆ›å»ºèŠ‚ç‚¹ï¼Œæ’å…¥å­èŠ‚ç‚¹ï¼Œé€’å½’åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„<code>DOM</code>æ ‘å¹¶æ’å…¥åˆ°<code>Body</code>ä¸­ã€‚å¹¶ä¸”åœ¨äº§ç”ŸçœŸå®é˜¶æ®µé˜¶æ®µï¼Œä¼šæœ‰<code>diff</code>ç®—æ³•æ¥åˆ¤æ–­å‰å<code>Vnode</code>çš„å·®å¼‚ï¼Œä»¥æ±‚æœ€å°åŒ–æ”¹å˜çœŸå®é˜¶æ®µã€‚åé¢ä¼šæœ‰ä¸€ä¸ªç« èŠ‚çš„å†…å®¹å»è®²è§£<code>diff</code>ç®—æ³•ã€‚<code>createPatchFunction</code>çš„è¿‡ç¨‹åªéœ€è¦å…ˆè®°ä½ä¸€äº›ç»“è®ºï¼Œå‡½æ•°å†…éƒ¨ä¼šè°ƒç”¨å°è£…å¥½çš„<code>DOM api</code>ï¼Œæ ¹æ®<code>Virtual DOM</code>çš„ç»“æœå»ç”ŸæˆçœŸå®çš„èŠ‚ç‚¹ã€‚å…¶ä¸­å¦‚æœé‡åˆ°ç»„ä»¶<code>Vnode</code>æ—¶ï¼Œä¼šé€’å½’è°ƒç”¨å­ç»„ä»¶çš„æŒ‚è½½è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹æˆ‘ä»¬ä¹Ÿä¼šæ”¾åˆ°åé¢ç« èŠ‚å»åˆ†æã€‚</p><h2 id="4-5-å°ç»“"><a href="#4-5-å°ç»“" class="headerlink" title="4.5 å°ç»“"></a>4.5 å°ç»“</h2><p>è¿™ä¸€èŠ‚åˆ†æäº†<code>mountComponent</code>çš„ä¸¤ä¸ªæ ¸å¿ƒæ–¹æ³•ï¼Œ<code>render</code>å’Œ<code>update</code>,åœ¨åˆ†æå‰é‡ç‚¹ä»‹ç»äº†å­˜åœ¨äº<code>JS</code>æ“ä½œå’Œ<code>DOM</code>æ¸²æŸ“çš„æ¡¥æ¢ï¼š<code>Virtual DOM</code>ã€‚<code>JS</code>å¯¹<code>DOM</code>èŠ‚ç‚¹çš„æ‰¹é‡æ“ä½œä¼šå…ˆç›´æ¥ååº”åˆ°<code>Virtual DOM</code>è¿™ä¸ªæè¿°å¯¹è±¡ä¸Š,æœ€ç»ˆçš„ç»“æœæ‰ä¼šç›´æ¥ä½œç”¨åˆ°çœŸå®èŠ‚ç‚¹ä¸Šã€‚å¯ä»¥è¯´ï¼Œ<code>Virtual DOM</code>å¾ˆå¤§ç¨‹åº¦æé«˜äº†æ¸²æŸ“çš„æ€§èƒ½ã€‚æ–‡ç« é‡ç‚¹ä»‹ç»äº†<code>render</code>å‡½æ•°è½¬æ¢æˆ<code>Virtual DOM</code>çš„è¿‡ç¨‹ï¼Œå¹¶å¤§è‡´æè¿°äº†<code>_update</code>å‡½æ•°çš„å®ç°æ€è·¯ã€‚å…¶å®è¿™ä¸¤ä¸ªè¿‡ç¨‹éƒ½ç‰µæ‰¯åˆ°ç»„ä»¶ï¼Œæ‰€ä»¥è¿™ä¸€èŠ‚å¯¹å¾ˆå¤šç¯èŠ‚éƒ½æ— æ³•æ·±å…¥åˆ†æï¼Œä¸‹ä¸€èŠ‚å¼€å§‹ä¼šè¿›å…¥ç»„ä»¶çš„ä¸“é¢˜ã€‚æˆ‘ç›¸ä¿¡åˆ†æå®Œç»„ä»¶åï¼Œè¯»è€…ä¼šå¯¹æ•´ä¸ªæ¸²æŸ“è¿‡ç¨‹ä¼šæœ‰æ›´æ·±åˆ»çš„ç†è§£å’Œæ€è€ƒã€‚</p><div class="tags"><a href="/tags/Vue/" rel="tag"><i class="ic i-tag"></i> Vue</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-08-03 15:32:03" itemprop="dateModified" datetime="2023-08-03T15:32:03+08:00">2023-08-03</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> èµèµ</button><p>è¯·æˆ‘å–[èŒ¶]~(ï¿£â–½ï¿£)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="sanxin98 å¾®ä¿¡æ”¯ä»˜"><p>å¾®ä¿¡æ”¯ä»˜</p></div><div><img data-src="/images/alipay.png" alt="sanxin98 æ”¯ä»˜å®"><p>æ”¯ä»˜å®</p></div></div></div><div id="copyright"><ul><li class="author"><strong>æœ¬æ–‡ä½œè€…ï¼š </strong>sanxin98 <i class="ic i-at"><em>@</em></i>æ­»è‚¥å®…</li><li class="link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong> <a href="https://pink-png.github.io/computer-science/vueyuanma/dosc/4%E5%AE%8C%E6%95%B4%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B/" title="Step.4 å®Œæ•´æ¸²æŸ“æµç¨‹">https://pink-png.github.io/computer-science/vueyuanma/dosc/4å®Œæ•´æ¸²æŸ“æµç¨‹/</a></li><li class="license"><strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/computer-science/vueyuanma/dosc/3%E5%AE%9E%E4%BE%8B%E6%8C%82%E8%BD%BD%E6%B5%81%E7%A8%8B%E5%92%8C%E6%A8%A1%E6%9D%BF%E7%BC%96%E8%AF%91/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;cdn.cdnjson.com&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipesrnqv3j20zk0m8ava.jpg" title="Step.3 å®ä¾‹æŒ‚è½½æµç¨‹å’Œæ¨¡æ¿ç¼–è¯‘"><span class="type">ä¸Šä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> vue2.xæºç </span><h3>Step.3 å®ä¾‹æŒ‚è½½æµç¨‹å’Œæ¨¡æ¿ç¼–è¯‘</h3></a></div><div class="item right"><a href="/computer-science/vueyuanma/dosc/5%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80%E5%89%96%E6%9E%90/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;cdn.cdnjson.com&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giciszlczyj20zk0m816d.jpg" title="Step.5 ç»„ä»¶åŸºç¡€å‰–æ"><span class="type">ä¸‹ä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> vue2.xæºç </span><h3>Step.5 ç»„ä»¶åŸºç¡€å‰–æ</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="æ–‡ç« ç›®å½•"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#4-1-Virtual-DOM"><span class="toc-number">1.</span> <span class="toc-text">4.1 Virtual DOM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-1-%E6%B5%8F%E8%A7%88%E5%99%A8%E7%9A%84%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B"><span class="toc-number">1.1.</span> <span class="toc-text">4.1.1 æµè§ˆå™¨çš„æ¸²æŸ“æµç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-2-%E7%BC%93%E5%86%B2%E5%B1%82-%E8%99%9A%E6%8B%9FDOM"><span class="toc-number">1.2.</span> <span class="toc-text">4.1.2 ç¼“å†²å±‚-è™šæ‹ŸDOM</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-2-Vnode"><span class="toc-number">2.</span> <span class="toc-text">4.2 Vnode</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-1-Vnode%E6%9E%84%E9%80%A0%E5%87%BD%E6%95%B0"><span class="toc-number">2.1.</span> <span class="toc-text">4.2.1 Vnodeæ„é€ å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-2-%E5%88%9B%E5%BB%BAVnode%E6%B3%A8%E9%87%8A%E8%8A%82%E7%82%B9"><span class="toc-number">2.2.</span> <span class="toc-text">4.2.2 åˆ›å»ºVnodeæ³¨é‡ŠèŠ‚ç‚¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-3-%E5%88%9B%E5%BB%BAVnode%E6%96%87%E6%9C%AC%E8%8A%82%E7%82%B9"><span class="toc-number">2.3.</span> <span class="toc-text">4.2.3 åˆ›å»ºVnodeæ–‡æœ¬èŠ‚ç‚¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-4-%E5%85%8B%E9%9A%86vnode"><span class="toc-number">2.4.</span> <span class="toc-text">4.2.4 å…‹éš†vnode</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-3-Virtual-DOM%E7%9A%84%E5%88%9B%E5%BB%BA"><span class="toc-number">3.</span> <span class="toc-text">4.3 Virtual DOMçš„åˆ›å»º</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-1-%E6%95%B0%E6%8D%AE%E8%A7%84%E8%8C%83%E6%A3%80%E6%B5%8B"><span class="toc-number">3.1.</span> <span class="toc-text">4.3.1 æ•°æ®è§„èŒƒæ£€æµ‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-2-%E5%AD%90%E8%8A%82%E7%82%B9children%E8%A7%84%E8%8C%83%E5%8C%96"><span class="toc-number">3.2.</span> <span class="toc-text">4.3.2 å­èŠ‚ç‚¹childrenè§„èŒƒåŒ–</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-4-%E5%AE%9E%E9%99%85%E5%9C%BA%E6%99%AF"><span class="toc-number">3.3.</span> <span class="toc-text">4.3.4 å®é™…åœºæ™¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-4-%E8%99%9A%E6%8B%9FVnode%E6%98%A0%E5%B0%84%E6%88%90%E7%9C%9F%E5%AE%9EDOM"><span class="toc-number">4.</span> <span class="toc-text">4.4 è™šæ‹ŸVnodeæ˜ å°„æˆçœŸå®DOM</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-5-%E5%B0%8F%E7%BB%93"><span class="toc-number">5.</span> <span class="toc-text">4.5 å°ç»“</span></a></li></ol></div><div class="related panel pjax" data-title="ç³»åˆ—æ–‡ç« "><ul><li><a href="/computer-science/vueyuanma/dosc/1%E4%B8%B0%E5%AF%8C%E7%9A%84%E9%80%89%E9%A1%B9%E5%90%88%E5%B9%B6%E7%AD%96%E7%95%A5/" rel="bookmark" title="Step.1 ä¸°å¯Œçš„é€‰é¡¹åˆå¹¶ç­–ç•¥">Step.1 ä¸°å¯Œçš„é€‰é¡¹åˆå¹¶ç­–ç•¥</a></li><li><a href="/computer-science/vueyuanma/dosc/2%E5%9F%BA%E7%A1%80%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BB%A3%E7%90%86%E6%A3%80%E6%B5%8B/" rel="bookmark" title="Step.2 åŸºç¡€çš„æ•°æ®ä»£ç†æ£€æµ‹">Step.2 åŸºç¡€çš„æ•°æ®ä»£ç†æ£€æµ‹</a></li><li><a href="/computer-science/vueyuanma/dosc/3%E5%AE%9E%E4%BE%8B%E6%8C%82%E8%BD%BD%E6%B5%81%E7%A8%8B%E5%92%8C%E6%A8%A1%E6%9D%BF%E7%BC%96%E8%AF%91/" rel="bookmark" title="Step.3 å®ä¾‹æŒ‚è½½æµç¨‹å’Œæ¨¡æ¿ç¼–è¯‘">Step.3 å®ä¾‹æŒ‚è½½æµç¨‹å’Œæ¨¡æ¿ç¼–è¯‘</a></li><li class="active"><a href="/computer-science/vueyuanma/dosc/4%E5%AE%8C%E6%95%B4%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B/" rel="bookmark" title="Step.4 å®Œæ•´æ¸²æŸ“æµç¨‹">Step.4 å®Œæ•´æ¸²æŸ“æµç¨‹</a></li><li><a href="/computer-science/vueyuanma/dosc/5%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80%E5%89%96%E6%9E%90/" rel="bookmark" title="Step.5 ç»„ä»¶åŸºç¡€å‰–æ">Step.5 ç»„ä»¶åŸºç¡€å‰–æ</a></li><li><a href="/computer-science/vueyuanma/dosc/6%E7%BB%84%E4%BB%B6%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95/" rel="bookmark" title="Step.6 ç»„ä»¶é«˜çº§ç”¨æ³•">Step.6 ç»„ä»¶é«˜çº§ç”¨æ³•</a></li><li><a href="/computer-science/vueyuanma/dosc/7%E6%B7%B1%E5%85%A5%E5%93%8D%E5%BA%94%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%9E%84%E5%BB%BA-%E4%B8%8A/" rel="bookmark" title="Step.7 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸Š">Step.7 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸Š</a></li><li><a href="/computer-science/vueyuanma/dosc/8%E6%B7%B1%E5%85%A5%E5%93%8D%E5%BA%94%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%9E%84%E5%BB%BA-%E4%B8%AD/" rel="bookmark" title="Step.8 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸­">Step.8 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸­</a></li><li><a href="/computer-science/vueyuanma/dosc/9%E6%B7%B1%E5%85%A5%E5%93%8D%E5%BA%94%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%9E%84%E5%BB%BA-%E4%B8%8B/" rel="bookmark" title="Step.9 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸‹">Step.9 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸‹</a></li><li><a href="/computer-science/vueyuanma/dosc/10%E6%9D%A5%EF%BC%8C%E8%B7%9F%E6%88%91%E4%B8%80%E8%B5%B7%E5%AE%9E%E7%8E%B0diff%E7%AE%97%E6%B3%95/" rel="bookmark" title="Step.10 æ¥ï¼Œè·Ÿæˆ‘ä¸€èµ·å®ç°diffç®—æ³•">Step.10 æ¥ï¼Œè·Ÿæˆ‘ä¸€èµ·å®ç°diffç®—æ³•</a></li><li><a href="/computer-science/vueyuanma/dosc/11%E6%8F%AD%E7%A7%98Vue%E7%9A%84%E4%BA%8B%E4%BB%B6%E6%9C%BA%E5%88%B6/" rel="bookmark" title="Step.11 æ­ç§˜Vueçš„äº‹ä»¶æœºåˆ¶">Step.11 æ­ç§˜Vueçš„äº‹ä»¶æœºåˆ¶</a></li><li><a href="/computer-science/vueyuanma/dosc/12vue%E6%8F%92%E6%A7%BD%EF%BC%8C%E4%BD%A0%E6%83%B3%E4%BA%86%E8%A7%A3%E7%9A%84%E9%83%BD%E5%9C%A8%E8%BF%99%E9%87%8C/" rel="bookmark" title="Step.12 vueæ’æ§½ï¼Œä½ æƒ³äº†è§£çš„éƒ½åœ¨è¿™é‡Œ">Step.12 vueæ’æ§½ï¼Œä½ æƒ³äº†è§£çš„éƒ½åœ¨è¿™é‡Œ</a></li><li><a href="/computer-science/vueyuanma/dosc/13%E4%BD%A0%E7%9C%9F%E7%9A%84%E4%BA%86%E8%A7%A3v-model%E7%9A%84%E8%AF%AD%E6%B3%95%E7%B3%96%E4%BA%86%E5%90%97/" rel="bookmark" title="Step.13 ä½ çœŸçš„äº†è§£v-modelçš„è¯­æ³•ç³–äº†å—">Step.13 ä½ çœŸçš„äº†è§£v-modelçš„è¯­æ³•ç³–äº†å—</a></li><li><a href="/computer-science/vueyuanma/dosc/14%E5%8A%A8%E6%80%81%E7%BB%84%E4%BB%B6%E7%9A%84%E6%B7%B1%E5%85%A5%E5%88%86%E6%9E%90/" rel="bookmark" title="Step.14 åŠ¨æ€ç»„ä»¶çš„æ·±å…¥åˆ†æ">Step.14 åŠ¨æ€ç»„ä»¶çš„æ·±å…¥åˆ†æ</a></li><li><a href="/computer-science/vueyuanma/dosc/15%E5%BD%BB%E5%BA%95%E6%90%9E%E6%87%82Vue%E4%B8%ADkeep-alive%E7%9A%84%E9%AD%94%E6%B3%95-%E4%B8%8A/" rel="bookmark" title="Step.15 å½»åº•ææ‡‚Vueä¸­keep-aliveçš„é­”æ³•-ä¸Š">Step.15 å½»åº•ææ‡‚Vueä¸­keep-aliveçš„é­”æ³•-ä¸Š</a></li><li><a href="/computer-science/vueyuanma/dosc/16%E5%BD%BB%E5%BA%95%E6%90%9E%E6%87%82Vue%E4%B8%ADkeep-alive%E7%9A%84%E9%AD%94%E6%B3%95-%E4%B8%8B/" rel="bookmark" title="Step.16 å½»åº•ææ‡‚Vueä¸­keep-aliveçš„é­”æ³•-ä¸Š">Step.16 å½»åº•ææ‡‚Vueä¸­keep-aliveçš„é­”æ³•-ä¸Š</a></li></ul></div><div class="overview panel" data-title="ç«™ç‚¹æ¦‚è§ˆ"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="sanxin98" data-src="/images/avatar.jpg"><p class="name" itemprop="name">sanxin98</p><div class="description" itemprop="description">ç¼–ç¨‹ & ç”Ÿæ´»</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">93</span> <span class="name">æ–‡ç« </span></a></div><div class="item categories"><a href="/categories/"><span class="count">37</span> <span class="name">åˆ†ç±»</span></a></div><div class="item tags"><a href="/tags/"><span class="count">27</span> <span class="name">æ ‡ç­¾</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3BpbmstcG5n" title="https:&#x2F;&#x2F;github.com&#x2F;pink-png"><i class="ic i-github"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>é¦–é¡µ</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>æ–‡ç« </a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>å½’æ¡£</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>åˆ†ç±»</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>æ ‡ç­¾</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/computer-science/vueyuanma/dosc/3%E5%AE%9E%E4%BE%8B%E6%8C%82%E8%BD%BD%E6%B5%81%E7%A8%8B%E5%92%8C%E6%A8%A1%E6%9D%BF%E7%BC%96%E8%AF%91/" rel="prev" title="ä¸Šä¸€ç¯‡"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/computer-science/vueyuanma/dosc/5%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80%E5%89%96%E6%9E%90/" rel="next" title="ä¸‹ä¸€ç¯‡"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>éšæœºæ–‡ç« </h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºç§‘å­¦">è®¡ç®—æœºç§‘å­¦</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/vueyuanma/" title="åˆ†ç±»äº Vue">Vue</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/vueyuanma/dosc/" title="åˆ†ç±»äº vue2.xæºç ">vue2.xæºç </a></div><span><a href="/computer-science/vueyuanma/dosc/5%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80%E5%89%96%E6%9E%90/" title="Step.5 ç»„ä»¶åŸºç¡€å‰–æ">Step.5 ç»„ä»¶åŸºç¡€å‰–æ</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºç§‘å­¦">è®¡ç®—æœºç§‘å­¦</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/%E9%A1%B9%E7%9B%AE/" title="åˆ†ç±»äº é¡¹ç›®">é¡¹ç›®</a></div><span><a href="/computer-science/fangweix/fb/" title="å‘å¸ƒæ´»åŠ¨ç±»">å‘å¸ƒæ´»åŠ¨ç±»</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%8C%96/" title="åˆ†ç±»äº å‰ç«¯å·¥ç¨‹åŒ–">å‰ç«¯å·¥ç¨‹åŒ–</a></div><span><a href="/front-end/webpack/" title="webpack">webpack</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/web%E5%AE%89%E5%85%A8/" title="åˆ†ç±»äº webå®‰å…¨">webå®‰å…¨</a></div><span><a href="/Web-Integration/web%E5%AE%89%E5%85%A8/" title="webå®‰å…¨">webå®‰å…¨</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/Javascript/" title="åˆ†ç±»äº Javascript">Javascript</a></div><span><a href="/js-base/js%E6%B5%85%E8%B0%88new%20this/" title="æµ…è°ˆjsä¸­new this å…³é”®å­—">æµ…è°ˆjsä¸­new this å…³é”®å­—</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/electron/" title="åˆ†ç±»äº electron">electron</a></div><span><a href="/front-end/electron/" title="electron">electron</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºç§‘å­¦">è®¡ç®—æœºç§‘å­¦</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/react0-1/" title="åˆ†ç±»äº react">react</a></div><span><a href="/computer-science/react0-1/react%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95/" title="step.1 reactåŸºç¡€è¯­æ³•">step.1 reactåŸºç¡€è¯­æ³•</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/css/" title="åˆ†ç±»äº css">css</a></div><span><a href="/front-end/%E5%89%8D%E7%AB%AF%E5%B8%83%E5%B1%80/" title="å‰ç«¯å¸¸è§å¸ƒå±€">å‰ç«¯å¸¸è§å¸ƒå±€</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/Javascript/" title="åˆ†ç±»äº Javascript">Javascript</a></div><span><a href="/js-base/js%E5%AE%9E%E7%8E%B0%E5%BC%82%E6%AD%A5%E7%BC%96%E7%A8%8B/" title="js å®ç°å¼‚æ­¥ç¼–ç¨‹">js å®ç°å¼‚æ­¥ç¼–ç¨‹</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºç§‘å­¦">è®¡ç®—æœºç§‘å­¦</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/vueyuanma/" title="åˆ†ç±»äº Vue">Vue</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/vueyuanma/dosc/" title="åˆ†ç±»äº vue2.xæºç ">vue2.xæºç </a></div><span><a href="/computer-science/vueyuanma/dosc/12vue%E6%8F%92%E6%A7%BD%EF%BC%8C%E4%BD%A0%E6%83%B3%E4%BA%86%E8%A7%A3%E7%9A%84%E9%83%BD%E5%9C%A8%E8%BF%99%E9%87%8C/" title="Step.12 vueæ’æ§½ï¼Œä½ æƒ³äº†è§£çš„éƒ½åœ¨è¿™é‡Œ">Step.12 vueæ’æ§½ï¼Œä½ æƒ³äº†è§£çš„éƒ½åœ¨è¿™é‡Œ</a></span></li></ul></div><div><h2>æœ€æ–°è¯„è®º</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 â€“ <span itemprop="copyrightYear">2023</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">sanxin98 @ Yume Shoka</span></div><div class="powered-by">åŸºäº <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"computer-science/vueyuanma/dosc/4å®Œæ•´æ¸²æŸ“æµç¨‹/",favicon:{show:"ï¼ˆâ—Â´3ï½€â—ï¼‰ã‚„ã‚Œã‚„ã‚Œã ãœ",hide:"(Â´Ğ”ï½€)å¤§å¤‰ã ï¼"},search:{placeholder:"æ–‡ç« æœç´¢",empty:"å…³äº ã€Œ ${query} ã€ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœåˆ°",stats:"${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"},valine:{placeholder:"1. æé—®å‰è¯·å…ˆä»”ç»†é˜…è¯»æœ¬æ–‡æ¡£âš¡\n2. é¡µé¢æ˜¾ç¤ºé—®é¢˜ğŸ’¥ï¼Œè¯·æä¾›æ§åˆ¶å°æˆªå›¾ğŸ“¸æˆ–è€…æ‚¨çš„æµ‹è¯•ç½‘å€\n3. å…¶ä»–ä»»ä½•æŠ¥é”™ğŸ’£ï¼Œè¯·æä¾›è¯¦ç»†æè¿°å’Œæˆªå›¾ğŸ“¸ï¼Œç¥é£Ÿç”¨æ„‰å¿«ğŸ’ª"},fancybox:!0,copyright:'å¤åˆ¶æˆåŠŸï¼Œè½¬è½½è¯·éµå®ˆ <i class="ic i-creative-commons"></i>BY-NC-SA åè®®ã€‚',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>