<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="æ­»è‚¥å®…" href="https://pink-png.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="æ­»è‚¥å®…" href="https://pink-png.github.io/atom.xml"><link rel="alternate" type="application/json" title="æ­»è‚¥å®…" href="https://pink-png.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="Vue"><link rel="canonical" href="https://pink-png.github.io/computer-science/vueyuanma/dosc/7%E6%B7%B1%E5%85%A5%E5%93%8D%E5%BA%94%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%9E%84%E5%BB%BA-%E4%B8%8A/"><title>Step.7 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸Š - vue2.xæºç  - Vue - è®¡ç®—æœºç§‘å­¦ | Yume Shoka = æ­»è‚¥å®… = è‚¥å®…å¿«ä¹æ°´</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Step.7 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸Š</h1><div class="meta"><span class="item" title="åˆ›å»ºæ—¶é—´ï¼š2020-06-18 13:46:48"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">å‘è¡¨äº</span> <time itemprop="dateCreated datePublished" datetime="2020-06-18T13:46:48+08:00">2020-06-18</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Yume Shoka</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://cdn.cdnjson.com/tva1.sinaimg.cn/large/6833939bly1giclize41wj20zk0m87gk.jpg"></li><li class="item" data-background-image="https://cdn.cdnjson.com/tva1.sinaimg.cn/large/6833939bly1giph47e9vtj20zk0m8x6l.jpg"></li><li class="item" data-background-image="https://cdn.cdnjson.com/tva1.sinaimg.cn/large/6833939bly1giclwrdwyaj20zk0m8are.jpg"></li><li class="item" data-background-image="https://cdn.cdnjson.com/tva1.sinaimg.cn/large/6833939bly1giciusoyjnj219g0u0x56.jpg"></li><li class="item" data-background-image="https://cdn.cdnjson.com/tva1.sinaimg.cn/large/6833939bly1gicivghyooj20zk0m8dir.jpg"></li><li class="item" data-background-image="https://cdn.cdnjson.com/tva1.sinaimg.cn/large/6833939bly1giclflwv2aj20zk0m84qp.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">é¦–é¡µ</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/" itemprop="item" rel="index" title="åˆ†ç±»äº è®¡ç®—æœºç§‘å­¦"><span itemprop="name">è®¡ç®—æœºç§‘å­¦</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/vueyuanma/" itemprop="item" rel="index" title="åˆ†ç±»äº Vue"><span itemprop="name">Vue</span></a><meta itemprop="position" content="2"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/vueyuanma/dosc/" itemprop="item" rel="index" title="åˆ†ç±»äº vue2.xæºç "><span itemprop="name">vue2.xæºç </span></a><meta itemprop="position" content="3"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://pink-png.github.io/computer-science/vueyuanma/dosc/7%E6%B7%B1%E5%85%A5%E5%93%8D%E5%BA%94%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%9E%84%E5%BB%BA-%E4%B8%8A/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="sanxin98"><meta itemprop="description" content="è‚¥å®…å¿«ä¹æ°´, ç¼–ç¨‹ & ç”Ÿæ´»"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ­»è‚¥å®…"></span><div class="body md" itemprop="articleBody"><blockquote><p>ä»è¿™ä¸€å°èŠ‚å¼€å§‹ï¼Œæ­£å¼è¿›å…¥<code>Vue</code>æºç çš„æ ¸å¿ƒï¼Œä¹Ÿæ˜¯éš¾ç‚¹ä¹‹ä¸€ï¼Œå“åº”å¼ç³»ç»Ÿçš„æ„å»ºã€‚è¿™ä¸€èŠ‚å°†ä½œä¸ºåˆ†æå“åº”å¼æ„å»ºè¿‡ç¨‹æºç çš„å…¥é—¨ï¼Œä¸»è¦åˆ†ä¸ºä¸¤å¤§å—,ç¬¬ä¸€å—æ˜¯é’ˆå¯¹å“åº”å¼æ•°æ®<code>props,methods,data,computed,wather</code>åˆå§‹åŒ–è¿‡ç¨‹çš„åˆ†æï¼Œå¦ä¸€å—åˆ™æ˜¯åœ¨ä¿ç•™æºç è®¾è®¡ç†å¿µçš„å‰æä¸‹ï¼Œå°è¯•æ‰‹åŠ¨æ„å»ºä¸€ä¸ªåŸºç¡€çš„å“åº”å¼ç³»ç»Ÿã€‚æœ‰äº†è¿™ä¸¤ä¸ªåŸºç¡€å†…å®¹çš„é“ºå«ï¼Œä¸‹ä¸€ç¯‡è¿›è¡Œæºç å…·ä½“ç»†èŠ‚çš„åˆ†æä¼šæ›´åŠ å¾—å¿ƒåº”æ‰‹ã€‚</p></blockquote><h2 id="7-1-æ•°æ®åˆå§‹åŒ–"><a href="#7-1-æ•°æ®åˆå§‹åŒ–" class="headerlink" title="7.1 æ•°æ®åˆå§‹åŒ–"></a>7.1 æ•°æ®åˆå§‹åŒ–</h2><p>å›é¡¾ä¸€ä¸‹ä¹‹å‰çš„å†…å®¹ï¼Œæˆ‘ä»¬å¯¹<code>Vue</code>æºç çš„åˆ†ææ˜¯ä»åˆå§‹åŒ–å¼€å§‹ï¼Œåˆå§‹åŒ–<code>_init</code>ä¼šæ‰§è¡Œä¸€ç³»åˆ—çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹åŒ…æ‹¬äº†é…ç½®é€‰é¡¹çš„åˆå¹¶ï¼Œæ•°æ®çš„ç›‘æµ‹ä»£ç†ï¼Œæœ€åæ‰æ˜¯å®ä¾‹çš„æŒ‚è½½ã€‚è€Œåœ¨å®ä¾‹æŒ‚è½½å‰è¿˜æœ‰æ„å¿½ç•¥äº†ä¸€ä¸ªé‡è¦çš„è¿‡ç¨‹ï¼Œ<strong>æ•°æ®çš„åˆå§‹åŒ–</strong>(å³<code>initState(vm)</code>)ã€‚<code>initState</code>çš„è¿‡ç¨‹ï¼Œæ˜¯å¯¹æ•°æ®è¿›è¡Œå“åº”å¼è®¾è®¡çš„è¿‡ç¨‹ï¼Œè¿‡ç¨‹ä¼šé’ˆå¯¹<code>props,methods,data,computed</code>å’Œ<code>watch</code>åšæ•°æ®çš„åˆå§‹åŒ–å¤„ç†ï¼Œå¹¶å°†ä»–ä»¬è½¬æ¢ä¸ºå“åº”å¼å¯¹è±¡ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ä¼šé€æ­¥åˆ†ææ¯ä¸€ä¸ªè¿‡ç¨‹ã€‚</p><pre><code class="js">function initState (vm) &#123;
  vm._watchers = [];
  var opts = vm.$options;
  // åˆå§‹åŒ–props
  if (opts.props) &#123; initProps(vm, opts.props); &#125;
  // åˆå§‹åŒ–methods
  if (opts.methods) &#123; initMethods(vm, opts.methods); &#125;
  // åˆå§‹åŒ–data
  if (opts.data) &#123;
    initData(vm);
  &#125; else &#123;
    // å¦‚æœæ²¡æœ‰å®šä¹‰dataï¼Œåˆ™åˆ›å»ºä¸€ä¸ªç©ºå¯¹è±¡ï¼Œå¹¶è®¾ç½®ä¸ºå“åº”å¼
    observe(vm._data = &#123;&#125;, true /* asRootData */);
  &#125;
  // åˆå§‹åŒ–computed
  if (opts.computed) &#123; initComputed(vm, opts.computed); &#125;
  // åˆå§‹åŒ–watch
  if (opts.watch &amp;&amp; opts.watch !== nativeWatch) &#123;
    initWatch(vm, opts.watch);
  &#125;
&#125;
</code></pre><h2 id="7-2-initProps"><a href="#7-2-initProps" class="headerlink" title="7.2 initProps"></a>7.2 initProps</h2><p>ç®€å•å›é¡¾ä¸€ä¸‹<code>props</code>çš„ç”¨æ³•ï¼Œçˆ¶ç»„ä»¶é€šè¿‡å±æ€§çš„å½¢å¼å°†æ•°æ®ä¼ é€’ç»™å­ç»„ä»¶ï¼Œå­ç»„ä»¶é€šè¿‡<code>props</code>å±æ€§æ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’çš„å€¼ã€‚</p><pre><code class="js">// çˆ¶ç»„ä»¶
&lt;child :test=&quot;test&quot;&gt;&lt;/child&gt;
var vm = new Vue(&#123;
  el: &#39;#app&#39;,
  data() &#123;
    return &#123;
      test: &#39;child&#39;
    &#125;
  &#125;
&#125;)
// å­ç»„ä»¶
Vue.component(&#39;child&#39;, &#123;
  template: &#39;&lt;div&gt;&#123;&#123;test&#125;&#125;&lt;/div&gt;&#39;,
  props: [&#39;test&#39;]
&#125;)
</code></pre><p>å› æ­¤åˆ†æ<code>props</code>éœ€è¦åˆ†æçˆ¶ç»„ä»¶å’Œå­ç»„ä»¶çš„ä¸¤ä¸ªè¿‡ç¨‹ï¼Œæˆ‘ä»¬å…ˆçœ‹çˆ¶ç»„ä»¶å¯¹ä¼ é€’å€¼çš„å¤„ç†ã€‚æŒ‰ç…§ä»¥å¾€æ–‡ç« ä»‹ç»çš„é‚£æ ·ï¼Œçˆ¶ç»„ä»¶ä¼˜å…ˆè¿›è¡Œæ¨¡æ¿ç¼–è¯‘å¾—åˆ°ä¸€ä¸ª<code>render</code>å‡½æ•°ï¼Œåœ¨è§£æè¿‡ç¨‹ä¸­é‡åˆ°å­ç»„ä»¶çš„å±æ€§ï¼Œ<code>:test=test</code>ä¼šè¢«è§£ææˆ<code>&#123; attrs: &#123;testï¼š test&#125;&#125;</code>å¹¶ä½œä¸ºå­ç»„ä»¶çš„<code>render</code>å‡½æ•°å­˜åœ¨ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p><pre><code class="js">with()&#123;..._c(&#39;child&#39;,&#123;attrs:&#123;&quot;test&quot;:test&#125;&#125;)&#125;
</code></pre><p><code>render</code>è§£æ<code>Vnode</code>çš„è¿‡ç¨‹é‡åˆ°<code>child</code>è¿™ä¸ªå­å ä½ç¬¦èŠ‚ç‚¹ï¼Œå› æ­¤ä¼šè¿›å…¥åˆ›å»ºå­ç»„ä»¶<code>Vnode</code>çš„è¿‡ç¨‹ï¼Œåˆ›å»ºå­<code>Vnode</code>è¿‡ç¨‹æ˜¯è°ƒç”¨<code>createComponent</code>,è¿™ä¸ªé˜¶æ®µæˆ‘ä»¬åœ¨ç»„ä»¶ç« èŠ‚æœ‰åˆ†æè¿‡ï¼Œåœ¨ç»„ä»¶çš„é«˜çº§ç”¨æ³•ä¹Ÿæœ‰åˆ†æè¿‡ï¼Œæœ€ç»ˆä¼šè°ƒç”¨<code>new Vnode</code>å»åˆ›å»ºå­<code>Vnode</code>ã€‚è€Œå¯¹äº<code>props</code>çš„å¤„ç†ï¼Œ<code>extractPropsFromVNodeData</code>ä¼šå¯¹<code>attrs</code>å±æ€§è¿›è¡Œè§„èŒƒæ ¡éªŒåï¼Œæœ€åä¼šæŠŠæ ¡éªŒåçš„ç»“æœä»¥<code>propsData</code>å±æ€§çš„å½¢å¼ä¼ å…¥<code>Vnode</code>æ„é€ å™¨ä¸­ã€‚æ€»ç»“æ¥è¯´ï¼Œ<code>props</code>ä¼ é€’ç»™å ä½ç¬¦ç»„ä»¶çš„å†™æ³•ï¼Œä¼šä»¥<code>propsData</code>çš„å½¢å¼ä½œä¸ºå­ç»„ä»¶<code>Vnode</code>çš„å±æ€§å­˜åœ¨ã€‚ä¸‹é¢ä¼šåˆ†æå…·ä½“çš„ç»†èŠ‚ã€‚</p><pre><code class="js">// åˆ›å»ºå­ç»„ä»¶è¿‡ç¨‹
function createComponent() &#123;
  // propsæ ¡éªŒ
  var propsData = extractPropsFromVNodeData(data, Ctor, tag);
  Â·Â·Â·
  // åˆ›å»ºå­ç»„ä»¶vnode
  var vnode = new VNode(
    (&quot;vue-component-&quot; + (Ctor.cid) + (name ? (&quot;-&quot; + name) : &#39;&#39;)),
    data, undefined, undefined, undefined, context,
    &#123; Ctor: Ctor, propsData: propsData, listeners: listeners, tag: tag, children: children &#125;,
    asyncFactory
  );
&#125;
</code></pre><h3 id="7-2-1-propsçš„å‘½åè§„èŒƒ"><a href="#7-2-1-propsçš„å‘½åè§„èŒƒ" class="headerlink" title="7.2.1 propsçš„å‘½åè§„èŒƒ"></a>7.2.1 propsçš„å‘½åè§„èŒƒ</h3><p>å…ˆçœ‹æ£€æµ‹<code>props</code>è§„èŒƒæ€§çš„è¿‡ç¨‹ã€‚**<code>props</code>ç¼–è¯‘åçš„ç»“æœæœ‰ä¸¤ç§ï¼Œå…¶ä¸­<code>attrs</code>å‰é¢åˆ†æè¿‡ï¼Œæ˜¯ç¼–è¯‘ç”Ÿæˆ<code>render</code>å‡½æ•°é’ˆå¯¹å±æ€§çš„å¤„ç†ï¼Œè€Œ<code>props</code>æ˜¯é’ˆå¯¹ç”¨æˆ·è‡ªå†™<code>render</code>å‡½æ•°çš„å±æ€§å€¼ã€‚**å› æ­¤éœ€è¦åŒæ—¶å¯¹è¿™ä¸¤ç§æ–¹å¼è¿›è¡Œæ ¡éªŒã€‚</p><pre><code class="js">function extractPropsFromVNodeData (data,Ctor,tag) &#123;
  // Ctorä¸ºå­ç±»æ„é€ å™¨
  Â·Â·Â·
  var res = &#123;&#125;;
  // å­ç»„ä»¶propsé€‰é¡¹
  var propOptions = Ctor.options.props;
  // data.attrsé’ˆå¯¹ç¼–è¯‘ç”Ÿæˆçš„renderå‡½æ•°ï¼Œdata.propsé’ˆå¯¹ç”¨æˆ·è‡ªå®šä¹‰çš„renderå‡½æ•°
  var attrs = data.attrs;
  var props = data.props;
  if (isDef(attrs) || isDef(props)) &#123;
    for (var key in propOptions) &#123;
      // aB å½¢å¼è½¬æˆ a-b
      var altKey = hyphenate(key);
      &#123;
          var keyInLowerCase = key.toLowerCase();
          if (
            key !== keyInLowerCase &amp;&amp;
            attrs &amp;&amp; hasOwn(attrs, keyInLowerCase)
          ) &#123;
            // è­¦å‘Š
          &#125;
        &#125;
    &#125;
  &#125;
&#125;
</code></pre><p>é‡ç‚¹è¯´ä¸€ä¸‹æºç åœ¨è¿™ä¸€éƒ¨åˆ†çš„å¤„ç†ï¼Œ<strong>HTMLå¯¹å¤§å°å†™æ˜¯ä¸æ•æ„Ÿçš„ï¼Œæ‰€æœ‰çš„æµè§ˆå™¨ä¼šæŠŠå¤§å†™å­—ç¬¦è§£é‡Šä¸ºå°å†™å­—ç¬¦ï¼Œå› æ­¤æˆ‘ä»¬åœ¨ä½¿ç”¨<code>DOM</code>ä¸­çš„æ¨¡æ¿æ—¶ï¼ŒcameCase(é©¼å³°å‘½åæ³•)çš„<code>props</code>åéœ€è¦ä½¿ç”¨å…¶ç­‰ä»·çš„ <code>kebab-case</code> (çŸ­æ¨ªçº¿åˆ†éš”å‘½å) å‘½ä»£æ›¿</strong>ã€‚<br><strong>å³ï¼š <code>&lt;child :aB=&quot;test&quot;&gt;&lt;/child&gt;</code>éœ€è¦å†™æˆ<code>&lt;child :a-b=&quot;test&quot;&gt;&lt;/child&gt;</code></strong></p><h3 id="7-2-2-å“åº”å¼æ•°æ®props"><a href="#7-2-2-å“åº”å¼æ•°æ®props" class="headerlink" title="7.2.2 å“åº”å¼æ•°æ®props"></a>7.2.2 å“åº”å¼æ•°æ®props</h3><p>åˆšæ‰è¯´åˆ°åˆ†æ<code>props</code>éœ€è¦ä¸¤ä¸ªè¿‡ç¨‹ï¼Œå‰é¢å·²ç»é’ˆå¯¹çˆ¶ç»„ä»¶å¯¹<code>props</code>çš„å¤„ç†åšäº†æè¿°ï¼Œè€Œå¯¹äºå­ç»„ä»¶è€Œè¨€ï¼Œæˆ‘ä»¬æ˜¯é€šè¿‡<code>props</code>é€‰é¡¹å»æ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’çš„å€¼ã€‚æˆ‘ä»¬å†çœ‹çœ‹å­ç»„ä»¶å¯¹<code>props</code>çš„å¤„ç†ï¼š</p><p>å­ç»„ä»¶å¤„ç†<code>props</code>çš„è¿‡ç¨‹ï¼Œæ˜¯å‘ç”Ÿåœ¨çˆ¶ç»„ä»¶<code>_update</code>é˜¶æ®µï¼Œè¿™ä¸ªé˜¶æ®µæ˜¯<code>Vnode</code>ç”ŸæˆçœŸå®èŠ‚ç‚¹çš„è¿‡ç¨‹ï¼ŒæœŸé—´ä¼šé‡åˆ°å­<code>Vnode</code>,è¿™æ—¶ä¼šè°ƒç”¨<code>createComponent</code>å»å®ä¾‹åŒ–å­ç»„ä»¶ã€‚è€Œå®ä¾‹åŒ–å­ç»„ä»¶çš„è¿‡ç¨‹åˆå›åˆ°äº†<code>_init</code>åˆå§‹åŒ–ï¼Œæ­¤æ—¶åˆä¼šç»å†é€‰é¡¹çš„åˆå¹¶ï¼Œé’ˆå¯¹<code>props</code>é€‰é¡¹ï¼Œæœ€ç»ˆä¼šç»Ÿä¸€æˆ<code>&#123;props: &#123; test: &#123; type: null &#125;&#125;&#125;</code>çš„å†™æ³•ã€‚æ¥ç€ä¼šè°ƒç”¨<code>initProps</code>, <code>initProps</code>åšçš„äº‹æƒ…ï¼Œç®€å•æ¦‚æ‹¬ä¸€å¥è¯å°±æ˜¯ï¼Œå°†ç»„ä»¶çš„<code>props</code>æ•°æ®è®¾ç½®ä¸ºå“åº”å¼æ•°æ®ã€‚</p><pre><code class="js">function initProps (vm, propsOptions) &#123;
  var propsData = vm.$options.propsData || &#123;&#125;;
  var loop = function(key) &#123;
    Â·Â·Â·
    defineReactive(props,key,value,cb)ï¼›
    if (!(key in vm)) &#123;
      proxy(vm, &quot;_props&quot;, key);
    &#125;
  &#125;
  // éå†propsï¼Œæ‰§è¡Œloopè®¾ç½®ä¸ºå“åº”å¼æ•°æ®ã€‚
  for (var key in propsOptions) loop( key );
&#125;
</code></pre><p>å…¶ä¸­<code>proxy(vm, &quot;_props&quot;, key);</code>ä¸º<code>props</code>åšäº†ä¸€å±‚ä»£ç†ï¼Œç”¨æˆ·é€šè¿‡<code>vm.XXX</code>å¯ä»¥ä»£ç†è®¿é—®åˆ°<code>vm._props</code>ä¸Šçš„å€¼ã€‚é’ˆå¯¹<code>defineReactive</code>,æœ¬è´¨ä¸Šæ˜¯åˆ©ç”¨<code>Object.defineProperty</code>å¯¹æ•°æ®çš„<code>getter,setter</code>æ–¹æ³•è¿›è¡Œé‡å†™ï¼Œå…·ä½“çš„åŸç†å¯ä»¥å‚è€ƒæ•°æ®ä»£ç†ç« èŠ‚çš„å†…å®¹ï¼Œåœ¨è¿™å°èŠ‚ååŠæ®µä¹Ÿä¼šæœ‰ä¸€ä¸ªåŸºæœ¬çš„å®ç°ã€‚</p><h2 id="7-3-initMethods"><a href="#7-3-initMethods" class="headerlink" title="7.3 initMethods"></a>7.3 initMethods</h2><p><code>initMethod</code>æ–¹æ³•å’Œè¿™ä¸€èŠ‚ä»‹ç»çš„å“åº”å¼æ²¡æœ‰ä»»ä½•çš„å…³ç³»ï¼Œä»–çš„å®ç°ä¹Ÿç›¸å¯¹ç®€å•ï¼Œä¸»è¦æ˜¯ä¿è¯<code>methods</code>æ–¹æ³•å®šä¹‰å¿…é¡»æ˜¯å‡½æ•°ï¼Œä¸”å‘½åä¸èƒ½å’Œ<code>props</code>é‡å¤ï¼Œæœ€ç»ˆä¼šå°†å®šä¹‰çš„æ–¹æ³•éƒ½æŒ‚è½½åˆ°æ ¹å®ä¾‹ä¸Šã€‚</p><pre><code class="js">function initMethods (vm, methods) &#123;
    var props = vm.$options.props;
    for (var key in methods) &#123;
      &#123;
        // methodå¿…é¡»ä¸ºå‡½æ•°å½¢å¼
        if (typeof methods[key] !== &#39;function&#39;) &#123;
          warn(
            &quot;Method \&quot;&quot; + key + &quot;\&quot; has type \&quot;&quot; + (typeof methods[key]) + &quot;\&quot; in the component definition. &quot; +
            &quot;Did you reference the function correctly?&quot;,
            vm
          );
        &#125;
        // methodsæ–¹æ³•åä¸èƒ½å’Œpropsé‡å¤
        if (props &amp;&amp; hasOwn(props, key)) &#123;
          warn(
            (&quot;Method \&quot;&quot; + key + &quot;\&quot; has already been defined as a prop.&quot;),
            vm
          );
        &#125;
        //  ä¸èƒ½ä»¥_ or $.è¿™äº›Vueä¿ç•™æ ‡å¿—å¼€å¤´
        if ((key in vm) &amp;&amp; isReserved(key)) &#123;
          warn(
            &quot;Method \&quot;&quot; + key + &quot;\&quot; conflicts with an existing Vue instance method. &quot; +
            &quot;Avoid defining component methods that start with _ or $.&quot;
          );
        &#125;
      &#125;
      // ç›´æ¥æŒ‚è½½åˆ°å®ä¾‹çš„å±æ€§ä¸Š,å¯ä»¥é€šè¿‡vm[method]è®¿é—®ã€‚
      vm[key] = typeof methods[key] !== &#39;function&#39; ? noop : bind(methods[key], vm);
    &#125;
  &#125;
</code></pre><h2 id="7-4-initData"><a href="#7-4-initData" class="headerlink" title="7.4 initData"></a>7.4 initData</h2><p><code>data</code>åœ¨åˆå§‹åŒ–é€‰é¡¹åˆå¹¶æ—¶ä¼šç”Ÿæˆä¸€ä¸ªå‡½æ•°ï¼Œåªæœ‰åœ¨æ‰§è¡Œå‡½æ•°æ—¶æ‰ä¼šè¿”å›çœŸæ­£çš„æ•°æ®ï¼Œæ‰€ä»¥<code>initData</code>æ–¹æ³•ä¼šå…ˆæ‰§è¡Œæ‹¿åˆ°ç»„ä»¶çš„<code>data</code>æ•°æ®ï¼Œå¹¶ä¸”ä¼šå¯¹å¯¹è±¡æ¯ä¸ªå±æ€§çš„å‘½åè¿›è¡Œæ ¡éªŒï¼Œä¿è¯ä¸èƒ½å’Œ<code>propsï¼Œmethods</code>é‡å¤ã€‚æœ€åçš„æ ¸å¿ƒæ–¹æ³•æ˜¯<code>observe</code>,<code>observe</code>æ–¹æ³•æ˜¯å°†<strong>æ•°æ®å¯¹è±¡æ ‡è®°ä¸ºå“åº”å¼å¯¹è±¡</strong>ï¼Œå¹¶å¯¹å¯¹è±¡çš„æ¯ä¸ªå±æ€§è¿›è¡Œå“åº”å¼å¤„ç†ã€‚ä¸æ­¤åŒæ—¶ï¼Œå’Œ<code>props</code>çš„ä»£ç†å¤„ç†æ–¹å¼ä¸€æ ·ï¼Œ<code>proxy</code>ä¼šå¯¹<code>data</code>åšä¸€å±‚ä»£ç†ï¼Œç›´æ¥é€šè¿‡<code>vm.XXX</code>å¯ä»¥ä»£ç†è®¿é—®åˆ°<code>vm._data</code>ä¸ŠæŒ‚è½½çš„å¯¹è±¡å±æ€§ã€‚</p><pre><code class="js">function initData(vm) &#123;
  var data = vm.$options.data;
  // æ ¹å®ä¾‹æ—¶ï¼Œdataæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå­ç»„ä»¶çš„dataæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå…¶ä¸­getDataä¼šè°ƒç”¨å‡½æ•°è¿”å›dataå¯¹è±¡
  data = vm._data = typeof data === &#39;function&#39;? getData(data, vm): data || &#123;&#125;;
  var keys = Object.keys(data);
  var props = vm.$options.props;
  var methods = vm.$options.methods;
  var i = keys.length;
  while (i--) &#123;
    var key = keys[i];
    &#123;
      // å‘½åä¸èƒ½å’Œæ–¹æ³•é‡å¤
      if (methods &amp;&amp; hasOwn(methods, key)) &#123;
        warn((&quot;Method \&quot;&quot; + key + &quot;\&quot; has already been defined as a data property.&quot;),vm);
      &#125;
    &#125;
    // å‘½åä¸èƒ½å’Œpropsé‡å¤
    if (props &amp;&amp; hasOwn(props, key)) &#123;
      warn(&quot;The data property \&quot;&quot; + key + &quot;\&quot; is already declared as a prop. &quot; + &quot;Use prop default value instead.&quot;,vm);
    &#125; else if (!isReserved(key)) &#123;
      // æ•°æ®ä»£ç†ï¼Œç”¨æˆ·å¯ç›´æ¥é€šè¿‡vmå®ä¾‹è¿”å›dataæ•°æ®
      proxy(vm, &quot;_data&quot;, key);
    &#125;
  &#125;
  // observe data
  observe(data, true /* asRootData */);
&#125;
</code></pre><p><strong>æœ€åè®²è®²<code>observe</code>,<code>observe</code>å…·ä½“çš„è¡Œä¸ºæ˜¯å°†æ•°æ®å¯¹è±¡æ·»åŠ ä¸€ä¸ªä¸å¯æšä¸¾çš„å±æ€§<code>__ob__</code>ï¼Œæ ‡å¿—å¯¹è±¡æ˜¯ä¸€ä¸ªå“åº”å¼å¯¹è±¡ï¼Œå¹¶ä¸”æ‹¿åˆ°æ¯ä¸ªå¯¹è±¡çš„å±æ€§å€¼ï¼Œé‡å†™<code>getter,setter</code>æ–¹æ³•ï¼Œä½¿å¾—æ¯ä¸ªå±æ€§å€¼éƒ½æ˜¯å“åº”å¼æ•°æ®ã€‚è¯¦ç»†çš„ä»£ç æˆ‘ä»¬åé¢åˆ†æã€‚</strong></p><h2 id="7-5-initComputed"><a href="#7-5-initComputed" class="headerlink" title="7.5 initComputed"></a>7.5 initComputed</h2><p>å’Œä¸Šé¢çš„åˆ†ææ–¹æ³•ä¸€æ ·ï¼Œ<code>initComputed</code>æ˜¯<code>computed</code>æ•°æ®çš„åˆå§‹åŒ–,ä¸åŒä¹‹å¤„åœ¨äºä»¥ä¸‹å‡ ç‚¹ï¼š</p><ol><li><code>computed</code>å¯ä»¥æ˜¯å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥æ˜¯å‡½æ•°ï¼Œä½†æ˜¯å¯¹è±¡å¿…é¡»æœ‰<code>getter</code>æ–¹æ³•,å› æ­¤å¦‚æœ<code>computed</code>ä¸­çš„å±æ€§å€¼æ˜¯å¯¹è±¡æ—¶éœ€è¦è¿›è¡ŒéªŒè¯ã€‚</li><li>é’ˆå¯¹<code>computed</code>çš„æ¯ä¸ªå±æ€§ï¼Œè¦åˆ›å»ºä¸€ä¸ªç›‘å¬çš„ä¾èµ–ï¼Œä¹Ÿå°±æ˜¯å®ä¾‹åŒ–ä¸€ä¸ª<code>watcher</code>,<code>watcher</code>çš„å®šä¹‰ï¼Œå¯ä»¥æš‚æ—¶ç†è§£ä¸ºæ•°æ®ä½¿ç”¨çš„ä¾èµ–æœ¬èº«ï¼Œä¸€ä¸ª<code>watcher</code>å®ä¾‹ä»£è¡¨å¤šäº†ä¸€ä¸ªéœ€è¦è¢«ç›‘å¬çš„æ•°æ®ä¾èµ–ã€‚</li></ol><p>é™¤äº†ä¸åŒç‚¹ï¼Œ<code>initComputed</code>ä¹Ÿä¼šå°†æ¯ä¸ªå±æ€§è®¾ç½®æˆå“åº”å¼çš„æ•°æ®ï¼ŒåŒæ ·çš„ï¼Œä¹Ÿä¼šå¯¹<code>computed</code>çš„å‘½ååšæ£€æµ‹ï¼Œé˜²æ­¢ä¸<code>props,data</code>å†²çªã€‚</p><pre><code class="js">function initComputed (vm, computed) &#123;
  Â·Â·Â·
  for (var key in computed) &#123;
      var userDef = computed[key];
      var getter = typeof userDef === &#39;function&#39; ? userDef : userDef.get;
      // computedå±æ€§ä¸ºå¯¹è±¡æ—¶ï¼Œè¦ä¿è¯æœ‰getteræ–¹æ³•
      if (getter == null) &#123;
        warn((&quot;Getter is missing for computed property \&quot;&quot; + key + &quot;\&quot;.&quot;),vm);
      &#125;
      if (!isSSR) &#123;
        // åˆ›å»ºcomputed watcher
        watchers[key] = new Watcher(vm,getter || noop,noop,computedWatcherOptions);
      &#125;
      if (!(key in vm)) &#123;
        // è®¾ç½®ä¸ºå“åº”å¼æ•°æ®
        defineComputed(vm, key, userDef);
      &#125; else &#123;
        // ä¸èƒ½å’Œpropsï¼Œdataå‘½åå†²çª
        if (key in vm.$data) &#123;
          warn((&quot;The computed property \&quot;&quot; + key + &quot;\&quot; is already defined in data.&quot;), vm);
        &#125; else if (vm.$options.props &amp;&amp; key in vm.$options.props) &#123;
          warn((&quot;The computed property \&quot;&quot; + key + &quot;\&quot; is already defined as a prop.&quot;), vm);
        &#125;
      &#125;
    &#125;
&#125;
</code></pre><p>æ˜¾ç„¶<code>Vue</code>æä¾›äº†å¾ˆå¤šç§æ•°æ®ä¾›å¼€å‘è€…ä½¿ç”¨ï¼Œä½†æ˜¯åˆ†æå®Œåå‘ç°æ¯ä¸ªå¤„ç†çš„æ ¸å¿ƒéƒ½æ˜¯å°†æ•°æ®è½¬åŒ–æˆå“åº”å¼æ•°æ®ï¼Œæœ‰äº†å“åº”å¼æ•°æ®ï¼Œå¦‚ä½•æ„å»ºä¸€ä¸ªå“åº”å¼ç³»ç»Ÿå‘¢ï¼Ÿå‰é¢æåˆ°çš„<code>watcher</code>åˆæ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Ÿæ„å»ºå“åº”å¼ç³»ç»Ÿè¿˜éœ€è¦å…¶ä»–çš„ä¸œè¥¿å—ï¼Ÿæ¥ä¸‹æ¥æˆ‘ä»¬å°è¯•ç€å»å®ç°ä¸€ä¸ªæç®€é£çš„å“åº”å¼ç³»ç»Ÿã€‚</p><h2 id="7-6-æç®€é£çš„å“åº”å¼ç³»ç»Ÿ"><a href="#7-6-æç®€é£çš„å“åº”å¼ç³»ç»Ÿ" class="headerlink" title="7.6 æç®€é£çš„å“åº”å¼ç³»ç»Ÿ"></a>7.6 æç®€é£çš„å“åº”å¼ç³»ç»Ÿ</h2><p><code>Vue</code>çš„å“åº”å¼ç³»ç»Ÿæ„å»ºæ˜¯æ¯”è¾ƒå¤æ‚çš„ï¼Œç›´æ¥è¿›å…¥æºç åˆ†ææ„å»ºçš„æ¯ä¸€ä¸ªæµç¨‹ä¼šè®©ç†è§£å˜å¾—å›°éš¾ï¼Œå› æ­¤æˆ‘è§‰å¾—åœ¨å°½å¯èƒ½ä¿ç•™æºç çš„è®¾è®¡é€»è¾‘ä¸‹,ç”¨æœ€å°çš„ä»£ç æ„å»ºä¸€ä¸ªæœ€åŸºç¡€çš„å“åº”å¼ç³»ç»Ÿæ˜¯æœ‰å¿…è¦çš„ã€‚å¯¹<code>Dep,Watcher,Observer</code>æ¦‚å¿µçš„åˆæ­¥è®¤è¯†ï¼Œä¹Ÿæœ‰åŠ©äºä¸‹ä¸€ç¯‡å¯¹å“åº”å¼ç³»ç»Ÿè®¾è®¡ç»†èŠ‚çš„åˆ†æã€‚</p><h3 id="7-6-1-æ¡†æ¶æ­å»º"><a href="#7-6-1-æ¡†æ¶æ­å»º" class="headerlink" title="7.6.1 æ¡†æ¶æ­å»º"></a>7.6.1 æ¡†æ¶æ­å»º</h3><p>æˆ‘ä»¬ä»¥<code>MyVue</code>ä½œä¸ºç±»å“åº”å¼æ¡†æ¶ï¼Œæ¡†æ¶çš„æ­å»ºä¸åšèµ˜è¿°ã€‚æˆ‘ä»¬æ¨¡æ‹Ÿ<code>Vue</code>æºç çš„å®ç°æ€è·¯ï¼Œå®ä¾‹åŒ–<code>MyVue</code>æ—¶ä¼šä¼ é€’ä¸€ä¸ªé€‰é¡¹é…ç½®ï¼Œç²¾ç®€çš„ä»£ç åªæœ‰ä¸€ä¸ª<code>id</code>æŒ‚è½½å…ƒç´ å’Œä¸€ä¸ªæ•°æ®å¯¹è±¡<code>data</code>ã€‚æ¨¡æ‹Ÿæºç çš„æ€è·¯ï¼Œæˆ‘ä»¬åœ¨å®ä¾‹åŒ–æ—¶ä¼šå…ˆè¿›è¡Œæ•°æ®çš„åˆå§‹åŒ–ï¼Œè¿™ä¸€æ­¥å°±æ˜¯å“åº”å¼çš„æ„å»ºï¼Œæˆ‘ä»¬ç¨ååˆ†æã€‚æ•°æ®åˆå§‹åŒ–åå¼€å§‹è¿›è¡ŒçœŸå®<code>DOM</code>çš„æŒ‚è½½ã€‚</p><pre><code class="js">var vm = new MyVue(&#123;
  id: &#39;#app&#39;,
  data: &#123;
    test: 12
  &#125;
&#125;)
// myVue.js
(function(global) &#123;
  class MyVue &#123;
      constructor(options) &#123;
        this.options = options;
        // æ•°æ®çš„åˆå§‹åŒ–
        this.initData(options);
        let el = this.options.id;
        // å®ä¾‹çš„æŒ‚è½½
        this.$mount(el);
      &#125;
      initData(options) &#123;
      &#125;
      $mount(el) &#123;
      &#125;
    &#125;
&#125;(window))
</code></pre><h3 id="7-6-2-è®¾ç½®å“åº”å¼å¯¹è±¡-Observer"><a href="#7-6-2-è®¾ç½®å“åº”å¼å¯¹è±¡-Observer" class="headerlink" title="7.6.2 è®¾ç½®å“åº”å¼å¯¹è±¡ - Observer"></a>7.6.2 è®¾ç½®å“åº”å¼å¯¹è±¡ - Observer</h3><p>é¦–å…ˆå¼•å…¥ä¸€ä¸ªç±»<code>Observer</code>,è¿™ä¸ªç±»çš„ç›®çš„æ˜¯å°†æ•°æ®å˜æˆå“åº”å¼å¯¹è±¡ï¼Œåˆ©ç”¨<code>Object.defineProperty</code>å¯¹æ•°æ®çš„<code>getter,setter</code>æ–¹æ³•è¿›è¡Œæ”¹å†™ã€‚åœ¨æ•°æ®è¯»å–<code>getter</code>é˜¶æ®µæˆ‘ä»¬ä¼šè¿›è¡Œ<strong>ä¾èµ–çš„æ”¶é›†</strong>ï¼Œåœ¨æ•°æ®çš„ä¿®æ”¹<code>setter</code>é˜¶æ®µï¼Œæˆ‘ä»¬ä¼šè¿›è¡Œ<strong>ä¾èµ–çš„æ›´æ–°</strong>(è¿™ä¸¤ä¸ªæ¦‚å¿µçš„ä»‹ç»æ”¾åœ¨åé¢)ã€‚å› æ­¤åœ¨æ•°æ®åˆå§‹åŒ–é˜¶æ®µï¼Œæˆ‘ä»¬ä¼šåˆ©ç”¨<code>Observer</code>è¿™ä¸ªç±»å°†æ•°æ®å¯¹è±¡ä¿®æ”¹ä¸ºç›¸åº”å¼å¯¹è±¡ï¼Œè€Œè¿™æ˜¯æ‰€æœ‰æµç¨‹çš„åŸºç¡€ã€‚</p><pre><code class="js">class MyVue &#123;
  initData(options) &#123;
    if(!options.data) return;
    this.data = options.data;
    // å°†æ•°æ®é‡ç½®getterï¼Œsetteræ–¹æ³•
    new Observer(options.data);
  &#125;
&#125;
// Observerç±»çš„å®šä¹‰
class Observer &#123;
  constructor(data) &#123;
    // å®ä¾‹åŒ–æ—¶æ‰§è¡Œwalkæ–¹æ³•å¯¹æ¯ä¸ªæ•°æ®å±æ€§é‡å†™getterï¼Œsetteræ–¹æ³•
    this.walk(data)
  &#125;

  walk(obj) &#123;
    const keys = Object.keys(obj);
    for(let i = 0;i&lt; keys.length; i++) &#123;
      // Object.definePropertyçš„å¤„ç†é€»è¾‘
      defineReactive(obj, keys[i])
    &#125;
  &#125;
&#125;
</code></pre><h3 id="7-6-3-ä¾èµ–æœ¬èº«-Watcher"><a href="#7-6-3-ä¾èµ–æœ¬èº«-Watcher" class="headerlink" title="7.6.3 ä¾èµ–æœ¬èº« - Watcher"></a>7.6.3 ä¾èµ–æœ¬èº« - Watcher</h3><p>æˆ‘ä»¬å¯ä»¥è¿™æ ·ç†è§£ï¼Œä¸€ä¸ª<code>Watcher</code>å®ä¾‹å°±æ˜¯ä¸€ä¸ªä¾èµ–ï¼Œæ•°æ®ä¸ç®¡æ˜¯åœ¨æ¸²æŸ“æ¨¡æ¿æ—¶ä½¿ç”¨è¿˜æ˜¯åœ¨ç”¨æˆ·è®¡ç®—æ—¶ä½¿ç”¨ï¼Œéƒ½å¯ä»¥ç®—åšä¸€ä¸ªéœ€è¦ç›‘å¬çš„ä¾èµ–ï¼Œ<code>watcher</code>ä¸­è®°å½•ç€è¿™ä¸ªä¾èµ–ç›‘å¬çš„çŠ¶æ€ï¼Œä»¥åŠå¦‚ä½•æ›´æ–°æ“ä½œçš„æ–¹æ³•ã€‚</p><pre><code class="js">// ç›‘å¬çš„ä¾èµ–
class Watcher &#123;
  constructor(expOrFn, isRenderWatcher) &#123;
    this.getter = expOrFn;
    // Watcher.prototype.getçš„è°ƒç”¨ä¼šè¿›è¡ŒçŠ¶æ€çš„æ›´æ–°ã€‚
    this.get();
  &#125;

  get() &#123;&#125;
&#125;
</code></pre><p>é‚£ä¹ˆå“ªä¸ªæ—¶é—´ç‚¹ä¼šå®ä¾‹åŒ–<code>watcher</code>å¹¶æ›´æ–°æ•°æ®çŠ¶æ€å‘¢ï¼Ÿæ˜¾ç„¶åœ¨æ¸²æŸ“æ•°æ®åˆ°çœŸå®<code>DOM</code>æ—¶å¯ä»¥åˆ›å»º<code>watcher</code>ã€‚<code>$mount</code>æµç¨‹å‰é¢ç« èŠ‚ä»‹ç»è¿‡ï¼Œä¼šç»å†æ¨¡æ¿ç”Ÿæˆ<code>render</code>å‡½æ•°å’Œ<code>render</code>å‡½æ•°æ¸²æŸ“çœŸå®<code>DOM</code>çš„è¿‡ç¨‹ã€‚æˆ‘ä»¬å¯¹ä»£ç åšäº†ç²¾ç®€ï¼Œ<code>updateView</code>æµ“ç¼©äº†è¿™ä¸€è¿‡ç¨‹ã€‚</p><pre><code class="js">class MyVue &#123;
  $mount(el) &#123;
    // ç›´æ¥æ”¹å†™innerHTML
    const updateView = _ =&gt; &#123;
      let innerHtml = document.querySelector(el).innerHTML;
      let key = innerHtml.match(/&#123;(\w+)&#125;/)[1];
      document.querySelector(el).innerHTML = this.options.data[key]
    &#125;
    // åˆ›å»ºä¸€ä¸ªæ¸²æŸ“çš„ä¾èµ–ã€‚
    new Watcher(updateView, true)
  &#125;
&#125;
</code></pre><h3 id="7-6-4-ä¾èµ–ç®¡ç†-Dep"><a href="#7-6-4-ä¾èµ–ç®¡ç†-Dep" class="headerlink" title="7.6.4 ä¾èµ–ç®¡ç† - Dep"></a>7.6.4 ä¾èµ–ç®¡ç† - Dep</h3><p><code>watcher</code>å¦‚æœç†è§£ä¸ºæ¯ä¸ªæ•°æ®éœ€è¦ç›‘å¬çš„ä¾èµ–ï¼Œé‚£ä¹ˆ<code>Dep</code> å¯ä»¥ç†è§£ä¸ºå¯¹ä¾èµ–çš„ä¸€ç§ç®¡ç†ã€‚æ•°æ®å¯ä»¥åœ¨æ¸²æŸ“ä¸­ä½¿ç”¨ï¼Œä¹Ÿå¯ä»¥åœ¨è®¡ç®—å±æ€§ä¸­ä½¿ç”¨ã€‚ç›¸åº”çš„æ¯ä¸ªæ•°æ®å¯¹åº”çš„<code>watcher</code>ä¹Ÿæœ‰å¾ˆå¤šã€‚è€Œæˆ‘ä»¬åœ¨æ›´æ–°æ•°æ®æ—¶ï¼Œå¦‚ä½•é€šçŸ¥åˆ°æ•°æ®ç›¸å…³çš„æ¯ä¸€ä¸ªä¾èµ–ï¼Œè¿™å°±éœ€è¦<code>Dep</code>è¿›è¡Œé€šçŸ¥ç®¡ç†äº†ã€‚å¹¶ä¸”æµè§ˆå™¨åŒä¸€æ—¶é—´åªèƒ½æ›´æ–°ä¸€ä¸ª<code>watcher</code>,æ‰€ä»¥ä¹Ÿéœ€è¦ä¸€ä¸ªå±æ€§å»è®°å½•å½“å‰æ›´æ–°çš„<code>watcher</code>ã€‚è€Œ<code>Dep</code>è¿™ä¸ªç±»åªéœ€è¦åšä¸¤ä»¶äº‹æƒ…ï¼Œå°†ä¾èµ–è¿›è¡Œæ”¶é›†ï¼Œæ´¾å‘ä¾èµ–è¿›è¡Œæ›´æ–°ã€‚</p><pre><code class="js">let uid = 0;
class Dep &#123;
  constructor() &#123;
    this.id = uid++;
    this.subs = []
  &#125;
  // ä¾èµ–æ”¶é›†
  depend() &#123;
    if(Dep.target) &#123;
      // Dep.targetæ˜¯å½“å‰çš„watcher,å°†å½“å‰çš„ä¾èµ–æ¨åˆ°subsä¸­
      this.subs.push(Dep.target)
    &#125;
  &#125;
  // æ´¾å‘æ›´æ–°
  notify() &#123;
    const subs = this.subs.slice();
    for (var i = 0, l = subs.length; i &lt; l; i++) &#123; 
      // éå†depä¸­çš„ä¾èµ–ï¼Œå¯¹æ¯ä¸ªä¾èµ–æ‰§è¡Œæ›´æ–°æ“ä½œ
      subs[i].update();
    &#125;
  &#125;
&#125;

Dep.target = null;
</code></pre><h3 id="7-6-5-ä¾èµ–ç®¡ç†è¿‡ç¨‹-defineReactive"><a href="#7-6-5-ä¾èµ–ç®¡ç†è¿‡ç¨‹-defineReactive" class="headerlink" title="7.6.5 ä¾èµ–ç®¡ç†è¿‡ç¨‹ - defineReactive"></a>7.6.5 ä¾èµ–ç®¡ç†è¿‡ç¨‹ - defineReactive</h3><p>æˆ‘ä»¬çœ‹çœ‹æ•°æ®æ‹¦æˆªçš„è¿‡ç¨‹ã€‚å‰é¢çš„<code>Observer</code>å®ä¾‹åŒ–æœ€ç»ˆä¼šè°ƒç”¨<code>defineReactive</code>é‡å†™<code>getter,setter</code>æ–¹æ³•ã€‚è¿™ä¸ªæ–¹æ³•å¼€å§‹ä¼šå®ä¾‹åŒ–ä¸€ä¸ª<code>Dep</code>,ä¹Ÿå°±æ˜¯åˆ›å»ºä¸€ä¸ªæ•°æ®çš„ä¾èµ–ç®¡ç†ã€‚åœ¨é‡å†™çš„<code>getter</code>æ–¹æ³•ä¸­ä¼šè¿›è¡Œä¾èµ–çš„æ”¶é›†ï¼Œä¹Ÿå°±æ˜¯è°ƒç”¨<code>dep.depend</code>çš„æ–¹æ³•ã€‚åœ¨<code>setter</code>é˜¶æ®µï¼Œæ¯”è¾ƒä¸¤ä¸ªæ•°ä¸åŒåï¼Œä¼šè°ƒç”¨ä¾èµ–çš„æ´¾å‘æ›´æ–°ã€‚å³<code>dep.notify</code></p><pre><code class="js">const defineReactive = (obj, key) =&gt; &#123;
  const dep = new Dep();
  const property = Object.getOwnPropertyDescriptor(obj);
  let val = obj[key]
  if(property &amp;&amp; property.configurable === false) return;
  Object.defineProperty(obj, key, &#123;
    configurable: true,
    enumerable: true,
    get() &#123;
      // åšä¾èµ–çš„æ”¶é›†
      if(Dep.target) &#123;
        dep.depend()
      &#125;
      return val
    &#125;,
    set(nval) &#123;
      if(nval === val) return
      // æ´¾å‘æ›´æ–°
      val = nval
      dep.notify();
    &#125;
  &#125;)
&#125;
</code></pre><p>å›è¿‡å¤´æ¥çœ‹<code>watcher</code>,å®ä¾‹åŒ–<code>watcher</code>æ—¶ä¼šå°†<code>Dep.target</code>è®¾ç½®ä¸ºå½“å‰çš„<code>watcher</code>,æ‰§è¡Œå®ŒçŠ¶æ€æ›´æ–°å‡½æ•°ä¹‹åï¼Œå†å°†<code>Dep.target</code>ç½®ç©ºã€‚è¿™æ ·åœ¨æ”¶é›†ä¾èµ–æ—¶åªè¦å°†<code>Dep.target</code>å½“å‰çš„<code>watcher push</code>åˆ°<code>Dep</code>çš„<code>subs</code>æ•°ç»„å³å¯ã€‚è€Œåœ¨æ´¾å‘æ›´æ–°é˜¶æ®µä¹Ÿåªéœ€è¦é‡æ–°æ›´æ–°çŠ¶æ€å³å¯ã€‚</p><pre><code class="js">class Watcher &#123;
  constructor(expOrFn, isRenderWatcher) &#123;
    this.getter = expOrFn;
    // Watcher.prototype.getçš„è°ƒç”¨ä¼šè¿›è¡ŒçŠ¶æ€çš„æ›´æ–°ã€‚
    this.get();
  &#125;

  get() &#123;
    // å½“å‰æ‰§è¡Œçš„watcher
    Dep.target = this
    this.getter()
    Dep.target = null;
  &#125;
  update() &#123;
    this.get()
  &#125;
&#125;
</code></pre><h3 id="7-6-6-ç»“æœ"><a href="#7-6-6-ç»“æœ" class="headerlink" title="7.6.6 ç»“æœ"></a>7.6.6 ç»“æœ</h3><p>ä¸€ä¸ªæç®€çš„å“åº”å¼ç³»ç»Ÿæ­å»ºå®Œæˆã€‚åœ¨ç²¾ç®€ä»£ç çš„åŒæ—¶ï¼Œä¿æŒäº†æºç è®¾è®¡çš„æ€æƒ³å’Œé€»è¾‘ã€‚æœ‰äº†è¿™ä¸€æ­¥çš„åŸºç¡€ï¼Œæ¥ä¸‹æ¥æ·±å…¥åˆ†ææºç ä¸­æ¯ä¸ªç¯èŠ‚çš„å®ç°ç»†èŠ‚ä¼šæ›´åŠ ç®€å•ã€‚</p><h2 id="7-7-å°ç»“"><a href="#7-7-å°ç»“" class="headerlink" title="7.7 å°ç»“"></a>7.7 å°ç»“</h2><p>è¿™ä¸€èŠ‚å†…å®¹ï¼Œæˆ‘ä»¬æ­£å¼è¿›å…¥å“åº”å¼ç³»ç»Ÿçš„ä»‹ç»ï¼Œå‰é¢åœ¨æ•°æ®ä»£ç†ç« èŠ‚ï¼Œæˆ‘ä»¬å­¦è¿‡<code>Object.defineProperty</code>,è¿™æ˜¯ä¸€ä¸ªç”¨æ¥è¿›è¡Œæ•°æ®æ‹¦æˆªçš„æ–¹æ³•ï¼Œè€Œå“åº”å¼ç³»ç»Ÿæ„å»ºçš„åŸºç¡€å°±æ˜¯æ•°æ®çš„æ‹¦æˆªã€‚æˆ‘ä»¬å…ˆä»‹ç»äº†<code>Vue</code>å†…éƒ¨åœ¨åˆå§‹åŒ–æ•°æ®çš„è¿‡ç¨‹ï¼Œæœ€ç»ˆå¾—å‡ºçš„ç»“è®ºæ˜¯ï¼Œä¸ç®¡æ˜¯<code>data,computed</code>,è¿˜æ˜¯å…¶ä»–çš„ç”¨æˆ·å®šä¹‰æ•°æ®ï¼Œæœ€ç»ˆéƒ½æ˜¯è°ƒç”¨<code>Object.defineProperty</code>è¿›è¡Œæ•°æ®æ‹¦æˆªã€‚è€Œæ–‡ç« çš„æœ€åï¼Œæˆ‘ä»¬åœ¨ä¿ç•™æºç è®¾è®¡æ€æƒ³å’Œé€»è¾‘çš„å‰æä¸‹ï¼Œæ„å»ºå‡ºäº†ä¸€ä¸ªç®€åŒ–ç‰ˆçš„å“åº”å¼ç³»ç»Ÿã€‚å®Œæ•´çš„åŠŸèƒ½æœ‰åŠ©äºæˆ‘ä»¬ä¸‹ä¸€èŠ‚å¯¹æºç å…·ä½“å®ç°ç»†èŠ‚çš„åˆ†æå’Œæ€è€ƒã€‚</p><div class="tags"><a href="/tags/Vue/" rel="tag"><i class="ic i-tag"></i> Vue</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-08-04 16:10:51" itemprop="dateModified" datetime="2023-08-04T16:10:51+08:00">2023-08-04</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> èµèµ</button><p>è¯·æˆ‘å–[èŒ¶]~(ï¿£â–½ï¿£)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="sanxin98 å¾®ä¿¡æ”¯ä»˜"><p>å¾®ä¿¡æ”¯ä»˜</p></div><div><img data-src="/images/alipay.png" alt="sanxin98 æ”¯ä»˜å®"><p>æ”¯ä»˜å®</p></div></div></div><div id="copyright"><ul><li class="author"><strong>æœ¬æ–‡ä½œè€…ï¼š </strong>sanxin98 <i class="ic i-at"><em>@</em></i>æ­»è‚¥å®…</li><li class="link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong> <a href="https://pink-png.github.io/computer-science/vueyuanma/dosc/7%E6%B7%B1%E5%85%A5%E5%93%8D%E5%BA%94%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%9E%84%E5%BB%BA-%E4%B8%8A/" title="Step.7 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸Š">https://pink-png.github.io/computer-science/vueyuanma/dosc/7æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸Š/</a></li><li class="license"><strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/computer-science/vueyuanma/dosc/6%E7%BB%84%E4%BB%B6%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;cdn.cdnjson.com&#x2F;tva1.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gicitcxhpij20zk0m8hdt.jpg" title="Step.6 ç»„ä»¶é«˜çº§ç”¨æ³•"><span class="type">ä¸Šä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> vue2.xæºç </span><h3>Step.6 ç»„ä»¶é«˜çº§ç”¨æ³•</h3></a></div><div class="item right"><a href="/js-base/js%E4%B8%AD%E7%9A%84%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;cdn.cdnjson.com&#x2F;tva1.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giclg5ms2rj20zk0m8u0x.jpg" title="jsä¸­çš„æ·±æµ…æ‹·è´"><span class="type">ä¸‹ä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> Javascript</span><h3>jsä¸­çš„æ·±æµ…æ‹·è´</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="æ–‡ç« ç›®å½•"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#7-1-%E6%95%B0%E6%8D%AE%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">1.</span> <span class="toc-text">7.1 æ•°æ®åˆå§‹åŒ–</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-2-initProps"><span class="toc-number">2.</span> <span class="toc-text">7.2 initProps</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-1-props%E7%9A%84%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83"><span class="toc-number">2.1.</span> <span class="toc-text">7.2.1 propsçš„å‘½åè§„èŒƒ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-2-%E5%93%8D%E5%BA%94%E5%BC%8F%E6%95%B0%E6%8D%AEprops"><span class="toc-number">2.2.</span> <span class="toc-text">7.2.2 å“åº”å¼æ•°æ®props</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-3-initMethods"><span class="toc-number">3.</span> <span class="toc-text">7.3 initMethods</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-4-initData"><span class="toc-number">4.</span> <span class="toc-text">7.4 initData</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-5-initComputed"><span class="toc-number">5.</span> <span class="toc-text">7.5 initComputed</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-6-%E6%9E%81%E7%AE%80%E9%A3%8E%E7%9A%84%E5%93%8D%E5%BA%94%E5%BC%8F%E7%B3%BB%E7%BB%9F"><span class="toc-number">6.</span> <span class="toc-text">7.6 æç®€é£çš„å“åº”å¼ç³»ç»Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-1-%E6%A1%86%E6%9E%B6%E6%90%AD%E5%BB%BA"><span class="toc-number">6.1.</span> <span class="toc-text">7.6.1 æ¡†æ¶æ­å»º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-2-%E8%AE%BE%E7%BD%AE%E5%93%8D%E5%BA%94%E5%BC%8F%E5%AF%B9%E8%B1%A1-Observer"><span class="toc-number">6.2.</span> <span class="toc-text">7.6.2 è®¾ç½®å“åº”å¼å¯¹è±¡ - Observer</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-3-%E4%BE%9D%E8%B5%96%E6%9C%AC%E8%BA%AB-Watcher"><span class="toc-number">6.3.</span> <span class="toc-text">7.6.3 ä¾èµ–æœ¬èº« - Watcher</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-4-%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86-Dep"><span class="toc-number">6.4.</span> <span class="toc-text">7.6.4 ä¾èµ–ç®¡ç† - Dep</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-5-%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86%E8%BF%87%E7%A8%8B-defineReactive"><span class="toc-number">6.5.</span> <span class="toc-text">7.6.5 ä¾èµ–ç®¡ç†è¿‡ç¨‹ - defineReactive</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-6-%E7%BB%93%E6%9E%9C"><span class="toc-number">6.6.</span> <span class="toc-text">7.6.6 ç»“æœ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-7-%E5%B0%8F%E7%BB%93"><span class="toc-number">7.</span> <span class="toc-text">7.7 å°ç»“</span></a></li></ol></div><div class="related panel pjax" data-title="ç³»åˆ—æ–‡ç« "><ul><li><a href="/computer-science/vueyuanma/dosc/1%E4%B8%B0%E5%AF%8C%E7%9A%84%E9%80%89%E9%A1%B9%E5%90%88%E5%B9%B6%E7%AD%96%E7%95%A5/" rel="bookmark" title="Step.1 ä¸°å¯Œçš„é€‰é¡¹åˆå¹¶ç­–ç•¥">Step.1 ä¸°å¯Œçš„é€‰é¡¹åˆå¹¶ç­–ç•¥</a></li><li><a href="/computer-science/vueyuanma/dosc/2%E5%9F%BA%E7%A1%80%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BB%A3%E7%90%86%E6%A3%80%E6%B5%8B/" rel="bookmark" title="Step.2 åŸºç¡€çš„æ•°æ®ä»£ç†æ£€æµ‹">Step.2 åŸºç¡€çš„æ•°æ®ä»£ç†æ£€æµ‹</a></li><li><a href="/computer-science/vueyuanma/dosc/3%E5%AE%9E%E4%BE%8B%E6%8C%82%E8%BD%BD%E6%B5%81%E7%A8%8B%E5%92%8C%E6%A8%A1%E6%9D%BF%E7%BC%96%E8%AF%91/" rel="bookmark" title="Step.3 å®ä¾‹æŒ‚è½½æµç¨‹å’Œæ¨¡æ¿ç¼–è¯‘">Step.3 å®ä¾‹æŒ‚è½½æµç¨‹å’Œæ¨¡æ¿ç¼–è¯‘</a></li><li><a href="/computer-science/vueyuanma/dosc/4%E5%AE%8C%E6%95%B4%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B/" rel="bookmark" title="Step.4 å®Œæ•´æ¸²æŸ“æµç¨‹">Step.4 å®Œæ•´æ¸²æŸ“æµç¨‹</a></li><li><a href="/computer-science/vueyuanma/dosc/5%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80%E5%89%96%E6%9E%90/" rel="bookmark" title="Step.5 ç»„ä»¶åŸºç¡€å‰–æ">Step.5 ç»„ä»¶åŸºç¡€å‰–æ</a></li><li><a href="/computer-science/vueyuanma/dosc/6%E7%BB%84%E4%BB%B6%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95/" rel="bookmark" title="Step.6 ç»„ä»¶é«˜çº§ç”¨æ³•">Step.6 ç»„ä»¶é«˜çº§ç”¨æ³•</a></li><li class="active"><a href="/computer-science/vueyuanma/dosc/7%E6%B7%B1%E5%85%A5%E5%93%8D%E5%BA%94%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%9E%84%E5%BB%BA-%E4%B8%8A/" rel="bookmark" title="Step.7 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸Š">Step.7 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸Š</a></li><li><a href="/computer-science/vueyuanma/dosc/8%E6%B7%B1%E5%85%A5%E5%93%8D%E5%BA%94%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%9E%84%E5%BB%BA-%E4%B8%AD/" rel="bookmark" title="Step.8 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸­">Step.8 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸­</a></li><li><a href="/computer-science/vueyuanma/dosc/9%E6%B7%B1%E5%85%A5%E5%93%8D%E5%BA%94%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%9E%84%E5%BB%BA-%E4%B8%8B/" rel="bookmark" title="Step.9 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸‹">Step.9 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸‹</a></li><li><a href="/computer-science/vueyuanma/dosc/10%E6%9D%A5%EF%BC%8C%E8%B7%9F%E6%88%91%E4%B8%80%E8%B5%B7%E5%AE%9E%E7%8E%B0diff%E7%AE%97%E6%B3%95/" rel="bookmark" title="Step.10 æ¥ï¼Œè·Ÿæˆ‘ä¸€èµ·å®ç°diffç®—æ³•">Step.10 æ¥ï¼Œè·Ÿæˆ‘ä¸€èµ·å®ç°diffç®—æ³•</a></li><li><a href="/computer-science/vueyuanma/dosc/11%E6%8F%AD%E7%A7%98Vue%E7%9A%84%E4%BA%8B%E4%BB%B6%E6%9C%BA%E5%88%B6/" rel="bookmark" title="Step.11 æ­ç§˜Vueçš„äº‹ä»¶æœºåˆ¶">Step.11 æ­ç§˜Vueçš„äº‹ä»¶æœºåˆ¶</a></li><li><a href="/computer-science/vueyuanma/dosc/12vue%E6%8F%92%E6%A7%BD%EF%BC%8C%E4%BD%A0%E6%83%B3%E4%BA%86%E8%A7%A3%E7%9A%84%E9%83%BD%E5%9C%A8%E8%BF%99%E9%87%8C/" rel="bookmark" title="Step.12 vueæ’æ§½ï¼Œä½ æƒ³äº†è§£çš„éƒ½åœ¨è¿™é‡Œ">Step.12 vueæ’æ§½ï¼Œä½ æƒ³äº†è§£çš„éƒ½åœ¨è¿™é‡Œ</a></li><li><a href="/computer-science/vueyuanma/dosc/13%E4%BD%A0%E7%9C%9F%E7%9A%84%E4%BA%86%E8%A7%A3v-model%E7%9A%84%E8%AF%AD%E6%B3%95%E7%B3%96%E4%BA%86%E5%90%97/" rel="bookmark" title="Step.13 ä½ çœŸçš„äº†è§£v-modelçš„è¯­æ³•ç³–äº†å—">Step.13 ä½ çœŸçš„äº†è§£v-modelçš„è¯­æ³•ç³–äº†å—</a></li><li><a href="/computer-science/vueyuanma/dosc/14%E5%8A%A8%E6%80%81%E7%BB%84%E4%BB%B6%E7%9A%84%E6%B7%B1%E5%85%A5%E5%88%86%E6%9E%90/" rel="bookmark" title="Step.14 åŠ¨æ€ç»„ä»¶çš„æ·±å…¥åˆ†æ">Step.14 åŠ¨æ€ç»„ä»¶çš„æ·±å…¥åˆ†æ</a></li><li><a href="/computer-science/vueyuanma/dosc/15%E5%BD%BB%E5%BA%95%E6%90%9E%E6%87%82Vue%E4%B8%ADkeep-alive%E7%9A%84%E9%AD%94%E6%B3%95-%E4%B8%8A/" rel="bookmark" title="Step.15 å½»åº•ææ‡‚Vueä¸­keep-aliveçš„é­”æ³•-ä¸Š">Step.15 å½»åº•ææ‡‚Vueä¸­keep-aliveçš„é­”æ³•-ä¸Š</a></li><li><a href="/computer-science/vueyuanma/dosc/16%E5%BD%BB%E5%BA%95%E6%90%9E%E6%87%82Vue%E4%B8%ADkeep-alive%E7%9A%84%E9%AD%94%E6%B3%95-%E4%B8%8B/" rel="bookmark" title="Step.16 å½»åº•ææ‡‚Vueä¸­keep-aliveçš„é­”æ³•-ä¸Š">Step.16 å½»åº•ææ‡‚Vueä¸­keep-aliveçš„é­”æ³•-ä¸Š</a></li></ul></div><div class="overview panel" data-title="ç«™ç‚¹æ¦‚è§ˆ"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="sanxin98" data-src="/images/avatar.jpg"><p class="name" itemprop="name">sanxin98</p><div class="description" itemprop="description">ç¼–ç¨‹ & ç”Ÿæ´»</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">95</span> <span class="name">æ–‡ç« </span></a></div><div class="item categories"><a href="/categories/"><span class="count">40</span> <span class="name">åˆ†ç±»</span></a></div><div class="item tags"><a href="/tags/"><span class="count">29</span> <span class="name">æ ‡ç­¾</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3BpbmstcG5n" title="https:&#x2F;&#x2F;github.com&#x2F;pink-png"><i class="ic i-github"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>é¦–é¡µ</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>æ–‡ç« </a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>å½’æ¡£</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>åˆ†ç±»</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>æ ‡ç­¾</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/computer-science/vueyuanma/dosc/6%E7%BB%84%E4%BB%B6%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95/" rel="prev" title="ä¸Šä¸€ç¯‡"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/js-base/js%E4%B8%AD%E7%9A%84%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D/" rel="next" title="ä¸‹ä¸€ç¯‡"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>éšæœºæ–‡ç« </h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/Javascript/" title="åˆ†ç±»äº Javascript">Javascript</a></div><span><a href="/js-base/%E6%95%B0%E7%BB%84%E6%89%81%E5%B9%B3%E5%8C%96/" title="æ•°ç»„æ‰å¹³åŒ–">æ•°ç»„æ‰å¹³åŒ–</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºç§‘å­¦">è®¡ç®—æœºç§‘å­¦</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/vueyuanma/" title="åˆ†ç±»äº Vue">Vue</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/vueyuanma/dosc/" title="åˆ†ç±»äº vue2.xæºç ">vue2.xæºç </a></div><span><a href="/computer-science/vueyuanma/dosc/15%E5%BD%BB%E5%BA%95%E6%90%9E%E6%87%82Vue%E4%B8%ADkeep-alive%E7%9A%84%E9%AD%94%E6%B3%95-%E4%B8%8A/" title="Step.15 å½»åº•ææ‡‚Vueä¸­keep-aliveçš„é­”æ³•-ä¸Š">Step.15 å½»åº•ææ‡‚Vueä¸­keep-aliveçš„é­”æ³•-ä¸Š</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/Uniapp/" title="åˆ†ç±»äº Uniapp">Uniapp</a></div><span><a href="/front-end/uniapp%E6%A1%86%E6%9E%B6%E5%8E%9F%E7%90%86/" title="uniappæ¡†æ¶åŸç†">uniappæ¡†æ¶åŸç†</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/PM2/" title="åˆ†ç±»äº PM2">PM2</a></div><span><a href="/front-end/PM2%20+%20linux/" title="PM2">PM2</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/css/" title="åˆ†ç±»äº css">css</a></div><span><a href="/front-end/%E5%89%8D%E7%AB%AF%E5%B8%83%E5%B1%80/" title="å‰ç«¯å¸¸è§å¸ƒå±€">å‰ç«¯å¸¸è§å¸ƒå±€</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/" title="åˆ†ç±»äº å¾®ä¿¡å°ç¨‹åº">å¾®ä¿¡å°ç¨‹åº</a></div><span><a href="/front-end/%E5%BE%AE%E4%BF%A1%E2%BC%A9%E7%A8%8B%E5%BA%8F/" title="å¾®ä¿¡å°ç¨‹åº">å¾®ä¿¡å°ç¨‹åº</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/Javascript/" title="åˆ†ç±»äº Javascript">Javascript</a></div><span><a href="/js-base/js%E5%85%B3%E4%BA%8EString%E5%8C%85%E8%A3%85%E7%B1%BB%E5%9E%8B%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE%E7%9A%84%E6%80%BB%E7%BB%93/" title="å…³äºStringåŒ…è£…ç±»å‹å¤„ç†æ•°æ®çš„æ€»ç»“">å…³äºStringåŒ…è£…ç±»å‹å¤„ç†æ•°æ®çš„æ€»ç»“</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" title="åˆ†ç±»äº å‰ç«¯æ€§èƒ½ä¼˜åŒ–">å‰ç«¯æ€§èƒ½ä¼˜åŒ–</a></div><span><a href="/performance-optimization/%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%A6%96%E5%B1%8F%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" title="å°ç¨‹åºé¦–å±æ€§èƒ½ä¼˜åŒ–">å°ç¨‹åºé¦–å±æ€§èƒ½ä¼˜åŒ–</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/" title="åˆ†ç±»äº ç‰ˆæœ¬ç®¡ç†">ç‰ˆæœ¬ç®¡ç†</a> <i class="ic i-angle-right"></i> <a href="/categories/%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86/git/" title="åˆ†ç±»äº git">git</a></div><span><a href="/tool/git%E5%AD%A6%E4%B9%A0%E6%B8%85%E5%8D%95/" title="gitå­¦ä¹ æ¸…å•">gitå­¦ä¹ æ¸…å•</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºç§‘å­¦">è®¡ç®—æœºç§‘å­¦</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/react0-1/" title="åˆ†ç±»äº react">react</a></div><span><a href="/computer-science/react0-1/redux/" title="step.4 redux">step.4 redux</a></span></li></ul></div><div><h2>æœ€æ–°è¯„è®º</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 â€“ <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">sanxin98 @ Yume Shoka</span></div><div class="powered-by">åŸºäº <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"computer-science/vueyuanma/dosc/7æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸Š/",favicon:{show:"ï¼ˆâ—Â´3ï½€â—ï¼‰ã‚„ã‚Œã‚„ã‚Œã ãœ",hide:"(Â´Ğ”ï½€)å¤§å¤‰ã ï¼"},search:{placeholder:"æ–‡ç« æœç´¢",empty:"å…³äº ã€Œ ${query} ã€ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœåˆ°",stats:"${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"},valine:{placeholder:"1. æé—®å‰è¯·å…ˆä»”ç»†é˜…è¯»æœ¬æ–‡æ¡£âš¡\n2. é¡µé¢æ˜¾ç¤ºé—®é¢˜ğŸ’¥ï¼Œè¯·æä¾›æ§åˆ¶å°æˆªå›¾ğŸ“¸æˆ–è€…æ‚¨çš„æµ‹è¯•ç½‘å€\n3. å…¶ä»–ä»»ä½•æŠ¥é”™ğŸ’£ï¼Œè¯·æä¾›è¯¦ç»†æè¿°å’Œæˆªå›¾ğŸ“¸ï¼Œç¥é£Ÿç”¨æ„‰å¿«ğŸ’ª"},fancybox:!0,copyright:'å¤åˆ¶æˆåŠŸï¼Œè½¬è½½è¯·éµå®ˆ <i class="ic i-creative-commons"></i>BY-NC-SA åè®®ã€‚',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>