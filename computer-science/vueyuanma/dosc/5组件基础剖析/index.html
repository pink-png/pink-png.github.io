<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="æ­»è‚¥å®…" href="https://pink-png.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="æ­»è‚¥å®…" href="https://pink-png.github.io/atom.xml"><link rel="alternate" type="application/json" title="æ­»è‚¥å®…" href="https://pink-png.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="Vue"><link rel="canonical" href="https://pink-png.github.io/computer-science/vueyuanma/dosc/5%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80%E5%89%96%E6%9E%90/"><title>Step.5 ç»„ä»¶åŸºç¡€å‰–æ - vue2.xæºç  - Vue - è®¡ç®—æœºç§‘å­¦ | Yume Shoka = æ­»è‚¥å®… = è‚¥å®…å¿«ä¹æ°´</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Step.5 ç»„ä»¶åŸºç¡€å‰–æ</h1><div class="meta"><span class="item" title="åˆ›å»ºæ—¶é—´ï¼š2020-04-29 20:46:48"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">å‘è¡¨äº</span> <time itemprop="dateCreated datePublished" datetime="2020-04-29T20:46:48+08:00">2020-04-29</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Yume Shoka</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://cdn.cdnjson.com/tva4.sinaimg.cn/large/6833939bly1gipeybxm1pj20zk0m8niv.jpg"></li><li class="item" data-background-image="https://cdn.cdnjson.com/tva4.sinaimg.cn/large/6833939bly1gipevo9j1jj20zk0m8e81.jpg"></li><li class="item" data-background-image="https://cdn.cdnjson.com/tva4.sinaimg.cn/large/6833939bly1giclgi503lj20zk0m8hdt.jpg"></li><li class="item" data-background-image="https://cdn.cdnjson.com/tva4.sinaimg.cn/large/6833939bly1giciundwu5j20zk0m8n9e.jpg"></li><li class="item" data-background-image="https://cdn.cdnjson.com/tva4.sinaimg.cn/large/6833939bly1gipetfk5zwj20zk0m8e81.jpg"></li><li class="item" data-background-image="https://cdn.cdnjson.com/tva4.sinaimg.cn/large/6833939bly1giclhpw3lwj20zk0m8gvw.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">é¦–é¡µ</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/" itemprop="item" rel="index" title="åˆ†ç±»äº è®¡ç®—æœºç§‘å­¦"><span itemprop="name">è®¡ç®—æœºç§‘å­¦</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/vueyuanma/" itemprop="item" rel="index" title="åˆ†ç±»äº Vue"><span itemprop="name">Vue</span></a><meta itemprop="position" content="2"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/vueyuanma/dosc/" itemprop="item" rel="index" title="åˆ†ç±»äº vue2.xæºç "><span itemprop="name">vue2.xæºç </span></a><meta itemprop="position" content="3"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://pink-png.github.io/computer-science/vueyuanma/dosc/5%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80%E5%89%96%E6%9E%90/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="sanxin98"><meta itemprop="description" content="è‚¥å®…å¿«ä¹æ°´, ç¼–ç¨‹ & ç”Ÿæ´»"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ­»è‚¥å®…"></span><div class="body md" itemprop="articleBody"><blockquote><p>ç»„ä»¶æ˜¯<code>Vue</code>çš„ä¸€ä¸ªé‡è¦æ ¸å¿ƒï¼Œæˆ‘ä»¬åœ¨è¿›è¡Œé¡¹ç›®å·¥ç¨‹åŒ–æ—¶ï¼Œä¼šå°†é¡µé¢çš„ç»“æ„ç»„ä»¶åŒ–ã€‚ç»„ä»¶åŒ–æ„å‘³ç€ç‹¬ç«‹å’Œå…±äº«,è€Œä¸¤ä¸ªç»“è®ºå¹¶ä¸çŸ›ç›¾ï¼Œç‹¬ç«‹çš„ç»„ä»¶å¼€å‘å¯ä»¥è®©å¼€å‘è€…ä¸“æ³¨äºæŸä¸ªåŠŸèƒ½é¡¹çš„å¼€å‘å’Œæ‰©å±•ï¼Œè€Œç»„ä»¶çš„è®¾è®¡ç†å¿µåˆä½¿å¾—åŠŸèƒ½é¡¹æ›´åŠ å…·æœ‰å¤ç”¨æ€§ï¼Œä¸åŒçš„é¡µé¢å¯ä»¥è¿›è¡Œç»„ä»¶åŠŸèƒ½çš„å…±äº«ã€‚å¯¹äºå¼€å‘è€…è€Œè¨€ï¼Œç¼–å†™<code>Vue</code>ç»„ä»¶æ˜¯æŒæ¡<code>Vue</code>å¼€å‘çš„æ ¸å¿ƒåŸºç¡€ï¼Œ<code>Vue</code>å®˜ç½‘ä¹ŸèŠ±äº†å¤§é‡çš„ç¯‡å¹…ä»‹ç»äº†ç»„ä»¶çš„ä½“ç³»å’Œå„ç§ä½¿ç”¨æ–¹æ³•ã€‚è¿™ä¸€èŠ‚å†…å®¹ï¼Œæˆ‘ä»¬ä¼šæ·±å…¥<code>Vue</code>ç»„ä»¶å†…éƒ¨çš„æºç ï¼Œäº†è§£<strong>ç»„ä»¶æ³¨å†Œçš„å®ç°æ€è·¯ï¼Œå¹¶ç»“åˆä¸Šä¸€èŠ‚ä»‹ç»çš„å®ä¾‹æŒ‚è½½åˆ†æç»„ä»¶æ¸²æŸ“æŒ‚è½½çš„åŸºæœ¬æµç¨‹ï¼Œæœ€åæˆ‘ä»¬å°†åˆ†æç»„ä»¶å’Œç»„ä»¶ä¹‹é—´æ˜¯å¦‚ä½•å»ºç«‹è”ç³»çš„</strong>ã€‚æˆ‘ç›¸ä¿¡ï¼ŒæŒæ¡è¿™äº›åº•å±‚çš„å®ç°æ€è·¯å¯¹äºæˆ‘ä»¬ä»Šååœ¨è§£å†³<code>vue</code>ç»„ä»¶ç›¸å…³é—®é¢˜ä¸Šä¼šæœ‰æ˜æ˜¾çš„å¸®åŠ©ã€‚</p></blockquote><h2 id="5-1-ç»„ä»¶ä¸¤ç§æ³¨å†Œæ–¹å¼"><a href="#5-1-ç»„ä»¶ä¸¤ç§æ³¨å†Œæ–¹å¼" class="headerlink" title="5.1 ç»„ä»¶ä¸¤ç§æ³¨å†Œæ–¹å¼"></a>5.1 ç»„ä»¶ä¸¤ç§æ³¨å†Œæ–¹å¼</h2><p>ç†Ÿæ‚‰<code>Vue</code>å¼€å‘æµç¨‹çš„éƒ½çŸ¥é“ï¼Œ<code>Vue</code>ç»„ä»¶åœ¨ä½¿ç”¨ä¹‹å‰éœ€è¦è¿›è¡Œæ³¨å†Œï¼Œè€Œæ³¨å†Œçš„æ–¹å¼æœ‰ä¸¤ç§ï¼Œå…¨å±€æ³¨å†Œå’Œå±€éƒ¨æ³¨å†Œã€‚åœ¨è¿›å…¥æºç åˆ†æä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆå›å¿†ä¸€ä¸‹ä¸¤è€…çš„ç”¨æ³•ï¼Œä»¥ä¾¿åç»­æŒæ¡ä¸¤è€…çš„å·®å¼‚ã€‚</p><h3 id="5-1-1-å…¨å±€æ³¨å†Œ"><a href="#5-1-1-å…¨å±€æ³¨å†Œ" class="headerlink" title="5.1.1 å…¨å±€æ³¨å†Œ"></a>5.1.1 å…¨å±€æ³¨å†Œ</h3><pre><code class="js">Vue.component(&#39;my-test&#39;, &#123;
    template: &#39;&lt;div&gt;&#123;&#123;test&#125;&#125;&lt;/div&gt;&#39;,
    data () &#123;
        return &#123;
            test: 1212
        &#125;
    &#125;
&#125;)
var vm = new Vue(&#123;
    el: &#39;#app&#39;,
    template: &#39;&lt;div id=&quot;app&quot;&gt;&lt;my-test&gt;&lt;my-test/&gt;&lt;/div&gt;&#39;
&#125;)
</code></pre><p><strong>å…¶ä¸­ç»„ä»¶çš„å…¨å±€æ³¨å†Œéœ€è¦åœ¨å…¨å±€å®ä¾‹åŒ–Vueå‰è°ƒç”¨</strong>,æ³¨å†Œä¹‹åå¯ä»¥ç”¨åœ¨ä»»ä½•æ–°åˆ›å»ºçš„<code>Vue</code>å®ä¾‹ä¸­è°ƒç”¨ã€‚</p><h3 id="5-1-2-å±€éƒ¨æ³¨å†Œ"><a href="#5-1-2-å±€éƒ¨æ³¨å†Œ" class="headerlink" title="5.1.2 å±€éƒ¨æ³¨å†Œ"></a>5.1.2 å±€éƒ¨æ³¨å†Œ</h3><pre><code class="js">var myTest = &#123;
    template: &#39;&lt;div&gt;&#123;&#123;test&#125;&#125;&lt;/div&gt;&#39;,
    data () &#123;
        return &#123;
            test: 1212
        &#125;
    &#125;
&#125;
var vm = new Vue(&#123;
    el: &#39;#app&#39;,
    component: &#123;
        myTest
    &#125;
&#125;)
</code></pre><p>å½“åªéœ€è¦åœ¨æŸä¸ªå±€éƒ¨ç”¨åˆ°æŸä¸ªç»„ä»¶æ—¶ï¼Œå¯ä»¥ä½¿ç”¨å±€éƒ¨æ³¨å†Œçš„æ–¹å¼è¿›è¡Œç»„ä»¶æ³¨å†Œï¼Œæ­¤æ—¶å±€éƒ¨æ³¨å†Œçš„ç»„ä»¶åªèƒ½åœ¨æ³¨å†Œè¯¥ç»„ä»¶å†…éƒ¨ä½¿ç”¨ã€‚</p><h3 id="5-1-3-æ³¨å†Œè¿‡ç¨‹"><a href="#5-1-3-æ³¨å†Œè¿‡ç¨‹" class="headerlink" title="5.1.3 æ³¨å†Œè¿‡ç¨‹"></a>5.1.3 æ³¨å†Œè¿‡ç¨‹</h3><p>åœ¨ç®€å•å›é¡¾ç»„ä»¶çš„ä¸¤ç§æ³¨å†Œæ–¹å¼åï¼Œæˆ‘ä»¬æ¥çœ‹æ³¨å†Œè¿‡ç¨‹åˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆï¼Œæˆ‘ä»¬ä»¥å…¨å±€ç»„ä»¶æ³¨å†Œä¸ºä¾‹ã€‚å®ƒé€šè¿‡<code>Vue.component(name, &#123;...&#125;)</code>è¿›è¡Œç»„ä»¶æ³¨å†Œï¼Œ<code>Vue.component</code>æ˜¯åœ¨<code>Vue</code>æºç å¼•å…¥é˜¶æ®µå®šä¹‰çš„é™æ€æ–¹æ³•ã€‚</p><pre><code class="js">// åˆå§‹åŒ–å…¨å±€api
initAssetRegisters(Vue);
var ASSET_TYPES = [
    &#39;component&#39;,
    &#39;directive&#39;,
    &#39;filter&#39;
];
function initAssetRegisters(Vue)&#123;
    // å®šä¹‰ASSET_TYPESä¸­æ¯ä¸ªå±æ€§çš„æ–¹æ³•ï¼Œå…¶ä¸­åŒ…æ‹¬component
    ASSET_TYPES.forEach(function (type) &#123;
    // type: component,directive,filter
      Vue[type] = function (id,definition) &#123;
          if (!definition) &#123;
            // ç›´æ¥è¿”å›æ³¨å†Œç»„ä»¶çš„æ„é€ å‡½æ•°
            return this.options[type + &#39;s&#39;][id]
          &#125;
          ...
          if (type === &#39;component&#39;) &#123;
            // éªŒè¯componentç»„ä»¶åå­—æ˜¯å¦åˆæ³•
            validateComponentName(id);
          &#125;
          if (type === &#39;component&#39; &amp;&amp; isPlainObject(definition)) &#123;
            // ç»„ä»¶åç§°è®¾ç½®
            definition.name = definition.name || id;
            // Vue.extend() åˆ›å»ºå­ç»„ä»¶ï¼Œè¿”å›å­ç±»æ„é€ å™¨
            definition = this.options._base.extend(definition);
          &#125;
          // ä¸ºVue.options ä¸Šçš„componentå±æ€§æ·»åŠ å°†å­ç±»æ„é€ å™¨
          this.options[type + &#39;s&#39;][id] = definition;
          return definition
        &#125;
    &#125;);
&#125;
</code></pre><p><code>Vue.components</code>æœ‰ä¸¤ä¸ªå‚æ•°ï¼Œä¸€ä¸ªæ˜¯éœ€è¦æ³¨å†Œç»„ä»¶çš„ç»„ä»¶åï¼Œå¦ä¸€ä¸ªæ˜¯ç»„ä»¶é€‰é¡¹ï¼Œå¦‚æœç¬¬äºŒä¸ªå‚æ•°æ²¡æœ‰ä¼ é€’ï¼Œåˆ™ä¼šç›´æ¥è¿”å›æ³¨å†Œè¿‡çš„ç»„ä»¶é€‰é¡¹ã€‚å¦åˆ™æ„å‘³ç€éœ€è¦å¯¹è¯¥ç»„ä»¶è¿›è¡Œæ³¨å†Œï¼Œæ³¨å†Œè¿‡ç¨‹å…ˆä¼šå¯¹ç»„ä»¶åçš„åˆæ³•æ€§è¿›è¡Œæ£€æµ‹ï¼Œè¦æ±‚ç»„ä»¶åä¸å…è®¸å‡ºç°éæ³•çš„æ ‡ç­¾ï¼ŒåŒ…æ‹¬<code>Vue</code>å†…ç½®çš„ç»„ä»¶åï¼Œå¦‚<code>slot, component</code>ç­‰ã€‚</p><pre><code class="js">function validateComponentName(name) &#123;
    if (!new RegExp((&quot;^[a-zA-Z][\\-\\.0-9_&quot; + (unicodeRegExp.source) + &quot;]*$&quot;)).test(name)) &#123;
      // æ­£åˆ™åˆ¤æ–­æ£€æµ‹æ˜¯å¦ä¸ºéæ³•çš„æ ‡ç­¾
      warn(
        &#39;Invalid component name: &quot;&#39; + name + &#39;&quot;. Component names &#39; +
        &#39;should conform to valid custom element name in html5 specification.&#39;
      );
    &#125;
    // ä¸èƒ½ä½¿ç”¨Vueè‡ªèº«è‡ªå®šä¹‰çš„ç»„ä»¶åï¼Œå¦‚slot, component,ä¸èƒ½ä½¿ç”¨htmlçš„ä¿ç•™æ ‡ç­¾ï¼Œå¦‚ h1, svgç­‰
    if (isBuiltInTag(name) || config.isReservedTag(name)) &#123;
      warn(
        &#39;Do not use built-in or reserved HTML elements as component &#39; +
        &#39;id: &#39; + name
      );
    &#125;
  &#125;
</code></pre><p>åœ¨ç»è¿‡ç»„ä»¶åçš„åˆæ³•æ€§æ£€æµ‹åï¼Œä¼šè°ƒç”¨<code>extend</code>æ–¹æ³•ä¸ºç»„ä»¶åˆ›å»ºä¸€ä¸ªå­ç±»æ„é€ å™¨ï¼Œæ­¤æ—¶çš„<code>this.options._base</code>ä»£è¡¨çš„å°±æ˜¯<code>Vue</code>æ„é€ å™¨ã€‚<code>extend</code>æ–¹æ³•çš„å®šä¹‰åœ¨ä»‹ç»é€‰é¡¹åˆå¹¶ç« èŠ‚æœ‰é‡ç‚¹ä»‹ç»è¿‡ï¼Œå®ƒä¼š<strong>åŸºäºçˆ¶ç±»å»åˆ›å»ºä¸€ä¸ªå­ç±»</strong>ï¼Œæ­¤æ—¶çš„çˆ¶ç±»æ˜¯<code>Vue</code>ï¼Œå¹¶ä¸”åˆ›å»ºè¿‡ç¨‹å­ç±»ä¼šç»§æ‰¿çˆ¶ç±»çš„æ–¹æ³•ï¼Œå¹¶ä¼šå’Œçˆ¶ç±»çš„é€‰é¡¹è¿›è¡Œåˆå¹¶ï¼Œæœ€ç»ˆè¿”å›ä¸€ä¸ªå­ç±»æ„é€ å™¨ã€‚</p><p>ä»£ç å¤„è¿˜æœ‰ä¸€ä¸ªé€»è¾‘ï¼Œ<code>Vue.component()</code>é»˜è®¤ä¼šæŠŠç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸ºç»„ä»¶åç§°ï¼Œä½†æ˜¯å¦‚æœç»„ä»¶é€‰é¡¹æœ‰<code>name</code>å±æ€§æ—¶ï¼Œ<code>name</code>å±æ€§å€¼ä¼šå°†ç»„ä»¶åè¦†ç›–ã€‚</p><p><strong>æ€»ç»“èµ·æ¥ï¼Œå…¨å±€æ³¨å†Œç»„ä»¶å°±æ˜¯<code>Vue</code>å®ä¾‹åŒ–å‰åˆ›å»ºä¸€ä¸ªåŸºäº<code>Vue</code>çš„å­ç±»æ„é€ å™¨ï¼Œå¹¶å°†ç»„ä»¶çš„ä¿¡æ¯åŠ è½½åˆ°å®ä¾‹<code>options.components</code>å¯¹è±¡ä¸­ã€‚</strong></p><p><strong>æ¥ä¸‹æ¥è‡ªç„¶è€Œç„¶ä¼šæƒ³åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå±€éƒ¨æ³¨å†Œå’Œå…¨å±€æ³¨å†Œåœ¨å®ç°ä¸Šçš„åŒºåˆ«ä½“ç°åœ¨å“ªé‡Œï¼Ÿ</strong>æˆ‘ä»¬ä¸æ€¥ç€åˆ†æå±€éƒ¨ç»„ä»¶çš„æ³¨å†Œæµç¨‹ï¼Œå…ˆä»¥å…¨å±€æ³¨å†Œçš„ç»„ä»¶ä¸ºåŸºç¡€ï¼Œçœ‹çœ‹ä½œä¸ºç»„ä»¶ï¼Œå®ƒçš„æŒ‚è½½æµç¨‹æœ‰ä»€ä¹ˆä¸åŒã€‚</p><h2 id="5-2-ç»„ä»¶Vnodeåˆ›å»º"><a href="#5-2-ç»„ä»¶Vnodeåˆ›å»º" class="headerlink" title="5.2 ç»„ä»¶Vnodeåˆ›å»º"></a>5.2 ç»„ä»¶Vnodeåˆ›å»º</h2><p>ä¸Šä¸€èŠ‚å†…å®¹æˆ‘ä»¬ä»‹ç»äº†<code>Vue</code>å¦‚ä½•å°†ä¸€ä¸ªæ¨¡æ¿ï¼Œé€šè¿‡<code>render</code>å‡½æ•°çš„è½¬æ¢ï¼Œæœ€ç»ˆç”Ÿæˆä¸€ä¸ª<code>Vnode tree</code>çš„ï¼Œåœ¨ä¸åŒ…å«ç»„ä»¶çš„æƒ…å†µä¸‹ï¼Œ<code>_render</code>å‡½æ•°çš„æœ€åä¸€æ­¥æ˜¯ç›´æ¥è°ƒç”¨<code>new Vnode</code>å»åˆ›å»ºä¸€ä¸ªå®Œæ•´çš„<code>Vnode tree</code>ã€‚ç„¶è€Œæœ‰ä¸€å¤§éƒ¨åˆ†çš„åˆ†æ”¯æˆ‘ä»¬å¹¶æ²¡æœ‰åˆ†æï¼Œé‚£å°±æ˜¯é‡åˆ°ç»„ä»¶å ä½ç¬¦çš„åœºæ™¯ã€‚æ‰§è¡Œé˜¶æ®µå¦‚æœé‡åˆ°ç»„ä»¶ï¼Œå¤„ç†è¿‡ç¨‹è¦æ¯”æƒ³åƒä¸­å¤æ‚å¾—å¤šï¼Œæˆ‘ä»¬é€šè¿‡ä¸€å¼ æµç¨‹å›¾å±•å¼€åˆ†æã€‚</p><h3 id="5-2-1-Vnodeåˆ›å»ºæµç¨‹å›¾"><a href="#5-2-1-Vnodeåˆ›å»ºæµç¨‹å›¾" class="headerlink" title="5.2.1 Vnodeåˆ›å»ºæµç¨‹å›¾"></a>5.2.1 Vnodeåˆ›å»ºæµç¨‹å›¾</h3><p><img data-src="/images/img/5.1.png"></p><h3 id="5-2-2-å…·ä½“æµç¨‹åˆ†æ"><a href="#5-2-2-å…·ä½“æµç¨‹åˆ†æ" class="headerlink" title="5.2.2 å…·ä½“æµç¨‹åˆ†æ"></a>5.2.2 å…·ä½“æµç¨‹åˆ†æ</h3><p>æˆ‘ä»¬ç»“åˆå®é™…çš„ä¾‹å­å¯¹ç…§ç€æµç¨‹å›¾åˆ†æä¸€ä¸‹è¿™ä¸ªè¿‡ç¨‹ï¼š</p><ul><li>åœºæ™¯</li></ul><pre><code class="js">Vue.component(&#39;test&#39;, &#123;
  template: &#39;&lt;span&gt;&lt;/span&gt;&#39;
&#125;)
var vm = new Vue(&#123;
  el: &#39;#app&#39;,
  template: &#39;&lt;div&gt;&lt;test&gt;&lt;/test&gt;&lt;/div&gt;&#39;
&#125;)
</code></pre><ul><li>çˆ¶<code>render</code>å‡½æ•°</li></ul><pre><code class="js">function() &#123;
  with(this)&#123;return _c(&#39;div&#39;,[_c(&#39;test&#39;)],1)&#125;
&#125;
</code></pre><ul><li><code>Vue</code>æ ¹å®ä¾‹åˆå§‹åŒ–ä¼šæ‰§è¡Œ <code>vm.$mount(vm.$options.el)</code>å®ä¾‹æŒ‚è½½çš„è¿‡ç¨‹ï¼ŒæŒ‰ç…§ä¹‹å‰çš„é€»è¾‘ï¼Œå®Œæ•´æµç¨‹ä¼šç»å†<code>render</code>å‡½æ•°ç”Ÿæˆ<code>Vnode</code>,ä»¥åŠ<code>Vnode</code>ç”ŸæˆçœŸå®<code>DOM</code>çš„è¿‡ç¨‹ã€‚</li><li><code>render</code>å‡½æ•°ç”Ÿæˆ<code>Vnode</code>è¿‡ç¨‹ä¸­ï¼Œå­ä¼šä¼˜å…ˆçˆ¶æ‰§è¡Œç”Ÿæˆ<code>Vnode</code>è¿‡ç¨‹,ä¹Ÿå°±æ˜¯<code>_c(&#39;test&#39;)</code>å‡½æ•°ä¼šå…ˆè¢«æ‰§è¡Œã€‚<code>&#39;test&#39;</code>ä¼šå…ˆåˆ¤æ–­æ˜¯æ™®é€šçš„<code>html</code>æ ‡ç­¾è¿˜æ˜¯ç»„ä»¶çš„å ä½ç¬¦ã€‚</li><li>å¦‚æœä¸ºä¸€èˆ¬æ ‡ç­¾ï¼Œä¼šæ‰§è¡Œ<code>new Vnode</code>è¿‡ç¨‹ï¼Œè¿™ä¹Ÿæ˜¯ä¸Šä¸€ç« èŠ‚æˆ‘ä»¬åˆ†æçš„è¿‡ç¨‹ï¼›å¦‚æœæ˜¯ç»„ä»¶çš„å ä½ç¬¦ï¼Œåˆ™ä¼šåœ¨åˆ¤æ–­ç»„ä»¶å·²ç»è¢«æ³¨å†Œè¿‡çš„å‰æä¸‹è¿›å…¥<code>createComponent</code>åˆ›å»ºå­ç»„ä»¶<code>Vnode</code>çš„è¿‡ç¨‹ã€‚</li><li><code>createComponent</code>æ˜¯åˆ›å»ºç»„ä»¶<code>Vnode</code>çš„è¿‡ç¨‹ï¼Œåˆ›å»ºè¿‡ç¨‹ä¼šå†æ¬¡åˆå¹¶é€‰é¡¹é…ç½®ï¼Œå¹¶å®‰è£…ç»„ä»¶ç›¸å…³çš„å†…éƒ¨é’©å­(åé¢æ–‡ç« ä¼šå†æ¬¡æåˆ°å†…éƒ¨é’©å­çš„ä½œç”¨)ï¼Œæœ€åé€šè¿‡<code>new Vnode()</code>ç”Ÿæˆä»¥<code>vue-component</code>å¼€å¤´çš„<code>Virtual DOM</code></li><li><code>render</code>å‡½æ•°æ‰§è¡Œè¿‡ç¨‹ä¹Ÿæ˜¯ä¸€ä¸ªå¾ªç¯é€’å½’è°ƒç”¨åˆ›å»º<code>Vnode</code>çš„è¿‡ç¨‹ï¼Œæ‰§è¡Œ3ï¼Œ4æ­¥ä¹‹åï¼Œå®Œæ•´çš„ç”Ÿæˆäº†ä¸€ä¸ªåŒ…å«å„ä¸ªå­ç»„ä»¶çš„<code>Vnode tree</code></li></ul><p><code>_createElement</code>å‡½æ•°çš„å®ç°ä¹‹å‰ç« èŠ‚åˆ†æè¿‡ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬é‡ç‚¹çœ‹çœ‹ç»„ä»¶ç›¸å…³çš„æ“ä½œã€‚</p><pre><code class="js">// å†…éƒ¨æ‰§è¡Œå°†renderå‡½æ•°è½¬åŒ–ä¸ºVnodeçš„å‡½æ•°
function _createElement(context,tag,data,children,normalizationType) &#123;
  Â·Â·Â·
  if (typeof tag === &#39;string&#39;) &#123;
    // å­èŠ‚ç‚¹çš„æ ‡ç­¾ä¸ºæ™®é€šçš„htmlæ ‡ç­¾ï¼Œç›´æ¥åˆ›å»ºVnode
    if (config.isReservedTag(tag)) &#123;
      vnode = new VNode(
        config.parsePlatformTagName(tag), data, children,
        undefined, undefined, context
      );
    // å­èŠ‚ç‚¹æ ‡ç­¾ä¸ºæ³¨å†Œè¿‡çš„ç»„ä»¶æ ‡ç­¾åï¼Œåˆ™å­ç»„ä»¶Vnodeçš„åˆ›å»ºè¿‡ç¨‹
    &#125; else if ((!data || !data.pre) &amp;&amp; isDef(Ctor = resolveAsset(context.$options, &#39;components&#39;, tag))) &#123;
      // åˆ›å»ºå­ç»„ä»¶Vnode
      vnode = createComponent(Ctor, data, context, children, tag);
    &#125;
  &#125;
&#125;
</code></pre><p><code>config.isReservedTag(tag)</code>ç”¨æ¥åˆ¤æ–­æ ‡ç­¾æ˜¯å¦ä¸ºæ™®é€šçš„<code>html</code>æ ‡ç­¾ï¼Œå¦‚æœæ˜¯æ™®é€šèŠ‚ç‚¹ä¼šç›´æ¥åˆ›å»º<code>Vnode</code>èŠ‚ç‚¹ï¼Œå¦‚æœä¸æ˜¯ï¼Œåˆ™éœ€è¦åˆ¤æ–­è¿™ä¸ªå ä½ç¬¦ç»„ä»¶æ˜¯å¦å·²ç»æ³¨å†Œåˆ°ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>context.$options.components[ç»„ä»¶å]</code>æ‹¿åˆ°æ³¨å†Œåçš„ç»„ä»¶é€‰é¡¹ã€‚å¦‚ä½•åˆ¤æ–­ç»„ä»¶æ˜¯å¦å·²ç»å…¨å±€æ³¨å†Œï¼Œçœ‹çœ‹<code>resolveAsset</code>çš„å®ç°ã€‚</p><pre><code class="js">// éœ€è¦æ˜ç¡®ç»„ä»¶æ˜¯å¦å·²ç»è¢«æ³¨å†Œ
  function resolveAsset (options,type,id,warnMissing) &#123;
    // æ ‡ç­¾ä¸ºå­—ç¬¦ä¸²
    if (typeof id !== &#39;string&#39;) &#123;
      return
    &#125;
    // è¿™é‡Œæ˜¯ options.component
    var assets = options[type];
    // è¿™é‡Œçš„åˆ†æ”¯åˆ†åˆ«æ”¯æŒå¤§å°å†™ï¼Œé©¼å³°çš„å‘½åè§„èŒƒ
    if (hasOwn(assets, id)) &#123; return assets[id] &#125;
    var camelizedId = camelize(id);
    if (hasOwn(assets, camelizedId)) &#123; return assets[camelizedId] &#125;
    var PascalCaseId = capitalize(camelizedId);
    if (hasOwn(assets, PascalCaseId)) &#123; return assets[PascalCaseId] &#125;
    // fallback to prototype chain
    var res = assets[id] || assets[camelizedId] || assets[PascalCaseId];
    if (warnMissing &amp;&amp; !res) &#123;
      warn(
        &#39;Failed to resolve &#39; + type.slice(0, -1) + &#39;: &#39; + id,
        options
      );
    &#125;
    // æœ€ç»ˆè¿”å›å­ç±»çš„æ„é€ å™¨
    return res
  &#125;
</code></pre><p>æ‹¿åˆ°æ³¨å†Œè¿‡çš„å­ç±»æ„é€ å™¨åï¼Œè°ƒç”¨<code>createComponent</code>æ–¹æ³•åˆ›å»ºå­ç»„ä»¶<code>Vnode</code></p><pre><code class="js"> // åˆ›å»ºå­ç»„ä»¶è¿‡ç¨‹
  function createComponent (
    Ctor, // å­ç±»æ„é€ å™¨
    data,
    context, // vmå®ä¾‹
    children, // å­èŠ‚ç‚¹
    tag // å­ç»„ä»¶å ä½ç¬¦
  ) &#123;
    Â·Â·Â·
    // Vue.optionsé‡Œçš„_baseå±æ€§å­˜å‚¨Vueæ„é€ å™¨
    var baseCtor = context.$options._base;

    // é’ˆå¯¹å±€éƒ¨ç»„ä»¶æ³¨å†Œåœºæ™¯
    if (isObject(Ctor)) &#123;
      Ctor = baseCtor.extend(Ctor);
    &#125;
    data = data || &#123;&#125;;
    // æ„é€ å™¨é…ç½®åˆå¹¶
    resolveConstructorOptions(Ctor);
    // æŒ‚è½½ç»„ä»¶é’©å­
    installComponentHooks(data);

    // return a placeholder vnode
    var name = Ctor.options.name || tag;
    // åˆ›å»ºå­ç»„ä»¶vnodeï¼Œåç§°ä»¥ vue-component- å¼€å¤´
    var vnode = new VNode((&quot;vue-component-&quot; + (Ctor.cid) + (name ? (&quot;-&quot; + name) : &#39;&#39;)),data, undefined, undefined, undefined, context,&#123; Ctor: Ctor, propsData: propsData, listeners: listeners, tag: tag, children: children &#125;,asyncFactory);

    return vnode
  &#125;
</code></pre><p>è¿™é‡Œå°†å¤§éƒ¨åˆ†çš„ä»£ç éƒ½æ‹¿æ‰äº†ï¼Œåªç•™ä¸‹åˆ›å»º<code>Vnode</code>ç›¸å…³çš„ä»£ç ï¼Œæœ€ç»ˆä¼šé€šè¿‡<code>new Vue</code>å®ä¾‹åŒ–ä¸€ä¸ªåç§°ä»¥<code>vue-component-</code>å¼€å¤´çš„<code>Vnode</code>èŠ‚ç‚¹ã€‚å…¶ä¸­ä¸¤ä¸ªå…³é”®çš„æ­¥éª¤æ˜¯é…ç½®åˆå¹¶å’Œå®‰è£…ç»„ä»¶é’©å­å‡½æ•°ï¼Œé€‰é¡¹åˆå¹¶çš„å†…å®¹å¯ä»¥æŸ¥çœ‹è¿™ä¸ªç³»åˆ—çš„å‰ä¸¤èŠ‚ï¼Œè¿™é‡Œçœ‹çœ‹<code>installComponentHooks</code>å®‰è£…ç»„ä»¶é’©å­å‡½æ•°æ—¶åšäº†å“ªäº›æ“ä½œã€‚</p><pre><code class="js">  // ç»„ä»¶å†…éƒ¨è‡ªå¸¦é’©å­
 var componentVNodeHooks = &#123;
    init: function init (vnode, hydrating) &#123;
    &#125;,
    prepatch: function prepatch (oldVnode, vnode) &#123;
    &#125;,
    insert: function insert (vnode) &#123;
    &#125;,
    destroy: function destroy (vnode) &#123;
    &#125;
  &#125;;
var hooksToMerge = Object.keys(componentVNodeHooks);
// å°†componentVNodeHooks é’©å­å‡½æ•°åˆå¹¶åˆ°ç»„ä»¶data.hookä¸­ 
function installComponentHooks (data) &#123;
    var hooks = data.hook || (data.hook = &#123;&#125;);
    for (var i = 0; i &lt; hooksToMerge.length; i++) &#123;
      var key = hooksToMerge[i];
      var existing = hooks[key];
      var toMerge = componentVNodeHooks[key];
      // å¦‚æœé’©å­å‡½æ•°å­˜åœ¨ï¼Œåˆ™æ‰§è¡ŒmergeHook$1æ–¹æ³•åˆå¹¶
      if (existing !== toMerge &amp;&amp; !(existing &amp;&amp; existing._merged)) &#123;
        hooks[key] = existing ? mergeHook$1(toMerge, existing) : toMerge;
      &#125;
    &#125;
  &#125;
function mergeHook$1 (f1, f2) &#123;
  // è¿”å›ä¸€ä¸ªä¾æ¬¡æ‰§è¡Œf1,f2çš„å‡½æ•°
    var merged = function (a, b) &#123;
      f1(a, b);
      f2(a, b);
    &#125;;
    merged._merged = true;
    return merged
  &#125;
</code></pre><p>ç»„ä»¶é»˜è®¤è‡ªå¸¦çš„è¿™å‡ ä¸ªé’©å­å‡½æ•°ä¼šåœ¨åç»­<code>patch</code>è¿‡ç¨‹çš„ä¸åŒé˜¶æ®µæ‰§è¡Œï¼Œè¿™éƒ¨åˆ†å†…å®¹ä¸åœ¨æœ¬èŠ‚çš„è®¨è®ºèŒƒå›´ã€‚</p><h3 id="5-2-3-å±€éƒ¨æ³¨å†Œå’Œå…¨å±€æ³¨å†Œçš„åŒºåˆ«"><a href="#5-2-3-å±€éƒ¨æ³¨å†Œå’Œå…¨å±€æ³¨å†Œçš„åŒºåˆ«" class="headerlink" title="5.2.3 å±€éƒ¨æ³¨å†Œå’Œå…¨å±€æ³¨å†Œçš„åŒºåˆ«"></a>5.2.3 å±€éƒ¨æ³¨å†Œå’Œå…¨å±€æ³¨å†Œçš„åŒºåˆ«</h3><p>åœ¨è¯´åˆ°å…¨å±€æ³¨å†Œå’Œå±€éƒ¨æ³¨å†Œçš„ç”¨æ³•æ—¶ç•™ä¸‹äº†ä¸€ä¸ªé—®é¢˜ï¼Œå±€éƒ¨æ³¨å†Œå’Œå…¨å±€æ³¨å†Œä¸¤è€…çš„åŒºåˆ«åœ¨å“ªé‡Œã€‚å…¶å®å±€éƒ¨æ³¨å†Œçš„åŸç†åŒæ ·ç®€å•ï¼Œæˆ‘ä»¬ä½¿ç”¨å±€éƒ¨æ³¨å†Œç»„ä»¶æ—¶ä¼šé€šè¿‡åœ¨çˆ¶ç»„ä»¶é€‰é¡¹é…ç½®ä¸­çš„<code>components</code>æ·»åŠ å­ç»„ä»¶çš„å¯¹è±¡é…ç½®ï¼Œè¿™å’Œå…¨å±€æ³¨å†Œååœ¨<code>Vue</code>çš„<code>options.component</code>æ·»åŠ å­ç»„ä»¶æ„é€ å™¨çš„ç»“æœå¾ˆç›¸ä¼¼ã€‚åŒºåˆ«åœ¨äºï¼š</p><p><strong>1.å±€éƒ¨æ³¨å†Œæ·»åŠ çš„å¯¹è±¡é…ç½®æ˜¯åœ¨æŸä¸ªç»„ä»¶ä¸‹ï¼Œè€Œå…¨å±€æ³¨å†Œæ·»åŠ çš„å­ç»„ä»¶æ˜¯åœ¨æ ¹å®ä¾‹ä¸‹ã€‚</strong></p><p><strong>2.å±€éƒ¨æ³¨å†Œæ·»åŠ çš„æ˜¯ä¸€ä¸ªå­ç»„ä»¶çš„é…ç½®å¯¹è±¡ï¼Œè€Œå…¨å±€æ³¨å†Œæ·»åŠ çš„æ˜¯ä¸€ä¸ªå­ç±»æ„é€ å™¨ã€‚</strong></p><p>å› æ­¤å±€éƒ¨æ³¨å†Œä¸­ç¼ºå°‘äº†ä¸€æ­¥æ„å»ºå­ç±»æ„é€ å™¨çš„è¿‡ç¨‹ï¼Œè¿™ä¸ªè¿‡ç¨‹æ”¾åœ¨å“ªé‡Œè¿›è¡Œå‘¢ï¼Ÿ å›åˆ°<code>createComponent</code>çš„æºç ,æºç ä¸­æ ¹æ®é€‰é¡¹æ˜¯å¯¹è±¡è¿˜æ˜¯å‡½æ•°æ¥åŒºåˆ†å±€éƒ¨å’Œå…¨å±€æ³¨å†Œç»„ä»¶ï¼Œ<strong>å¦‚æœé€‰é¡¹çš„å€¼æ˜¯å¯¹è±¡ï¼Œåˆ™è¯¥ç»„ä»¶æ˜¯å±€éƒ¨æ³¨å†Œçš„ç»„ä»¶ï¼Œæ­¤æ—¶åœ¨åˆ›å»ºå­<code>Vnode</code>æ—¶ä¼šè°ƒç”¨ çˆ¶ç±»çš„<code>extend</code>æ–¹æ³•å»åˆ›å»ºä¸€ä¸ªå­ç±»æ„é€ å™¨ã€‚</strong></p><pre><code class="js">function createComponent (...) &#123;
  ...
  var baseCtor = context.$options._base;

  // é’ˆå¯¹å±€éƒ¨ç»„ä»¶æ³¨å†Œåœºæ™¯
  if (isObject(Ctor)) &#123;
      Ctor = baseCtor.extend(Ctor);
  &#125;
&#125;
</code></pre><h2 id="5-3-ç»„ä»¶Vnodeæ¸²æŸ“çœŸå®DOM"><a href="#5-3-ç»„ä»¶Vnodeæ¸²æŸ“çœŸå®DOM" class="headerlink" title="5.3 ç»„ä»¶Vnodeæ¸²æŸ“çœŸå®DOM"></a>5.3 ç»„ä»¶Vnodeæ¸²æŸ“çœŸå®DOM</h2><p>æ ¹æ®å‰é¢çš„åˆ†æï¼Œä¸ç®¡æ˜¯å…¨å±€æ³¨å†Œçš„ç»„ä»¶è¿˜æ˜¯å±€éƒ¨æ³¨å†Œçš„ç»„ä»¶ï¼Œç»„ä»¶å¹¶æ²¡æœ‰è¿›è¡Œå®ä¾‹åŒ–ï¼Œé‚£ä¹ˆç»„ä»¶å®ä¾‹åŒ–çš„è¿‡ç¨‹å‘ç”Ÿåœ¨å“ªä¸ªé˜¶æ®µå‘¢ï¼Ÿæˆ‘ä»¬æ¥ç€çœ‹<code>Vnode tree</code>æ¸²æŸ“çœŸå®<code>DOM</code>çš„è¿‡ç¨‹ã€‚</p><h3 id="5-3-1-çœŸå®èŠ‚ç‚¹æ¸²æŸ“æµç¨‹å›¾"><a href="#5-3-1-çœŸå®èŠ‚ç‚¹æ¸²æŸ“æµç¨‹å›¾" class="headerlink" title="5.3.1 çœŸå®èŠ‚ç‚¹æ¸²æŸ“æµç¨‹å›¾"></a>5.3.1 çœŸå®èŠ‚ç‚¹æ¸²æŸ“æµç¨‹å›¾</h3><p><img data-src="/images/img/5.2.png"></p><h3 id="5-3-2-å…·ä½“æµç¨‹åˆ†æ"><a href="#5-3-2-å…·ä½“æµç¨‹åˆ†æ" class="headerlink" title="5.3.2 å…·ä½“æµç¨‹åˆ†æ"></a>5.3.2 å…·ä½“æµç¨‹åˆ†æ</h3><ol><li>ç»è¿‡<code>vm._render()</code>ç”Ÿæˆå®Œæ•´çš„<code>Virtual Dom</code>æ ‘åï¼Œç´§æ¥ç€æ‰§è¡Œ<code>Vnode</code>æ¸²æŸ“çœŸå®<code>DOM</code>çš„è¿‡ç¨‹,è¿™ä¸ªè¿‡ç¨‹æ˜¯<code>vm.update()</code>æ–¹æ³•çš„æ‰§è¡Œï¼Œè€Œå…¶æ ¸å¿ƒæ˜¯<code>vm.__patch__</code>ã€‚</li><li><code>vm.__patch__</code>å†…éƒ¨ä¼šé€šè¿‡ <code>createElm</code>å»åˆ›å»ºçœŸå®çš„<code>DOM</code>å…ƒç´ ï¼ŒæœŸé—´é‡åˆ°å­<code>Vnode</code>ä¼šé€’å½’è°ƒç”¨<code>createElm</code>æ–¹æ³•ã€‚</li><li>é€’å½’è°ƒç”¨è¿‡ç¨‹ä¸­ï¼Œåˆ¤æ–­è¯¥èŠ‚ç‚¹ç±»å‹æ˜¯å¦ä¸ºç»„ä»¶ç±»å‹æ˜¯é€šè¿‡<code>createComponent</code>æ–¹æ³•åˆ¤æ–­çš„ï¼Œè¯¥æ–¹æ³•å’Œæ¸²æŸ“<code>Vnode</code>é˜¶æ®µçš„æ–¹æ³•<code>createComponent</code>ä¸åŒï¼Œä»–ä¼šè°ƒç”¨å­ç»„ä»¶çš„<code>init</code>åˆå§‹åŒ–é’©å­å‡½æ•°ï¼Œå¹¶å®Œæˆç»„ä»¶çš„<code>DOM</code>æ’å…¥ã€‚</li><li><code>init</code>åˆå§‹åŒ–é’©å­å‡½æ•°çš„æ ¸å¿ƒæ˜¯<code>new</code>å®ä¾‹åŒ–è¿™ä¸ªå­ç»„ä»¶å¹¶å°†å­ç»„ä»¶è¿›è¡ŒæŒ‚è½½ï¼Œå®ä¾‹åŒ–å­ç»„ä»¶çš„è¿‡ç¨‹åˆå›åˆ°åˆå¹¶é…ç½®ï¼Œåˆå§‹åŒ–ç”Ÿå‘½å‘¨æœŸï¼Œåˆå§‹åŒ–äº‹ä»¶ä¸­å¿ƒï¼Œåˆå§‹åŒ–æ¸²æŸ“çš„è¿‡ç¨‹ã€‚å®ä¾‹æŒ‚è½½åˆä¼šæ‰§è¡Œ<code>$mount</code>è¿‡ç¨‹ã€‚</li><li>å®Œæˆæ‰€æœ‰å­ç»„ä»¶çš„å®ä¾‹åŒ–å’ŒèŠ‚ç‚¹æŒ‚è½½åï¼Œæœ€åæ‰å›åˆ°æ ¹èŠ‚ç‚¹çš„æŒ‚è½½ã€‚</li></ol><p><code>__patch__</code>æ ¸å¿ƒä»£ç æ˜¯é€šè¿‡<code>createElm</code>åˆ›å»ºçœŸå®èŠ‚ç‚¹ï¼Œå½“åˆ›å»ºè¿‡ç¨‹ä¸­é‡åˆ°å­<code>vnode</code>æ—¶ï¼Œä¼šè°ƒç”¨<code>createChildren</code>,<code>createChildren</code>çš„ç›®çš„æ˜¯å¯¹å­<code>vnode</code>é€’å½’è°ƒç”¨<code>createElm</code>åˆ›å»ºå­ç»„ä»¶èŠ‚ç‚¹ã€‚</p><pre><code class="js">// åˆ›å»ºçœŸå®dom
function createElm (vnode,insertedVnodeQueue,parentElm,refElm,nested,ownerArray,index) &#123;
  Â·Â·Â·
  // é€’å½’åˆ›å»ºå­ç»„ä»¶çœŸå®èŠ‚ç‚¹,ç›´åˆ°å®Œæˆæ‰€æœ‰å­ç»„ä»¶çš„æ¸²æŸ“æ‰è¿›è¡Œæ ¹èŠ‚ç‚¹çš„çœŸå®èŠ‚ç‚¹æ’å…¥
  if (createComponent(vnode, insertedVnodeQueue, parentElm, refElm)) &#123;
    return
  &#125;
  Â·Â·Â·
  var children = vnode.children;
  // 
  createChildren(vnode, children, insertedVnodeQueue);
  Â·Â·Â·
  insert(parentElm, vnode.elm, refElm);
&#125;
function createChildren(vnode, children, insertedVnodeQueue) &#123;
  for (var i = 0; i &lt; children.length; ++i) &#123;
    // éå†å­èŠ‚ç‚¹ï¼Œé€’å½’è°ƒç”¨åˆ›å»ºçœŸå®domèŠ‚ç‚¹çš„æ–¹æ³• - createElm
    createElm(children[i], insertedVnodeQueue, vnode.elm, null, true, children, i);
  &#125;
&#125;
</code></pre><p><code>createComponent</code>æ–¹æ³•ä¼šå¯¹å­ç»„ä»¶<code>Vnode</code>è¿›è¡Œå¤„ç†ä¸­ï¼Œè¿˜è®°å¾—åœ¨<code>Vnode</code>ç”Ÿæˆé˜¶æ®µä¸ºå­<code>Vnode</code>å®‰è£…äº†ä¸€ç³»åˆ—çš„é’©å­å‡½æ•°å—ï¼Œåœ¨è¿™ä¸ªæ­¥éª¤æˆ‘ä»¬å¯ä»¥é€šè¿‡æ˜¯å¦æ‹¥æœ‰è¿™äº›å®šä¹‰å¥½çš„é’©å­æ¥åˆ¤æ–­æ˜¯å¦æ˜¯å·²ç»æ³¨å†Œè¿‡çš„å­ç»„ä»¶ï¼Œå¦‚æœæ¡ä»¶æ»¡è¶³ï¼Œåˆ™æ‰§è¡Œç»„ä»¶çš„<code>init</code>é’©å­ã€‚</p><p><code>init</code>é’©å­åšçš„äº‹æƒ…åªæœ‰ä¸¤ä¸ªï¼Œ<strong>å®ä¾‹åŒ–ç»„ä»¶æ„é€ å™¨ï¼Œæ‰§è¡Œå­ç»„ä»¶çš„æŒ‚è½½æµç¨‹ã€‚</strong>(<code>keep-alive</code>åˆ†æ”¯çœ‹å…·ä½“çš„æ–‡ç« åˆ†æ)</p><pre><code class="js">function createComponent (vnode, insertedVnodeQueue, parentElm, refElm) &#123;
  var i = vnode.data;
  // æ˜¯å¦æœ‰é’©å­å‡½æ•°å¯ä»¥ä½œä¸ºåˆ¤æ–­æ˜¯å¦ä¸ºç»„ä»¶çš„å”¯ä¸€æ¡ä»¶
  if (isDef(i = i.hook) &amp;&amp; isDef(i = i.init)) &#123;
    // æ‰§è¡Œinité’©å­å‡½æ•°
    i(vnode, false /* hydrating */);
  &#125;
  Â·Â·Â·
&#125;
var componentVNodeHooks = &#123;
  // å¿½ç•¥keepAliveè¿‡ç¨‹
  // å®ä¾‹åŒ–
  var child = vnode.componentInstance = createComponentInstanceForVnode(vnode,activeInstance);
  // æŒ‚è½½
  child.$mount(hydrating ? vnode.elm : undefined, hydrating);
&#125;
function createComponentInstanceForVnode(vnode, parent) &#123;
  Â·Â·Â·
  // å®ä¾‹åŒ–Vueå­ç»„ä»¶å®ä¾‹
  return new vnode.componentOptions.Ctor(options)
&#125;
</code></pre><p>æ˜¾ç„¶<code>Vnode</code>ç”ŸæˆçœŸå®<code>DOM</code>çš„è¿‡ç¨‹ä¹Ÿæ˜¯ä¸€ä¸ªä¸æ–­é€’å½’åˆ›å»ºå­èŠ‚ç‚¹çš„è¿‡ç¨‹ï¼Œ<code>patch</code>è¿‡ç¨‹å¦‚æœé‡åˆ°å­<code>Vnode</code>,ä¼šä¼˜å…ˆå®ä¾‹åŒ–å­ç»„ä»¶ï¼Œå¹¶ä¸”æ‰§è¡Œå­ç»„ä»¶çš„æŒ‚è½½æµç¨‹ï¼Œè€ŒæŒ‚è½½æµç¨‹åˆä¼šå›åˆ°<code>_render,_update</code>çš„è¿‡ç¨‹ã€‚åœ¨æ‰€æœ‰çš„å­<code>Vnode</code>é€’å½’æŒ‚è½½åï¼Œæœ€ç»ˆæ‰ä¼šçœŸæ­£æŒ‚è½½æ ¹èŠ‚ç‚¹ã€‚</p><h2 id="5-4-å»ºç«‹ç»„ä»¶è”ç³»"><a href="#5-4-å»ºç«‹ç»„ä»¶è”ç³»" class="headerlink" title="5.4 å»ºç«‹ç»„ä»¶è”ç³»"></a>5.4 å»ºç«‹ç»„ä»¶è”ç³»</h2><p>æ—¥å¸¸å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡<code>vm.$parent</code>æ‹¿åˆ°çˆ¶å®ä¾‹ï¼Œä¹Ÿå¯ä»¥åœ¨çˆ¶å®ä¾‹ä¸­é€šè¿‡<code>vm.$children</code>æ‹¿åˆ°å®ä¾‹ä¸­çš„å­ç»„ä»¶ã€‚æ˜¾ç„¶ï¼Œ<code>Vue</code>åœ¨ç»„ä»¶å’Œç»„ä»¶ä¹‹é—´å»ºç«‹äº†ä¸€å±‚å…³è”ã€‚æ¥ä¸‹æ¥çš„å†…å®¹ï¼Œæˆ‘ä»¬å°†æ¢ç´¢å¦‚ä½•å»ºç«‹ç»„ä»¶ä¹‹é—´çš„è”ç³»ã€‚</p><p>ä¸ç®¡æ˜¯çˆ¶å®ä¾‹è¿˜æ˜¯å­å®ä¾‹ï¼Œåœ¨åˆå§‹åŒ–å®ä¾‹é˜¶æ®µæœ‰ä¸€ä¸ª<code>initLifecycle</code>çš„è¿‡ç¨‹ã€‚è¿™ä¸ªè¿‡ç¨‹ä¼š<strong>æŠŠå½“å‰å®ä¾‹æ·»åŠ åˆ°çˆ¶å®ä¾‹çš„<code>$children</code>å±æ€§ä¸­ï¼Œå¹¶è®¾ç½®è‡ªèº«çš„<code>$parent</code>å±æ€§æŒ‡å‘çˆ¶å®ä¾‹ã€‚</strong>ä¸¾ä¸€ä¸ªå…·ä½“çš„åº”ç”¨åœºæ™¯ï¼š</p><pre><code class="js">&lt;div id=&quot;app&quot;&gt;
    &lt;component-a&gt;&lt;/component-a&gt;
&lt;/div&gt;
Vue.component(&#39;component-a&#39;, &#123;
    template: &#39;&lt;div&gt;a&lt;/div&gt;&#39;
&#125;)
var vm = new Vue(&#123; el: &#39;#app&#39;&#125;)
console.log(vm) // å°†å®ä¾‹å¯¹è±¡è¾“å‡º
</code></pre><p>ç”±äº<code>vue</code>å®ä¾‹å‘ä¸Šæ²¡æœ‰çˆ¶å®ä¾‹ï¼Œæ‰€ä»¥<code>vm.$parent</code>ä¸º<code>undefined</code>ï¼Œ<code>vm</code>çš„<code>$children</code>å±æ€§æŒ‡å‘å­ç»„ä»¶<code>componentA</code> çš„å®ä¾‹ã€‚</p><p><img data-src="/images/img/5.3.png"></p><p>å­ç»„ä»¶<code>componentA</code>çš„ <code>$parent</code>å±æ€§æŒ‡å‘å®ƒçš„çˆ¶çº§<code>vm</code>å®ä¾‹ï¼Œå®ƒçš„<code>$children</code>å±æ€§æŒ‡å‘ä¸ºç©º</p><p><img data-src="/images/img/5.4.png"></p><p>æºç è§£æå¦‚ä¸‹:</p><pre><code class="js">function initLifecycle (vm) &#123;
    var options = vm.$options;
    // å­ç»„ä»¶æ³¨å†Œæ—¶ï¼Œä¼šæŠŠçˆ¶ç»„ä»¶çš„å®ä¾‹æŒ‚è½½åˆ°è‡ªèº«é€‰é¡¹çš„parentä¸Š
    var parent = options.parent;
    // å¦‚æœæ˜¯å­ç»„ä»¶ï¼Œå¹¶ä¸”è¯¥ç»„ä»¶ä¸æ˜¯æŠ½è±¡ç»„ä»¶æ—¶ï¼Œå°†è¯¥ç»„ä»¶çš„å®ä¾‹æ·»åŠ åˆ°çˆ¶ç»„ä»¶çš„$parentå±æ€§ä¸Šï¼Œå¦‚æœçˆ¶ç»„ä»¶æ˜¯æŠ½è±¡ç»„ä»¶ï¼Œåˆ™ä¸€ç›´å¾€ä¸Šå±‚å¯»æ‰¾ï¼Œç›´åˆ°è¯¥çˆ¶çº§ç»„ä»¶ä¸æ˜¯æŠ½è±¡ç»„ä»¶ï¼Œå¹¶å°†ï¼Œå°†è¯¥ç»„ä»¶çš„å®ä¾‹æ·»åŠ åˆ°çˆ¶ç»„ä»¶çš„$parentå±æ€§
    if (parent &amp;&amp; !options.abstract) &#123;
        while (parent.$options.abstract &amp;&amp; parent.$parent) &#123;
        parent = parent.$parent;
        &#125;
        parent.$children.push(vm);
    &#125;
    // å°†è‡ªèº«çš„$parentå±æ€§æŒ‡å‘çˆ¶å®ä¾‹ã€‚
    vm.$parent = parent;
    vm.$root = parent ? parent.$root : vm;

    vm.$children = [];
    vm.$refs = &#123;&#125;;

    vm._watcher = null;
    vm._inactive = null;
    vm._directInactive = false;
    // è¯¥å®ä¾‹æ˜¯å¦æŒ‚è½½
    vm._isMounted = false;
    // è¯¥å®ä¾‹æ˜¯å¦è¢«é”€æ¯
    vm._isDestroyed = false;
    // è¯¥å®ä¾‹æ˜¯å¦æ­£åœ¨è¢«é”€æ¯
    vm._isBeingDestroyed = false;
&#125;
</code></pre><p>æœ€åç®€å•è®²è®²æŠ½è±¡ç»„ä»¶ï¼Œåœ¨<code>vue</code>ä¸­æœ‰å¾ˆå¤šå†…ç½®çš„æŠ½è±¡ç»„ä»¶ï¼Œä¾‹å¦‚<code>&lt;keep-alive&gt;&lt;/keep-alive&gt;,&lt;slot&gt;&lt;slot&gt;</code>ç­‰ï¼Œè¿™äº›æŠ½è±¡ç»„ä»¶å¹¶ä¸ä¼šå‡ºç°åœ¨å­çˆ¶çº§çš„è·¯å¾„ä¸Šï¼Œå¹¶ä¸”å®ƒä»¬ä¹Ÿä¸ä¼šå‚ä¸<code>DOM</code>çš„æ¸²æŸ“ã€‚</p><h2 id="5-5-å°ç»“"><a href="#5-5-å°ç»“" class="headerlink" title="5.5 å°ç»“"></a>5.5 å°ç»“</h2><p>è¿™ä¸€å°èŠ‚ï¼Œç»“åˆäº†å®é™…çš„ä¾‹å­åˆ†æäº†ç»„ä»¶æ³¨å†Œæµç¨‹åˆ°ç»„ä»¶æŒ‚è½½æ¸²æŸ“æµç¨‹ï¼Œ<code>Vue</code>ä¸­æˆ‘ä»¬å¯ä»¥å®šä¹‰å…¨å±€çš„ç»„ä»¶ï¼Œä¹Ÿå¯ä»¥å®šä¹‰å±€éƒ¨çš„ç»„ä»¶ï¼Œå…¨å±€ç»„ä»¶éœ€è¦è¿›è¡Œå…¨å±€æ³¨å†Œï¼Œæ ¸å¿ƒæ–¹æ³•æ˜¯<code>Vue.component</code>,ä»–éœ€è¦åœ¨æ ¹ç»„ä»¶å®ä¾‹åŒ–å‰è¿›è¡Œå£°æ˜æ³¨å†Œï¼ŒåŸå› æ˜¯æˆ‘ä»¬éœ€è¦åœ¨å®ä¾‹åŒ–å‰æ‹¿åˆ°ç»„ä»¶çš„é…ç½®ä¿¡æ¯å¹¶åˆå¹¶åˆ°<code>options.components</code>é€‰é¡¹ä¸­ã€‚æ³¨å†Œçš„æœ¬è´¨æ˜¯è°ƒç”¨<code>extend</code>åˆ›å»ºä¸€ä¸ªå­ç±»æ„é€ å™¨ï¼Œå…¨å±€å’Œå±€éƒ¨çš„ä¸åŒæ˜¯å±€éƒ¨åˆ›å»ºå­ç±»æ„é€ å™¨æ˜¯å‘ç”Ÿåœ¨åˆ›å»ºå­ç»„ä»¶<code>Vnode</code>é˜¶æ®µã€‚è€Œåˆ›å»ºå­<code>Vnode</code>é˜¶æ®µæœ€å…³é”®çš„ä¸€æ­¥æ˜¯å®šä¹‰äº†å¾ˆå¤šå†…éƒ¨ä½¿ç”¨çš„é’©å­ã€‚æœ‰äº†ä¸€ä¸ªå®Œæ•´çš„<code>Vnode tree</code>æ¥ä¸‹æ¥ä¼šè¿›å…¥çœŸæ­£<code>DOM</code>çš„ç”Ÿæˆï¼Œåœ¨è¿™ä¸ªé˜¶æ®µå¦‚æœé‡åˆ°å­ç»„ä»¶<code>Vnode</code>ä¼šè¿›è¡Œå­æ„é€ å™¨çš„å®ä¾‹åŒ–ï¼Œå¹¶å®Œæˆå­ç»„ä»¶çš„æŒ‚è½½ã€‚é€’å½’å®Œæˆå­ç»„ä»¶çš„æŒ‚è½½åï¼Œæœ€ç»ˆæ‰åˆå›åˆ°æ ¹ç»„ä»¶çš„æŒ‚è½½ã€‚<br>æœ‰äº†ç»„ä»¶çš„åŸºæœ¬çŸ¥è¯†ï¼Œä¸‹ä¸€èŠ‚æˆ‘ä»¬é‡ç‚¹åˆ†æä¸€ä¸‹ç»„ä»¶çš„è¿›é˜¶ç”¨æ³•ã€‚</p><div class="tags"><a href="/tags/Vue/" rel="tag"><i class="ic i-tag"></i> Vue</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-08-03 15:32:09" itemprop="dateModified" datetime="2023-08-03T15:32:09+08:00">2023-08-03</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> èµèµ</button><p>è¯·æˆ‘å–[èŒ¶]~(ï¿£â–½ï¿£)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="sanxin98 å¾®ä¿¡æ”¯ä»˜"><p>å¾®ä¿¡æ”¯ä»˜</p></div><div><img data-src="/images/alipay.png" alt="sanxin98 æ”¯ä»˜å®"><p>æ”¯ä»˜å®</p></div></div></div><div id="copyright"><ul><li class="author"><strong>æœ¬æ–‡ä½œè€…ï¼š </strong>sanxin98 <i class="ic i-at"><em>@</em></i>æ­»è‚¥å®…</li><li class="link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong> <a href="https://pink-png.github.io/computer-science/vueyuanma/dosc/5%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80%E5%89%96%E6%9E%90/" title="Step.5 ç»„ä»¶åŸºç¡€å‰–æ">https://pink-png.github.io/computer-science/vueyuanma/dosc/5ç»„ä»¶åŸºç¡€å‰–æ/</a></li><li class="license"><strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/computer-science/vueyuanma/dosc/4%E5%AE%8C%E6%95%B4%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;cdn.cdnjson.com&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giciundwu5j20zk0m8n9e.jpg" title="Step.4 å®Œæ•´æ¸²æŸ“æµç¨‹"><span class="type">ä¸Šä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> vue2.xæºç </span><h3>Step.4 å®Œæ•´æ¸²æŸ“æµç¨‹</h3></a></div><div class="item right"><a href="/computer-science/vueyuanma/dosc/6%E7%BB%84%E4%BB%B6%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;cdn.cdnjson.com&#x2F;tva4.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gipeuibk9fj20zk0m8ay2.jpg" title="Step.6 ç»„ä»¶é«˜çº§ç”¨æ³•"><span class="type">ä¸‹ä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> vue2.xæºç </span><h3>Step.6 ç»„ä»¶é«˜çº§ç”¨æ³•</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="æ–‡ç« ç›®å½•"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#5-1-%E7%BB%84%E4%BB%B6%E4%B8%A4%E7%A7%8D%E6%B3%A8%E5%86%8C%E6%96%B9%E5%BC%8F"><span class="toc-number">1.</span> <span class="toc-text">5.1 ç»„ä»¶ä¸¤ç§æ³¨å†Œæ–¹å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-1-%E5%85%A8%E5%B1%80%E6%B3%A8%E5%86%8C"><span class="toc-number">1.1.</span> <span class="toc-text">5.1.1 å…¨å±€æ³¨å†Œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-2-%E5%B1%80%E9%83%A8%E6%B3%A8%E5%86%8C"><span class="toc-number">1.2.</span> <span class="toc-text">5.1.2 å±€éƒ¨æ³¨å†Œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-3-%E6%B3%A8%E5%86%8C%E8%BF%87%E7%A8%8B"><span class="toc-number">1.3.</span> <span class="toc-text">5.1.3 æ³¨å†Œè¿‡ç¨‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-2-%E7%BB%84%E4%BB%B6Vnode%E5%88%9B%E5%BB%BA"><span class="toc-number">2.</span> <span class="toc-text">5.2 ç»„ä»¶Vnodeåˆ›å»º</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-1-Vnode%E5%88%9B%E5%BB%BA%E6%B5%81%E7%A8%8B%E5%9B%BE"><span class="toc-number">2.1.</span> <span class="toc-text">5.2.1 Vnodeåˆ›å»ºæµç¨‹å›¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-2-%E5%85%B7%E4%BD%93%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90"><span class="toc-number">2.2.</span> <span class="toc-text">5.2.2 å…·ä½“æµç¨‹åˆ†æ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-3-%E5%B1%80%E9%83%A8%E6%B3%A8%E5%86%8C%E5%92%8C%E5%85%A8%E5%B1%80%E6%B3%A8%E5%86%8C%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">2.3.</span> <span class="toc-text">5.2.3 å±€éƒ¨æ³¨å†Œå’Œå…¨å±€æ³¨å†Œçš„åŒºåˆ«</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-3-%E7%BB%84%E4%BB%B6Vnode%E6%B8%B2%E6%9F%93%E7%9C%9F%E5%AE%9EDOM"><span class="toc-number">3.</span> <span class="toc-text">5.3 ç»„ä»¶Vnodeæ¸²æŸ“çœŸå®DOM</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-1-%E7%9C%9F%E5%AE%9E%E8%8A%82%E7%82%B9%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B%E5%9B%BE"><span class="toc-number">3.1.</span> <span class="toc-text">5.3.1 çœŸå®èŠ‚ç‚¹æ¸²æŸ“æµç¨‹å›¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-3-2-%E5%85%B7%E4%BD%93%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90"><span class="toc-number">3.2.</span> <span class="toc-text">5.3.2 å…·ä½“æµç¨‹åˆ†æ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-4-%E5%BB%BA%E7%AB%8B%E7%BB%84%E4%BB%B6%E8%81%94%E7%B3%BB"><span class="toc-number">4.</span> <span class="toc-text">5.4 å»ºç«‹ç»„ä»¶è”ç³»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-5-%E5%B0%8F%E7%BB%93"><span class="toc-number">5.</span> <span class="toc-text">5.5 å°ç»“</span></a></li></ol></div><div class="related panel pjax" data-title="ç³»åˆ—æ–‡ç« "><ul><li><a href="/computer-science/vueyuanma/dosc/1%E4%B8%B0%E5%AF%8C%E7%9A%84%E9%80%89%E9%A1%B9%E5%90%88%E5%B9%B6%E7%AD%96%E7%95%A5/" rel="bookmark" title="Step.1 ä¸°å¯Œçš„é€‰é¡¹åˆå¹¶ç­–ç•¥">Step.1 ä¸°å¯Œçš„é€‰é¡¹åˆå¹¶ç­–ç•¥</a></li><li><a href="/computer-science/vueyuanma/dosc/2%E5%9F%BA%E7%A1%80%E7%9A%84%E6%95%B0%E6%8D%AE%E4%BB%A3%E7%90%86%E6%A3%80%E6%B5%8B/" rel="bookmark" title="Step.2 åŸºç¡€çš„æ•°æ®ä»£ç†æ£€æµ‹">Step.2 åŸºç¡€çš„æ•°æ®ä»£ç†æ£€æµ‹</a></li><li><a href="/computer-science/vueyuanma/dosc/3%E5%AE%9E%E4%BE%8B%E6%8C%82%E8%BD%BD%E6%B5%81%E7%A8%8B%E5%92%8C%E6%A8%A1%E6%9D%BF%E7%BC%96%E8%AF%91/" rel="bookmark" title="Step.3 å®ä¾‹æŒ‚è½½æµç¨‹å’Œæ¨¡æ¿ç¼–è¯‘">Step.3 å®ä¾‹æŒ‚è½½æµç¨‹å’Œæ¨¡æ¿ç¼–è¯‘</a></li><li><a href="/computer-science/vueyuanma/dosc/4%E5%AE%8C%E6%95%B4%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B/" rel="bookmark" title="Step.4 å®Œæ•´æ¸²æŸ“æµç¨‹">Step.4 å®Œæ•´æ¸²æŸ“æµç¨‹</a></li><li class="active"><a href="/computer-science/vueyuanma/dosc/5%E7%BB%84%E4%BB%B6%E5%9F%BA%E7%A1%80%E5%89%96%E6%9E%90/" rel="bookmark" title="Step.5 ç»„ä»¶åŸºç¡€å‰–æ">Step.5 ç»„ä»¶åŸºç¡€å‰–æ</a></li><li><a href="/computer-science/vueyuanma/dosc/6%E7%BB%84%E4%BB%B6%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95/" rel="bookmark" title="Step.6 ç»„ä»¶é«˜çº§ç”¨æ³•">Step.6 ç»„ä»¶é«˜çº§ç”¨æ³•</a></li><li><a href="/computer-science/vueyuanma/dosc/7%E6%B7%B1%E5%85%A5%E5%93%8D%E5%BA%94%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%9E%84%E5%BB%BA-%E4%B8%8A/" rel="bookmark" title="Step.7 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸Š">Step.7 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸Š</a></li><li><a href="/computer-science/vueyuanma/dosc/8%E6%B7%B1%E5%85%A5%E5%93%8D%E5%BA%94%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%9E%84%E5%BB%BA-%E4%B8%AD/" rel="bookmark" title="Step.8 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸­">Step.8 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸­</a></li><li><a href="/computer-science/vueyuanma/dosc/9%E6%B7%B1%E5%85%A5%E5%93%8D%E5%BA%94%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%9E%84%E5%BB%BA-%E4%B8%8B/" rel="bookmark" title="Step.9 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸‹">Step.9 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸‹</a></li><li><a href="/computer-science/vueyuanma/dosc/10%E6%9D%A5%EF%BC%8C%E8%B7%9F%E6%88%91%E4%B8%80%E8%B5%B7%E5%AE%9E%E7%8E%B0diff%E7%AE%97%E6%B3%95/" rel="bookmark" title="Step.10 æ¥ï¼Œè·Ÿæˆ‘ä¸€èµ·å®ç°diffç®—æ³•">Step.10 æ¥ï¼Œè·Ÿæˆ‘ä¸€èµ·å®ç°diffç®—æ³•</a></li><li><a href="/computer-science/vueyuanma/dosc/11%E6%8F%AD%E7%A7%98Vue%E7%9A%84%E4%BA%8B%E4%BB%B6%E6%9C%BA%E5%88%B6/" rel="bookmark" title="Step.11 æ­ç§˜Vueçš„äº‹ä»¶æœºåˆ¶">Step.11 æ­ç§˜Vueçš„äº‹ä»¶æœºåˆ¶</a></li><li><a href="/computer-science/vueyuanma/dosc/12vue%E6%8F%92%E6%A7%BD%EF%BC%8C%E4%BD%A0%E6%83%B3%E4%BA%86%E8%A7%A3%E7%9A%84%E9%83%BD%E5%9C%A8%E8%BF%99%E9%87%8C/" rel="bookmark" title="Step.12 vueæ’æ§½ï¼Œä½ æƒ³äº†è§£çš„éƒ½åœ¨è¿™é‡Œ">Step.12 vueæ’æ§½ï¼Œä½ æƒ³äº†è§£çš„éƒ½åœ¨è¿™é‡Œ</a></li><li><a href="/computer-science/vueyuanma/dosc/13%E4%BD%A0%E7%9C%9F%E7%9A%84%E4%BA%86%E8%A7%A3v-model%E7%9A%84%E8%AF%AD%E6%B3%95%E7%B3%96%E4%BA%86%E5%90%97/" rel="bookmark" title="Step.13 ä½ çœŸçš„äº†è§£v-modelçš„è¯­æ³•ç³–äº†å—">Step.13 ä½ çœŸçš„äº†è§£v-modelçš„è¯­æ³•ç³–äº†å—</a></li><li><a href="/computer-science/vueyuanma/dosc/14%E5%8A%A8%E6%80%81%E7%BB%84%E4%BB%B6%E7%9A%84%E6%B7%B1%E5%85%A5%E5%88%86%E6%9E%90/" rel="bookmark" title="Step.14 åŠ¨æ€ç»„ä»¶çš„æ·±å…¥åˆ†æ">Step.14 åŠ¨æ€ç»„ä»¶çš„æ·±å…¥åˆ†æ</a></li><li><a href="/computer-science/vueyuanma/dosc/15%E5%BD%BB%E5%BA%95%E6%90%9E%E6%87%82Vue%E4%B8%ADkeep-alive%E7%9A%84%E9%AD%94%E6%B3%95-%E4%B8%8A/" rel="bookmark" title="Step.15 å½»åº•ææ‡‚Vueä¸­keep-aliveçš„é­”æ³•-ä¸Š">Step.15 å½»åº•ææ‡‚Vueä¸­keep-aliveçš„é­”æ³•-ä¸Š</a></li><li><a href="/computer-science/vueyuanma/dosc/16%E5%BD%BB%E5%BA%95%E6%90%9E%E6%87%82Vue%E4%B8%ADkeep-alive%E7%9A%84%E9%AD%94%E6%B3%95-%E4%B8%8B/" rel="bookmark" title="Step.16 å½»åº•ææ‡‚Vueä¸­keep-aliveçš„é­”æ³•-ä¸Š">Step.16 å½»åº•ææ‡‚Vueä¸­keep-aliveçš„é­”æ³•-ä¸Š</a></li></ul></div><div class="overview panel" data-title="ç«™ç‚¹æ¦‚è§ˆ"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="sanxin98" data-src="/images/avatar.jpg"><p class="name" itemprop="name">sanxin98</p><div class="description" itemprop="description">ç¼–ç¨‹ & ç”Ÿæ´»</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">95</span> <span class="name">æ–‡ç« </span></a></div><div class="item categories"><a href="/categories/"><span class="count">40</span> <span class="name">åˆ†ç±»</span></a></div><div class="item tags"><a href="/tags/"><span class="count">29</span> <span class="name">æ ‡ç­¾</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3BpbmstcG5n" title="https:&#x2F;&#x2F;github.com&#x2F;pink-png"><i class="ic i-github"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>é¦–é¡µ</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>æ–‡ç« </a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>å½’æ¡£</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>åˆ†ç±»</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>æ ‡ç­¾</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/computer-science/vueyuanma/dosc/4%E5%AE%8C%E6%95%B4%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B/" rel="prev" title="ä¸Šä¸€ç¯‡"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/computer-science/vueyuanma/dosc/6%E7%BB%84%E4%BB%B6%E9%AB%98%E7%BA%A7%E7%94%A8%E6%B3%95/" rel="next" title="ä¸‹ä¸€ç¯‡"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>éšæœºæ–‡ç« </h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºç§‘å­¦">è®¡ç®—æœºç§‘å­¦</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/vueyuanma/" title="åˆ†ç±»äº Vue">Vue</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/vueyuanma/dosc/" title="åˆ†ç±»äº vue2.xæºç ">vue2.xæºç </a></div><span><a href="/computer-science/vueyuanma/dosc/7%E6%B7%B1%E5%85%A5%E5%93%8D%E5%BA%94%E5%BC%8F%E7%B3%BB%E7%BB%9F%E6%9E%84%E5%BB%BA-%E4%B8%8A/" title="Step.7 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸Š">Step.7 æ·±å…¥å“åº”å¼ç³»ç»Ÿæ„å»º-ä¸Š</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/Javascript/" title="åˆ†ç±»äº Javascript">Javascript</a></div><span><a href="/js-base/js%E6%B5%85%E8%B0%88call%E5%92%8Capply%E5%92%8Cbind/" title="æµ…è°ˆcallå’Œapplyå’Œbind">æµ…è°ˆcallå’Œapplyå’Œbind</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%89%8D%E7%AB%AF%E6%80%A7%E8%83%BD%E4%BC%98%E5%8C%96/" title="åˆ†ç±»äº å‰ç«¯æ€§èƒ½ä¼˜åŒ–">å‰ç«¯æ€§èƒ½ä¼˜åŒ–</a></div><span><a href="/performance-optimization/Vue%E9%A6%96%E5%B1%8F%E4%BC%98%E5%8C%96/" title="vueé¦–å±ä¼˜åŒ–">vueé¦–å±ä¼˜åŒ–</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºç§‘å­¦">è®¡ç®—æœºç§‘å­¦</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/vueyuanma/" title="åˆ†ç±»äº Vue">Vue</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/vueyuanma/dosc/" title="åˆ†ç±»äº vue2.xæºç ">vue2.xæºç </a></div><span><a href="/computer-science/vueyuanma/dosc/4%E5%AE%8C%E6%95%B4%E6%B8%B2%E6%9F%93%E6%B5%81%E7%A8%8B/" title="Step.4 å®Œæ•´æ¸²æŸ“æµç¨‹">Step.4 å®Œæ•´æ¸²æŸ“æµç¨‹</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/Uniapp/" title="åˆ†ç±»äº Uniapp">Uniapp</a></div><span><a href="/front-end/uniapp%E7%BC%96%E8%AF%91%E5%88%B0%E5%B0%8F%E7%A8%8B%E5%BA%8F/" title="uniappç¼–è¯‘åˆ°å°ç¨‹åº">uniappç¼–è¯‘åˆ°å°ç¨‹åº</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/Bootstrap/" title="åˆ†ç±»äº Bootstrap">Bootstrap</a></div><span><a href="/front-end/Bootstrap/" title="Bootstrap">Bootstrap</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E7%BD%91%E7%BB%9C%E8%AF%B7%E6%B1%82/" title="åˆ†ç±»äº ç½‘ç»œè¯·æ±‚">ç½‘ç»œè¯·æ±‚</a></div><span><a href="/front-end/%E8%AF%A6%E8%A7%A3ajax/" title="è¯¦è§£ajax">è¯¦è§£ajax</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/electron/" title="åˆ†ç±»äº electron">electron</a></div><span><a href="/front-end/electron/" title="electron">electron</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/Javascript/" title="åˆ†ç±»äº Javascript">Javascript</a></div><span><a href="/js-base/js%E4%B8%AD%E7%9A%84%E4%BA%8B%E4%BB%B6%E6%B5%81/" title="jsä¸­çš„äº‹ä»¶">jsä¸­çš„äº‹ä»¶</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/Javascript/" title="åˆ†ç±»äº Javascript">Javascript</a></div><span><a href="/js-base/js%E4%B8%AD%E7%9A%84%E6%B7%B1%E6%B5%85%E6%8B%B7%E8%B4%9D/" title="jsä¸­çš„æ·±æµ…æ‹·è´">jsä¸­çš„æ·±æµ…æ‹·è´</a></span></li></ul></div><div><h2>æœ€æ–°è¯„è®º</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 â€“ <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">sanxin98 @ Yume Shoka</span></div><div class="powered-by">åŸºäº <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"computer-science/vueyuanma/dosc/5ç»„ä»¶åŸºç¡€å‰–æ/",favicon:{show:"ï¼ˆâ—Â´3ï½€â—ï¼‰ã‚„ã‚Œã‚„ã‚Œã ãœ",hide:"(Â´Ğ”ï½€)å¤§å¤‰ã ï¼"},search:{placeholder:"æ–‡ç« æœç´¢",empty:"å…³äº ã€Œ ${query} ã€ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœåˆ°",stats:"${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"},valine:{placeholder:"1. æé—®å‰è¯·å…ˆä»”ç»†é˜…è¯»æœ¬æ–‡æ¡£âš¡\n2. é¡µé¢æ˜¾ç¤ºé—®é¢˜ğŸ’¥ï¼Œè¯·æä¾›æ§åˆ¶å°æˆªå›¾ğŸ“¸æˆ–è€…æ‚¨çš„æµ‹è¯•ç½‘å€\n3. å…¶ä»–ä»»ä½•æŠ¥é”™ğŸ’£ï¼Œè¯·æä¾›è¯¦ç»†æè¿°å’Œæˆªå›¾ğŸ“¸ï¼Œç¥é£Ÿç”¨æ„‰å¿«ğŸ’ª"},fancybox:!0,copyright:'å¤åˆ¶æˆåŠŸï¼Œè½¬è½½è¯·éµå®ˆ <i class="ic i-creative-commons"></i>BY-NC-SA åè®®ã€‚',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>