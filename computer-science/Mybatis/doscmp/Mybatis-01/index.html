<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><meta name="theme-color" content="#FFF"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"><link rel="icon" type="image/ico" sizes="32x32" href="/images/favicon.ico"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><link rel="alternate" type="application/rss+xml" title="æ­»è‚¥å®…" href="https://pink-png.github.io/rss.xml"><link rel="alternate" type="application/atom+xml" title="æ­»è‚¥å®…" href="https://pink-png.github.io/atom.xml"><link rel="alternate" type="application/json" title="æ­»è‚¥å®…" href="https://pink-png.github.io/feed.json"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Mulish:300,300italic,400,400italic,700,700italic%7CFredericka%20the%20Great:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20JP:300,300italic,400,400italic,700,700italic%7CNoto%20Serif%20SC:300,300italic,400,400italic,700,700italic%7CInconsolata:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext"><link rel="stylesheet" href="/css/app.css?v=0.2.5"><meta name="keywords" content="Mybatis"><link rel="canonical" href="https://pink-png.github.io/computer-science/Mybatis/doscmp/Mybatis-01/"><title>Step.1 - MybatisåŸºç¡€ - Mybatis - è®¡ç®—æœºç§‘å­¦ | Yume Shoka = æ­»è‚¥å®… = è‚¥å®…å¿«ä¹æ°´</title><meta name="generator" content="Hexo 6.3.0"></head><body itemscope itemtype="http://schema.org/WebPage"><div id="loading"><div class="cat"><div class="body"></div><div class="head"><div class="face"></div></div><div class="foot"><div class="tummy-end"></div><div class="bottom"></div><div class="legs left"></div><div class="legs right"></div></div><div class="paw"><div class="hands left"></div><div class="hands right"></div></div></div></div><div id="container"><header id="header" itemscope itemtype="http://schema.org/WPHeader"><div class="inner"><div id="brand"><div class="pjax"><h1 itemprop="name headline">Step.1</h1><div class="meta"><span class="item" title="åˆ›å»ºæ—¶é—´ï¼š2020-03-13 09:30:48"><span class="icon"><i class="ic i-calendar"></i> </span><span class="text">å‘è¡¨äº</span> <time itemprop="dateCreated datePublished" datetime="2020-03-13T09:30:48+08:00">2020-03-13</time></span></div></div></div><nav id="nav"><div class="inner"><div class="toggle"><div class="lines" aria-label="åˆ‡æ¢å¯¼èˆªæ "><span class="line"></span> <span class="line"></span> <span class="line"></span></div></div><ul class="menu"><li class="item title"><a href="/" rel="start">Yume Shoka</a></li></ul><ul class="right"><li class="item theme"><i class="ic i-sun"></i></li><li class="item search"><i class="ic i-search"></i></li></ul></div></nav></div><div id="imgs" class="pjax"><ul><li class="item" data-background-image="https://cdn.cdnjson.com/tva3.sinaimg.cn/large/6833939bly1gicliwyw55j20zk0m8hdt.jpg"></li><li class="item" data-background-image="https://cdn.cdnjson.com/tva3.sinaimg.cn/large/6833939bly1giciuv0socj20zk0m8qes.jpg"></li><li class="item" data-background-image="https://cdn.cdnjson.com/tva3.sinaimg.cn/large/6833939bly1giclfb3vzhj20zk0m8wny.jpg"></li><li class="item" data-background-image="https://cdn.cdnjson.com/tva3.sinaimg.cn/large/6833939bly1giciusoyjnj219g0u0x56.jpg"></li><li class="item" data-background-image="https://cdn.cdnjson.com/tva3.sinaimg.cn/large/6833939bly1giclxxcb6rj20zk0m8b29.jpg"></li><li class="item" data-background-image="https://cdn.cdnjson.com/tva3.sinaimg.cn/large/6833939bly1gicis3attqj20zk0m8k7l.jpg"></li></ul></div></header><div id="waves"><svg class="waves" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M-160 44c30 0 58-18 88-18s 58 18 88 18 58-18 88-18 58 18 88 18 v44h-352z"/></defs><g class="parallax"><use xlink:href="#gentle-wave" x="48" y="0"/><use xlink:href="#gentle-wave" x="48" y="3"/><use xlink:href="#gentle-wave" x="48" y="5"/><use xlink:href="#gentle-wave" x="48" y="7"/></g></svg></div><main><div class="inner"><div id="main" class="pjax"><div class="article wrap"><div class="breadcrumb" itemscope itemtype="https://schema.org/BreadcrumbList"><i class="ic i-home"></i> <span><a href="/">é¦–é¡µ</a></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/" itemprop="item" rel="index" title="åˆ†ç±»äº è®¡ç®—æœºç§‘å­¦"><span itemprop="name">è®¡ç®—æœºç§‘å­¦</span></a><meta itemprop="position" content="1"></span><i class="ic i-angle-right"></i> <span itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/Mybatis/" itemprop="item" rel="index" title="åˆ†ç±»äº Mybatis"><span itemprop="name">Mybatis</span></a><meta itemprop="position" content="2"></span><i class="ic i-angle-right"></i> <span class="current" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem"><a href="/categories/computer-science/Mybatis/Mybatis%E5%9F%BA%E7%A1%80/" itemprop="item" rel="index" title="åˆ†ç±»äº MybatisåŸºç¡€"><span itemprop="name">MybatisåŸºç¡€</span></a><meta itemprop="position" content="3"></span></div><article itemscope itemtype="http://schema.org/Article" class="post block" lang="zh-CN"><link itemprop="mainEntityOfPage" href="https://pink-png.github.io/computer-science/Mybatis/doscmp/Mybatis-01/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="image" content="/images/avatar.jpg"><meta itemprop="name" content="sanxin98"><meta itemprop="description" content="è‚¥å®…å¿«ä¹æ°´, ç¼–ç¨‹ & ç”Ÿæ´»"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="æ­»è‚¥å®…"></span><div class="body md" itemprop="articleBody"><h1 id="Mybatis-01"><a href="#Mybatis-01" class="headerlink" title="Mybatis-01"></a>Mybatis-01</h1><h2 id="1-æ¡†æ¶"><a href="#1-æ¡†æ¶" class="headerlink" title="1. æ¡†æ¶"></a>1. æ¡†æ¶</h2><p>â€‹	æ¡†æ¶ç›¸å½“äºæ˜¯ä¸€ä¸ªè„šæ‰‹æ¶ï¼Œå†…éƒ¨å·²ç»å†™å¥½äº†å¾ˆå¤šä»£ç ï¼Œæˆ‘ä»¬åªè¦å…¶åŸºç¡€ä¸Šè¿›è¡Œå¼€å‘å°±å¯ä»¥æé«˜æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡ã€‚</p><p>â€‹</p><p>æ¡†æ¶é˜¶æ®µå­¦ä¹ ï¼š</p><p>â‘ å…ˆå»å­¦ä¹ å¦‚ä½•ä½¿ç”¨æ¡†æ¶</p><p>â‘¡ç„¶åå†ä½¿ç”¨ç†Ÿç»ƒçš„æƒ…å†µä¸‹å»çŒœæµ‹å†…éƒ¨çš„åŸç†</p><p>â‘¢é€šè¿‡æºç å»éªŒè¯è‡ªå·±çš„çŒœæµ‹ã€‚</p><h2 id="2-Mybatisä»‹ç»"><a href="#2-Mybatisä»‹ç»" class="headerlink" title="2.Mybatisä»‹ç»"></a>2.Mybatisä»‹ç»</h2><ul><li><p>MyBatis æ˜¯ä¸€æ¬¾ä¼˜ç§€çš„æŒä¹…å±‚æ¡†æ¶ã€‚</p></li><li><p>MyBatis å…é™¤äº†å‡ ä¹æ‰€æœ‰çš„ JDBC ä»£ç ä»¥åŠè®¾ç½®å‚æ•°å’Œè·å–ç»“æœé›†çš„å·¥ä½œã€‚</p></li><li><p>å®˜ç½‘ï¼š<span class="exturl" data-url="aHR0cHM6Ly9teWJhdGlzLm9yZy9teWJhdGlzLTMvemgvIw==">https://mybatis.org/mybatis-3/zh/#</span></p></li></ul><h2 id="3-å¿«é€Ÿå…¥é—¨"><a href="#3-å¿«é€Ÿå…¥é—¨" class="headerlink" title="3. å¿«é€Ÿå…¥é—¨"></a>3. å¿«é€Ÿå…¥é—¨</h2><p>â‘ æ•°æ®å‡†å¤‡</p><pre><code class="mysql">CREATE DATABASE /*!32312 IF NOT EXISTS*/`mybatis_db` /*!40100 DEFAULT CHARACTER SET utf8 */;
USE `mybatis_db`;
DROP TABLE IF EXISTS `user`;
CREATE TABLE `user` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `username` varchar(50) DEFAULT NULL,
  `age` int(11) DEFAULT NULL,
  `address` varchar(50) DEFAULT NULL,
  PRIMARY KEY (`id`)
) ENGINE=InnoDB AUTO_INCREMENT=3 DEFAULT CHARSET=utf8;
insert  into `user`(`id`,`username`,`age`,`address`) values (1,&#39;UZI&#39;,19,&#39;ä¸Šæµ·&#39;),(2,&#39;PDD&#39;,25,&#39;ä¸Šæµ·&#39;);
</code></pre><p>â‘¡å¯¼å…¥ä¾èµ–</p><pre><code class="xml">        &lt;!--mybatisä¾èµ–--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;org.mybatis&lt;/groupId&gt;
            &lt;artifactId&gt;mybatis&lt;/artifactId&gt;
            &lt;version&gt;3.5.4&lt;/version&gt;
        &lt;/dependency&gt;
        &lt;!--mysqlé©±åŠ¨--&gt;
        &lt;dependency&gt;
            &lt;groupId&gt;mysql&lt;/groupId&gt;
            &lt;artifactId&gt;mysql-connector-java&lt;/artifactId&gt;
            &lt;version&gt;5.1.47&lt;/version&gt;
        &lt;/dependency&gt;
</code></pre><p>â‘¢ç¼–å†™æ ¸å¿ƒé…ç½®</p><p>åœ¨èµ„æºç›®å½•ä¸‹åˆ›å»ºï¼šmybatis-config.xml å†…å®¹å¦‚ä¸‹ï¼š</p><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE configuration
        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;
        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;
&lt;configuration&gt;
    &lt;environments default=&quot;development&quot;&gt;
        &lt;environment id=&quot;development&quot;&gt;
            &lt;transactionManager type=&quot;JDBC&quot;/&gt;
            &lt;dataSource type=&quot;POOLED&quot;&gt;
                &lt;property name=&quot;driver&quot; value=&quot;com.mysql.jdbc.Driver&quot;/&gt;
                &lt;property name=&quot;url&quot; value=&quot;jdbc:mysql://localhost:3306/test&quot;/&gt;
                &lt;property name=&quot;username&quot; value=&quot;root&quot;/&gt;
                &lt;property name=&quot;password&quot; value=&quot;root&quot;/&gt;
            &lt;/dataSource&gt;
        &lt;/environment&gt;
    &lt;/environments&gt;
    &lt;mappers&gt;
        &lt;mapper resource=&quot;com/sangeng/dao/UserDao.xml&quot;/&gt;
    &lt;/mappers&gt;
&lt;/configuration&gt;
</code></pre><p>â‘£å®šä¹‰æ¥å£åŠå¯¹åº”çš„xmlæ˜ å°„æ–‡ä»¶</p><p>com.sangeng.dao.UserDao:</p><pre><code class="java">public interface UserDao &#123;
    List&lt;User&gt; findAll();
&#125;
</code></pre><p>èµ„æºç›®å½•ä¸‹ï¼šcom&#x2F;sangeng&#x2F;dao&#x2F;UserDao.xml</p><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE mapper
        PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;
        &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;
&lt;mapper namespace=&quot;com.sangeng.dao.UserDao&quot;&gt;

    &lt;select id=&quot;findAll&quot; resultType=&quot;com.sangeng.pojo.User&quot;&gt;
      select * from user
    &lt;/select&gt;
&lt;/mapper&gt;
</code></pre><p>â‘¤ç¼–å†™æµ‹è¯•ç±»</p><p>è·å–SqlSession,é€šè¿‡SqlSessionè·å–UserDaoè°ƒç”¨å¯¹åº”çš„æ–¹æ³•</p><pre><code class="java">    public static void main(String[] args) throws IOException &#123;
        //å®šä¹‰mybatisé…ç½®æ–‡ä»¶çš„è·¯å¾„
        String resource = &quot;mybatis-config.xml&quot;;
        InputStream inputStream = Resources.getResourceAsStream(resource);
        SqlSessionFactory sqlSessionFactory = new SqlSessionFactoryBuilder().build(inputStream);
        //è·å–Sqlsessionå¯¹è±¡
        SqlSession sqlSession = sqlSessionFactory.openSession();
        //è·å–UserDaoå®ç°ç±»å¯¹è±¡
        UserDao userDao = sqlSession.getMapper(UserDao.class);
        //è°ƒç”¨æ–¹æ³•æµ‹è¯•
        List&lt;User&gt; userList = userDao.findAll();
        System.out.println(userList);
        //é‡Šæ”¾èµ„æº
        sqlSession.close();
    &#125;
</code></pre><h2 id="3-9-é«˜æ•ˆç¼–ç¨‹"><a href="#3-9-é«˜æ•ˆç¼–ç¨‹" class="headerlink" title="3.9 é«˜æ•ˆç¼–ç¨‹"></a>3.9 é«˜æ•ˆç¼–ç¨‹</h2><h3 id="3-9-1-é…ç½®ä»£ç æ¨¡æ¿"><a href="#3-9-1-é…ç½®ä»£ç æ¨¡æ¿" class="headerlink" title="3.9.1 é…ç½®ä»£ç æ¨¡æ¿"></a>3.9.1 é…ç½®ä»£ç æ¨¡æ¿</h3><p><img data-src="/images%5Cimgmybatis%5Cimage-1.png" alt="image-20210218211942452"></p><h3 id="3-9-2-Mybatisæ’ä»¶"><a href="#3-9-2-Mybatisæ’ä»¶" class="headerlink" title="3.9.2 Mybatisæ’ä»¶"></a>3.9.2 Mybatisæ’ä»¶</h3><p>â€‹ ä¸‹è½½å®‰è£…Free Mybatis pluginï¼Œå®‰è£…å®Œåé‡å¯IDEA</p><h2 id="4-å‚æ•°è·å–"><a href="#4-å‚æ•°è·å–" class="headerlink" title="4. å‚æ•°è·å–"></a>4. å‚æ•°è·å–</h2><h3 id="4-1-ä¸€ä¸ªå‚æ•°"><a href="#4-1-ä¸€ä¸ªå‚æ•°" class="headerlink" title="4.1 ä¸€ä¸ªå‚æ•°"></a>4.1 ä¸€ä¸ªå‚æ•°</h3><h4 id="4-1-1-åŸºæœ¬å‚æ•°"><a href="#4-1-1-åŸºæœ¬å‚æ•°" class="headerlink" title="4.1.1 åŸºæœ¬å‚æ•°"></a>4.1.1 åŸºæœ¬å‚æ•°</h4><p>â€‹	æˆ‘ä»¬å¯ä»¥ä½¿ç”¨#{}ç›´æ¥æ¥å–å€¼ï¼Œå†™ä»»æ„åå­—éƒ½å¯ä»¥è·å–åˆ°å‚æ•°ã€‚ä½†æ˜¯ä¸€èˆ¬ç”¨æ–¹æ³•çš„å‚æ•°åæ¥å–ã€‚</p><p>ä¾‹å¦‚ï¼š</p><p>æ¥å£ä¸­æ–¹æ³•å®šä¹‰å¦‚ä¸‹</p><pre><code class="java">User findById(Integer id);
</code></pre><p>xmlä¸­å†…å®¹å¦‚ä¸‹:</p><pre><code class="xml">&lt;select id=&quot;findById&quot; resultType=&quot;com.sangeng.pojo.User&quot;&gt;  select * from user where id = #&#123;id&#125;&lt;/select&gt;
</code></pre><h4 id="4-1-2-POJO"><a href="#4-1-2-POJO" class="headerlink" title="4.1.2 POJO"></a>4.1.2 POJO</h4><p>â€‹	æˆ‘ä»¬å¯ä»¥ä½¿ç”¨POJOä¸­çš„å±æ€§åæ¥è·å–å¯¹åº”çš„å€¼ã€‚</p><p>ä¾‹å¦‚ï¼š</p><p>æ¥å£ä¸­æ–¹æ³•å®šä¹‰å¦‚ä¸‹</p><pre><code class="java">User findByUser(User user);
</code></pre><p>xmlä¸­å†…å®¹å¦‚ä¸‹ï¼š</p><pre><code class="xml">    &lt;select id=&quot;findByUser&quot; resultType=&quot;com.sangeng.pojo.User&quot;&gt;
        select * from user where id = #&#123;id&#125; and username = #&#123;username&#125; and age = #&#123;age&#125; and address = #&#123;address&#125;
    &lt;/select&gt;
</code></pre><h4 id="4-1-3-Map"><a href="#4-1-3-Map" class="headerlink" title="4.1.3 Map"></a>4.1.3 Map</h4><p>â€‹	æˆ‘ä»¬å¯ä»¥ä½¿ç”¨mapä¸­çš„keyæ¥è·å–å¯¹åº”çš„å€¼ã€‚</p><p>ä¾‹å¦‚ï¼š</p><p>æ¥å£ä¸­æ–¹æ³•å®šä¹‰å¦‚ä¸‹</p><pre><code class="java">User findByMap(Map map);
</code></pre><p>xmlä¸­å†…å®¹å¦‚ä¸‹ï¼š</p><pre><code class="java">    &lt;select id=&quot;findByMap&quot; resultType=&quot;com.sangeng.pojo.User&quot;&gt;
        select * from user where id = #&#123;id&#125; and username = #&#123;username&#125; and age = #&#123;age&#125; and address = #&#123;address&#125;
    &lt;/select&gt;
</code></pre><p>æ–¹æ³•è°ƒç”¨ï¼š</p><pre><code class="java">        Map map = new HashMap();
        map.put(&quot;id&quot;,2);
        map.put(&quot;username&quot;,&quot;PDD&quot;);
        map.put(&quot;age&quot;,25);
        map.put(&quot;address&quot;,&quot;ä¸Šæµ·&quot;);
        userDao.findByMap(map);
</code></pre><h3 id="4-2-å¤šä¸ªå‚æ•°"><a href="#4-2-å¤šä¸ªå‚æ•°" class="headerlink" title="4.2 å¤šä¸ªå‚æ•°"></a>4.2 å¤šä¸ªå‚æ•°</h3><p>â€‹	Mybatisä¼šæŠŠå¤šä¸ªå‚æ•°æ”¾å…¥ä¸€ä¸ªMapé›†åˆä¸­ï¼Œé»˜è®¤çš„keyæ˜¯argxå’Œparamxè¿™ç§æ ¼å¼ã€‚</p><p>ä¾‹å¦‚ï¼š</p><p>æ¥å£ä¸­æ–¹æ³•å®šä¹‰å¦‚ä¸‹</p><pre><code class="java">User findByCondition(Integer id,String username);
</code></pre><p>æœ€ç»ˆmapä¸­çš„é”®å€¼å¯¹å¦‚ä¸‹ï¼š</p><pre><code class="java">&#123;arg1=PDD, arg0=2, param1=2, param2=PDD&#125;
</code></pre><p>â€‹	æˆ‘ä»¬è™½ç„¶å¯ä»¥ä½¿ç”¨å¯¹åº”çš„é»˜è®¤keyæ¥è·å–å€¼ï¼Œä½†æ˜¯è¿™ç§æ–¹å¼å¯è¯»æ€§ä¸å¥½ã€‚æˆ‘ä»¬ä¸€èˆ¬åœ¨æ–¹æ³•å‚æ•°å‰ä½¿ç”¨@Paramæ¥è®¾ç½®å‚æ•°åã€‚</p><p>ä¾‹å¦‚ï¼š</p><p>æ¥å£ä¸­æ–¹æ³•å®šä¹‰</p><pre><code class="java">User findByCondition(@Param(&quot;id&quot;) Integer id,@Param(&quot;username&quot;) String username);
</code></pre><p>æœ€ç»ˆmapä¸­çš„é”®å€¼å¯¹å¦‚ä¸‹ï¼š</p><pre><code>&#123;id=2, param1=2, username=PDD, param2=PDD&#125;
</code></pre><p>æ‰€ä»¥æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å¦‚ä¸‹æ–¹å¼æ¥è·å–å‚æ•°</p><pre><code class="xml">    &lt;select id=&quot;findByCondition&quot; resultType=&quot;com.sangeng.pojo.User&quot;&gt;
         select * from user where id = #&#123;id&#125; and username = #&#123;username&#125;
    &lt;/select&gt;
</code></pre><h3 id="4-3-æ€»ç»“"><a href="#4-3-æ€»ç»“" class="headerlink" title="4.3 æ€»ç»“"></a>4.3 æ€»ç»“</h3><p>â€‹	å»ºè®®å¦‚æœåªæœ‰ä¸€ä¸ªå‚æ•°çš„æ—¶å€™ä¸ç”¨åšä»€ä¹ˆç‰¹æ®Šå¤„ç†ã€‚å¦‚æœæ˜¯æœ‰å¤šä¸ªå‚æ•°çš„æƒ…å†µä¸‹ä¸€å®šè¦åŠ ä¸Š@Paramæ¥è®¾ç½®å‚æ•°åã€‚</p><h2 id="5-æ ¸å¿ƒç±»"><a href="#5-æ ¸å¿ƒç±»" class="headerlink" title="5. æ ¸å¿ƒç±»"></a>5. æ ¸å¿ƒç±»</h2><h3 id="5-1-SqlSessionFactory"><a href="#5-1-SqlSessionFactory" class="headerlink" title="5.1 SqlSessionFactory"></a>5.1 SqlSessionFactory</h3><p>â€‹	SqlSessionFactoryæ˜¯ä¸€ä¸ªSqlSessionçš„å·¥å‚ç±»ã€‚ä¸»è¦ç”¨æ¥è·å–SqlSessionå¯¹è±¡ã€‚ã€</p><p>æˆå‘˜æ–¹æ³•å¦‚ä¸‹ï¼š</p><pre><code class="java">SqlSession openSession();
//è·å–SqlSessionå¯¹è±¡ï¼Œä¼ å…¥çš„å‚æ•°ä»£è¡¨åˆ›å»ºçš„SqlSessionæ˜¯å¦è‡ªåŠ¨æäº¤
SqlSession openSession(boolean autoCommit);
</code></pre><h3 id="5-2-SqlSession"><a href="#5-2-SqlSession" class="headerlink" title="5.2 SqlSession"></a>5.2 SqlSession</h3><p>â€‹ SqlSession æä¾›äº†åœ¨æ•°æ®åº“æ‰§è¡Œ SQL å‘½ä»¤æ‰€éœ€çš„æ‰€æœ‰æ–¹æ³• ã€‚å®ƒè¿˜æä¾›äº†äº‹åŠ¡çš„ç›¸å…³æ“ä½œã€‚</p><p>æˆå‘˜æ–¹æ³•å¦‚ä¸‹ï¼š</p><pre><code class="java">T getMapper(Class&lt;T&gt; type);//è·å–mapperå¯¹è±¡
void commit();//æäº¤äº‹åŠ¡
void rollback();//å›æ»šäº‹åŠ¡
void close();//é‡Šæ”¾èµ„æº
</code></pre><h2 id="6-Mybatiså®ç°å¢åˆ æ”¹æŸ¥"><a href="#6-Mybatiså®ç°å¢åˆ æ”¹æŸ¥" class="headerlink" title="6.Mybatiså®ç°å¢åˆ æ”¹æŸ¥"></a>6.Mybatiså®ç°å¢åˆ æ”¹æŸ¥</h2><h3 id="6-1-æ–°å¢"><a href="#6-1-æ–°å¢" class="headerlink" title="6.1 æ–°å¢"></a>6.1 æ–°å¢</h3><p>â‘ æ¥å£ä¸­å¢åŠ ç›¸å…³æ–¹æ³•</p><pre><code class="java">void insertUser(User user);
</code></pre><p>â‘¡æ˜ å°„æ–‡ä»¶UserDao.xmlå¢åŠ å“åº”çš„æ ‡ç­¾</p><pre><code class="xml">    &lt;insert id=&quot;insertUser&quot;&gt;
        insert into user values(null,#&#123;username&#125;,#&#123;age&#125;,#&#123;address&#125;)
    &lt;/insert&gt;
</code></pre><p><strong>æ³¨æ„ï¼šè¦è®°å¾—æäº¤äº‹åŠ¡ã€‚</strong></p><h3 id="6-2-åˆ é™¤"><a href="#6-2-åˆ é™¤" class="headerlink" title="6.2 åˆ é™¤"></a>6.2 åˆ é™¤</h3><p>â‘ æ¥å£ä¸­å¢åŠ ç›¸å…³æ–¹æ³•</p><pre><code class="java">void deleteById(Integer id);
</code></pre><p>â‘¡æ˜ å°„æ–‡ä»¶UserDao.xmlå¢åŠ å“åº”çš„æ ‡ç­¾</p><pre><code class="xml">    &lt;delete id=&quot;deleteById&quot;&gt;
        delete from user where id = #&#123;id&#125;
    &lt;/delete&gt;
</code></pre><p><strong>æ³¨æ„ï¼šè¦è®°å¾—æäº¤äº‹åŠ¡ã€‚</strong></p><h3 id="6-3-ä¿®æ”¹"><a href="#6-3-ä¿®æ”¹" class="headerlink" title="6.3 ä¿®æ”¹"></a>6.3 ä¿®æ”¹</h3><p>â‘ æ¥å£ä¸­å¢åŠ ç›¸å…³æ–¹æ³•</p><pre><code class="java">void updateUser(User user);
</code></pre><p>â‘¡æ˜ å°„æ–‡ä»¶UserDao.xmlå¢åŠ å“åº”çš„æ ‡ç­¾</p><pre><code class="xml">    &lt;!--æ›´æ–°ç”¨æˆ·--&gt;
    &lt;update id=&quot;updateUser&quot;&gt;
        UPDATE USER SET age = #&#123;age&#125; , username = #&#123;username&#125;,address = #&#123;address&#125; WHERE id = #&#123;id&#125;
    &lt;/update&gt;
</code></pre><p><strong>æ³¨æ„ï¼šè¦è®°å¾—æäº¤äº‹åŠ¡ã€‚</strong></p><h3 id="6-4-æ ¹æ®idæŸ¥è¯¢"><a href="#6-4-æ ¹æ®idæŸ¥è¯¢" class="headerlink" title="6.4 æ ¹æ®idæŸ¥è¯¢"></a>6.4 æ ¹æ®idæŸ¥è¯¢</h3><p>â‘ æ¥å£ä¸­å¢åŠ ç›¸å…³æ–¹æ³•</p><pre><code class="java">User findById(Integer id);
</code></pre><p>â‘¡æ˜ å°„æ–‡ä»¶UserDao.xmlå¢åŠ å“åº”çš„æ ‡ç­¾</p><pre><code class="xml">   &lt;select id=&quot;findById&quot; resultType=&quot;com.sangeng.pojo.User&quot;&gt;
      select * from user where id = #&#123;id&#125;
    &lt;/select&gt;
</code></pre><h3 id="6-5-æŸ¥è¯¢æ‰€æœ‰"><a href="#6-5-æŸ¥è¯¢æ‰€æœ‰" class="headerlink" title="6.5 æŸ¥è¯¢æ‰€æœ‰"></a>6.5 æŸ¥è¯¢æ‰€æœ‰</h3><p>â‘ æ¥å£ä¸­å¢åŠ ç›¸å…³æ–¹æ³•</p><pre><code class="java">List&lt;User&gt; findAll();
</code></pre><p>â‘¡æ˜ å°„æ–‡ä»¶UserDao.xmlå¢åŠ å“åº”çš„æ ‡ç­¾</p><pre><code class="xml">    &lt;select id=&quot;findAll&quot; resultType=&quot;com.sangeng.pojo.User&quot;&gt;
      select * from user
    &lt;/select&gt;
</code></pre><h2 id="7-é…ç½®æ–‡ä»¶è¯¦è§£"><a href="#7-é…ç½®æ–‡ä»¶è¯¦è§£" class="headerlink" title="7. é…ç½®æ–‡ä»¶è¯¦è§£"></a>7. é…ç½®æ–‡ä»¶è¯¦è§£</h2><h3 id="7-1-properties"><a href="#7-1-properties" class="headerlink" title="7.1 properties"></a>7.1 properties</h3><p>â€‹	å¯ä»¥ä½¿ç”¨propertiesè¯»å–propertiesé…ç½®æ–‡ä»¶ã€‚ä½¿ç”¨å…¶ä¸­çš„resourceå±æ€§æ¥è®¾ç½®é…ç½®æ–‡ä»¶çš„è·¯å¾„ã€‚</p><p>â€‹	ç„¶åä½¿ç”¨${key}æ¥è·å–é…ç½®æ–‡ä»¶ä¸­çš„å€¼</p><p>ä¾‹å¦‚ï¼š</p><p>åœ¨resourcesç›®å½•ä¸‹æœ‰jdbc.propertiesæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><pre><code class="properties">jdbc.url=jdbc:mysql://localhost:3306/mybatis_db
jdbc.driver=com.mysql.jdbc.Driver
jdbc.username=root
jdbc.password=root
</code></pre><p>åœ¨mybatis-config.xmlä¸­ï¼š</p><pre><code class="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;
&lt;!DOCTYPE configuration
        PUBLIC &quot;-//mybatis.org//DTD Config 3.0//EN&quot;
        &quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;&gt;
&lt;configuration&gt;
    &lt;!--è®¾ç½®é…ç½®æ–‡ä»¶æ‰€åœ¨çš„è·¯å¾„--&gt;
    &lt;properties resource=&quot;jdbc.properties&quot;&gt;&lt;/properties&gt;
    &lt;environments default=&quot;development&quot;&gt;
        &lt;environment id=&quot;development&quot;&gt;
            &lt;transactionManager type=&quot;JDBC&quot;/&gt;
            &lt;dataSource type=&quot;POOLED&quot;&gt;
                &lt;!--è·å–é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„å¯¹åº”çš„å€¼æ¥è®¾ç½®è¿æ¥ç›¸å…³å‚æ•°--&gt;
                &lt;property name=&quot;driver&quot; value=&quot;$&#123;jdbc.driver&#125;&quot;/&gt;
                &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/&gt;
                &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/&gt;
                &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/&gt;
            &lt;/dataSource&gt;
        &lt;/environment&gt;
    &lt;/environments&gt;
&lt;/configuration&gt;
</code></pre><h3 id="7-2-settings"><a href="#7-2-settings" class="headerlink" title="7.2 settings"></a>7.2 settings</h3><p>â€‹	å¯ä»¥ä½¿ç”¨è¯¥æ ‡ç­¾æ¥è®¾ç½®è¿›è¡Œä¸€äº›è®¾ç½®</p><p>ä¾‹å¦‚ï¼š</p><pre><code class="xml">    &lt;settings&gt;
        &lt;!--å¼€å¯è‡ªåŠ¨é©¼å³°å‘½åæ˜ å°„--&gt;
        &lt;setting name=&quot;mapUnderscoreToCamelCase&quot; value=&quot;true&quot;/&gt;
    &lt;/settings&gt;
</code></pre><p>å…·ä½“çš„è®¾ç½®å‚è€ƒï¼š<span class="exturl" data-url="aHR0cHM6Ly9teWJhdGlzLm9yZy9teWJhdGlzLTMvemgvY29uZmlndXJhdGlvbi5odG1sI3NldHRpbmdz">https://mybatis.org/mybatis-3/zh/configuration.html#settings</span></p><h3 id="7-3-typeAliases"><a href="#7-3-typeAliases" class="headerlink" title="7.3 typeAliases"></a>7.3 typeAliases</h3><p>â€‹	å¯ä»¥ç”¨æ¥è®¾ç½®ç»™å…¨ç±»åè®¾ç½®åˆ«åï¼Œç®€åŒ–ä¹¦å†™ã€‚ä¸€èˆ¬è®¾ç½®ä¸€ä¸ªåŒ…ä¸‹çš„ç±»å…¨éƒ¨å…·æœ‰é»˜è®¤åˆ«åã€‚é»˜è®¤åˆ«åæ˜¯ç±»ç›®é¦–å­—æ¯å°å†™ã€‚ä¾‹å¦‚ï¼šcom.sangeng.pojo.Useråˆ«åä¸ºuser</p><pre><code class="java">   &lt;typeAliases&gt;
        &lt;package name=&quot;com.sangeng.dao&quot;&gt;&lt;/package&gt;
    &lt;/typeAliases&gt;
</code></pre><h3 id="7-4-environments"><a href="#7-4-environments" class="headerlink" title="7.4 environments"></a>7.4 environments</h3><p>â€‹	é…ç½®æ•°æ®åº“ç›¸å…³çš„ç¯å¢ƒï¼Œä¾‹å¦‚äº‹ç‰©ç®¡ç†å™¨ï¼Œè¿æ¥æ± ç›¸å…³å‚æ•°ç­‰ã€‚</p><pre><code class="xml">    &lt;!--è®¾ç½®é»˜è®¤ç¯å¢ƒ--&gt;
    &lt;environments default=&quot;development&quot;&gt;
        
        &lt;!--è®¾ç½®è¯¥ç¯å¢ƒçš„å”¯ä¸€æ ‡è¯†--&gt;
        &lt;environment id=&quot;development&quot;&gt;
            &lt;transactionManager type=&quot;JDBC&quot;/&gt;
            &lt;dataSource type=&quot;POOLED&quot;&gt;
                &lt;!--è·å–é…ç½®æ–‡ä»¶ä¸­é…ç½®çš„å¯¹åº”çš„å€¼æ¥è®¾ç½®è¿æ¥ç›¸å…³å‚æ•°--&gt;
                &lt;property name=&quot;driver&quot; value=&quot;$&#123;jdbc.driver&#125;&quot;/&gt;
                &lt;property name=&quot;url&quot; value=&quot;$&#123;jdbc.url&#125;&quot;/&gt;
                &lt;property name=&quot;username&quot; value=&quot;$&#123;jdbc.username&#125;&quot;/&gt;
                &lt;property name=&quot;password&quot; value=&quot;$&#123;jdbc.password&#125;&quot;/&gt;
            &lt;/dataSource&gt;
        &lt;/environment&gt;
    &lt;/environments&gt;
</code></pre><h3 id="7-5-mappers"><a href="#7-5-mappers" class="headerlink" title="7.5 mappers"></a>7.5 mappers</h3><p>â€‹	è¯¥æ ‡ç­¾çš„ä½œç”¨æ˜¯åŠ è½½æ˜ å°„çš„ï¼ŒåŠ è½½æ–¹å¼æœ‰å¦‚ä¸‹å‡ ç§(<strong>ä¸»è¦ä½¿ç”¨ç¬¬å››ç§</strong>)ï¼š</p><p>â€‹	â‘ ä½¿ç”¨ç›¸å¯¹äºç±»è·¯å¾„çš„èµ„æºå¼•ç”¨ï¼Œä¾‹å¦‚ï¼š</p><pre><code class="xml">&lt;!-- ä½¿ç”¨ç›¸å¯¹äºç±»è·¯å¾„çš„èµ„æºå¼•ç”¨ --&gt;
&lt;mappers&gt;
  &lt;mapper resource=&quot;org/mybatis/builder/AuthorMapper.xml&quot;/&gt;
  &lt;mapper resource=&quot;org/mybatis/builder/BlogMapper.xml&quot;/&gt;
  &lt;mapper resource=&quot;org/mybatis/builder/PostMapper.xml&quot;/&gt;
&lt;/mappers&gt;
</code></pre><p>â€‹	â‘¡ä½¿ç”¨å®Œå…¨é™å®šèµ„æºå®šä½ç¬¦ï¼ˆURLï¼‰ï¼Œä¾‹å¦‚ï¼š</p><pre><code class="xml">&lt;!-- ä½¿ç”¨å®Œå…¨é™å®šèµ„æºå®šä½ç¬¦ï¼ˆURLï¼‰ --&gt;
&lt;mappers&gt;
  &lt;mapper url=&quot;file:///var/mappers/AuthorMapper.xml&quot;/&gt;
  &lt;mapper url=&quot;file:///var/mappers/BlogMapper.xml&quot;/&gt;
  &lt;mapper url=&quot;file:///var/mappers/PostMapper.xml&quot;/&gt;
&lt;/mappers&gt;
</code></pre><p>â€‹	â‘¢ä½¿ç”¨æ˜ å°„å™¨æ¥å£å®ç°ç±»çš„å®Œå…¨é™å®šç±»åï¼Œä¾‹å¦‚ï¼š</p><pre><code class="xml">&lt;!-- ä½¿ç”¨æ˜ å°„å™¨æ¥å£å®ç°ç±»çš„å®Œå…¨é™å®šç±»å --&gt;
&lt;mappers&gt;
  &lt;mapper class=&quot;org.mybatis.builder.AuthorMapper&quot;/&gt;
  &lt;mapper class=&quot;org.mybatis.builder.BlogMapper&quot;/&gt;
  &lt;mapper class=&quot;org.mybatis.builder.PostMapper&quot;/&gt;
&lt;/mappers&gt;
</code></pre><p>â€‹	â‘£å°†åŒ…å†…çš„æ˜ å°„å™¨æ¥å£å®ç°å…¨éƒ¨æ³¨å†Œä¸ºæ˜ å°„å™¨ï¼Œä¾‹å¦‚ï¼š</p><pre><code class="xml">&lt;!-- å®šä¹‰daoæ¥å£æ‰€åœ¨çš„åŒ…ã€‚è¦æ±‚xmlæ–‡ä»¶å­˜æ”¾çš„è·¯å¾„å’Œdaoæ¥å£çš„åŒ…åè¦å¯¹åº” --&gt;
&lt;mappers&gt;
  &lt;package name=&quot;org.mybatis.builder&quot;/&gt;
&lt;/mappers&gt;
</code></pre><p>â€‹</p><h2 id="8-æ‰“å°æ—¥å¿—"><a href="#8-æ‰“å°æ—¥å¿—" class="headerlink" title="8. æ‰“å°æ—¥å¿—"></a>8. æ‰“å°æ—¥å¿—</h2><p>â‘ log4jé…ç½® åœ¨resourcesç›®å½•ä¸‹åˆ›å»ºlog4j.propertiesæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><pre><code class="properties">### direct log messages to stdout ###
log4j.appender.stdout=org.apache.log4j.ConsoleAppender
log4j.appender.stdout.Target=System.out
log4j.appender.stdout.layout=org.apache.log4j.PatternLayout
log4j.appender.stdout.layout.ConversionPattern=%d&#123;ABSOLUTE&#125; %5p %c&#123;1&#125;:%L - %m%n

### direct messages to file mylog.log ###
log4j.appender.file=org.apache.log4j.FileAppender
log4j.appender.file.File=c:/mylog.log
log4j.appender.file.layout=org.apache.log4j.PatternLayout
log4j.appender.file.layout.ConversionPattern=%d&#123;ABSOLUTE&#125; %5p %c&#123;1&#125;:%L - %m%n

### set log levels - for more verbose logging change &#39;info&#39; to &#39;debug&#39; ###

log4j.rootLogger=debug, stdout
</code></pre><p>â‘¡å¼•å…¥ä¾èµ–</p><pre><code class="xml">        &lt;dependency&gt;
            &lt;groupId&gt;log4j&lt;/groupId&gt;
            &lt;artifactId&gt;log4j&lt;/artifactId&gt;
            &lt;version&gt;1.2.17&lt;/version&gt;
        &lt;/dependency&gt;
</code></pre><h2 id="9-è·å–å‚æ•°æ—¶-å’Œ-çš„åŒºåˆ«"><a href="#9-è·å–å‚æ•°æ—¶-å’Œ-çš„åŒºåˆ«" class="headerlink" title="9.è·å–å‚æ•°æ—¶ #{}å’Œ${}çš„åŒºåˆ«"></a>9.è·å–å‚æ•°æ—¶ #{}å’Œ${}çš„åŒºåˆ«</h2><p>â€‹	å¦‚æœä½¿ç”¨#{}.ä»–æ˜¯é¢„ç¼–è¯‘çš„sqlå¯ä»¥é˜²æ­¢SQLæ³¨å…¥æ”»å‡»<br>â€‹	å¦‚æœä½¿ç”¨${}ä»–æ˜¯ç›´æ¥æŠŠå‚æ•°å€¼æ‹¿æ¥è¿›è¡Œæ‹¼æ¥ï¼Œè¿™æ ·ä¼šæœ‰SQLæ³¨å…¥çš„å±é™©</p><p>å¦‚æœä½¿ç”¨çš„æ˜¯#{}æ¥è·å–å‚æ•°å€¼æ—¥å¿—å¦‚ä¸‹ï¼š<br>Preparing: select * from user where id &#x3D; <strong>?</strong> and username &#x3D; <strong>?</strong> and age &#x3D; <strong>?</strong> and address &#x3D; <strong>?</strong><br>Parameters: 2(Integer), å¿«ä¹é£ç”·(String), 29(Integer), åŒ—äº¬(String)</p><p>å¦‚æœä½¿ç”¨${}æ¥è·å–å‚æ•°å€¼æ—¥å¿—å¦‚ä¸‹ï¼š<br>Preparing: select * from user where id &#x3D; 2 and username &#x3D; å¿«ä¹é£ç”· and age &#x3D; 29 and address &#x3D; åŒ—äº¬</p><div class="tags"><a href="/tags/Mybatis/" rel="tag"><i class="ic i-tag"></i> Mybatis</a></div></div><footer><div class="meta"><span class="item"><span class="icon"><i class="ic i-calendar-check"></i> </span><span class="text">æ›´æ–°äº</span> <time title="ä¿®æ”¹æ—¶é—´ï¼š2023-07-07 15:43:33" itemprop="dateModified" datetime="2023-07-07T15:43:33+08:00">2023-07-07</time></span></div><div class="reward"><button><i class="ic i-heartbeat"></i> èµèµ</button><p>è¯·æˆ‘å–[èŒ¶]~(ï¿£â–½ï¿£)~*</p><div id="qr"><div><img data-src="/images/wechatpay.png" alt="sanxin98 å¾®ä¿¡æ”¯ä»˜"><p>å¾®ä¿¡æ”¯ä»˜</p></div><div><img data-src="/images/alipay.png" alt="sanxin98 æ”¯ä»˜å®"><p>æ”¯ä»˜å®</p></div></div></div><div id="copyright"><ul><li class="author"><strong>æœ¬æ–‡ä½œè€…ï¼š </strong>sanxin98 <i class="ic i-at"><em>@</em></i>æ­»è‚¥å®…</li><li class="link"><strong>æœ¬æ–‡é“¾æ¥ï¼š</strong> <a href="https://pink-png.github.io/computer-science/Mybatis/doscmp/Mybatis-01/" title="Step.1">https://pink-png.github.io/computer-science/Mybatis/doscmp/Mybatis-01/</a></li><li class="license"><strong>ç‰ˆæƒå£°æ˜ï¼š </strong>æœ¬ç«™æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <span class="exturl" data-url="aHR0cHM6Ly9jcmVhdGl2ZWNvbW1vbnMub3JnL2xpY2Vuc2VzL2J5LW5jLXNhLzQuMC9kZWVkLnpo"><i class="ic i-creative-commons"><em>(CC)</em></i>BY-NC-SA</span> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</li></ul></div></footer></article></div><div class="post-nav"><div class="item left"><a href="/computer-science/Mybatis/doscmp/Mybatis-03/" itemprop="url" rel="prev" data-background-image="https:&#x2F;&#x2F;cdn.cdnjson.com&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1gicm0n457cj20zk0m8e81.jpg" title="Step.3"><span class="type">ä¸Šä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> MybatisåŸºç¡€</span><h3>Step.3</h3></a></div><div class="item right"><a href="/computer-science/react0-1/%E9%A6%96%E5%B1%8F%E4%BC%98%E5%8C%96/" itemprop="url" rel="next" data-background-image="https:&#x2F;&#x2F;cdn.cdnjson.com&#x2F;tva3.sinaimg.cn&#x2F;mw690&#x2F;6833939bly1giph4lm9i7j20zk0m84qp.jpg" title="step.8 reacté¦–å±ä¼˜åŒ–"><span class="type">ä¸‹ä¸€ç¯‡</span> <span class="category"><i class="ic i-flag"></i> react</span><h3>step.8 reacté¦–å±ä¼˜åŒ–</h3></a></div></div><div class="wrap" id="comments"></div></div><div id="sidebar"><div class="inner"><div class="panels"><div class="inner"><div class="contents panel pjax" data-title="æ–‡ç« ç›®å½•"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Mybatis-01"><span class="toc-number">1.</span> <span class="toc-text">Mybatis-01</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-%E6%A1%86%E6%9E%B6"><span class="toc-number">1.1.</span> <span class="toc-text">1. æ¡†æ¶</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Mybatis%E4%BB%8B%E7%BB%8D"><span class="toc-number">1.2.</span> <span class="toc-text">2.Mybatisä»‹ç»</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="toc-number">1.3.</span> <span class="toc-text">3. å¿«é€Ÿå…¥é—¨</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-9-%E9%AB%98%E6%95%88%E7%BC%96%E7%A8%8B"><span class="toc-number">1.4.</span> <span class="toc-text">3.9 é«˜æ•ˆç¼–ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#3-9-1-%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%A0%81%E6%A8%A1%E6%9D%BF"><span class="toc-number">1.4.1.</span> <span class="toc-text">3.9.1 é…ç½®ä»£ç æ¨¡æ¿</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-9-2-Mybatis%E6%8F%92%E4%BB%B6"><span class="toc-number">1.4.2.</span> <span class="toc-text">3.9.2 Mybatisæ’ä»¶</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-%E5%8F%82%E6%95%B0%E8%8E%B7%E5%8F%96"><span class="toc-number">1.5.</span> <span class="toc-text">4. å‚æ•°è·å–</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0"><span class="toc-number">1.5.1.</span> <span class="toc-text">4.1 ä¸€ä¸ªå‚æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-1-%E5%9F%BA%E6%9C%AC%E5%8F%82%E6%95%B0"><span class="toc-number">1.5.1.1.</span> <span class="toc-text">4.1.1 åŸºæœ¬å‚æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-2-POJO"><span class="toc-number">1.5.1.2.</span> <span class="toc-text">4.1.2 POJO</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-1-3-Map"><span class="toc-number">1.5.1.3.</span> <span class="toc-text">4.1.3 Map</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%E5%A4%9A%E4%B8%AA%E5%8F%82%E6%95%B0"><span class="toc-number">1.5.2.</span> <span class="toc-text">4.2 å¤šä¸ªå‚æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%E6%80%BB%E7%BB%93"><span class="toc-number">1.5.3.</span> <span class="toc-text">4.3 æ€»ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-%E6%A0%B8%E5%BF%83%E7%B1%BB"><span class="toc-number">1.6.</span> <span class="toc-text">5. æ ¸å¿ƒç±»</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-SqlSessionFactory"><span class="toc-number">1.6.1.</span> <span class="toc-text">5.1 SqlSessionFactory</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#5-2-SqlSession"><span class="toc-number">1.6.2.</span> <span class="toc-text">5.2 SqlSession</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-Mybatis%E5%AE%9E%E7%8E%B0%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5"><span class="toc-number">1.7.</span> <span class="toc-text">6.Mybatiså®ç°å¢åˆ æ”¹æŸ¥</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%E6%96%B0%E5%A2%9E"><span class="toc-number">1.7.1.</span> <span class="toc-text">6.1 æ–°å¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-%E5%88%A0%E9%99%A4"><span class="toc-number">1.7.2.</span> <span class="toc-text">6.2 åˆ é™¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-%E4%BF%AE%E6%94%B9"><span class="toc-number">1.7.3.</span> <span class="toc-text">6.3 ä¿®æ”¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-4-%E6%A0%B9%E6%8D%AEid%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.7.4.</span> <span class="toc-text">6.4 æ ¹æ®idæŸ¥è¯¢</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-5-%E6%9F%A5%E8%AF%A2%E6%89%80%E6%9C%89"><span class="toc-number">1.7.5.</span> <span class="toc-text">6.5 æŸ¥è¯¢æ‰€æœ‰</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E8%AF%A6%E8%A7%A3"><span class="toc-number">1.8.</span> <span class="toc-text">7. é…ç½®æ–‡ä»¶è¯¦è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-properties"><span class="toc-number">1.8.1.</span> <span class="toc-text">7.1 properties</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-settings"><span class="toc-number">1.8.2.</span> <span class="toc-text">7.2 settings</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-typeAliases"><span class="toc-number">1.8.3.</span> <span class="toc-text">7.3 typeAliases</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-environments"><span class="toc-number">1.8.4.</span> <span class="toc-text">7.4 environments</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-mappers"><span class="toc-number">1.8.5.</span> <span class="toc-text">7.5 mappers</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-%E6%89%93%E5%8D%B0%E6%97%A5%E5%BF%97"><span class="toc-number">1.9.</span> <span class="toc-text">8. æ‰“å°æ—¥å¿—</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#9-%E8%8E%B7%E5%8F%96%E5%8F%82%E6%95%B0%E6%97%B6-%E5%92%8C-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">1.10.</span> <span class="toc-text">9.è·å–å‚æ•°æ—¶ #{}å’Œ${}çš„åŒºåˆ«</span></a></li></ol></li></ol></div><div class="related panel pjax" data-title="ç³»åˆ—æ–‡ç« "><ul><li class="active"><a href="/computer-science/Mybatis/doscmp/Mybatis-01/" rel="bookmark" title="Step.1">Step.1</a></li><li><a href="/computer-science/Mybatis/doscmp/Mybatis-03/" rel="bookmark" title="Step.3">Step.3</a></li><li><a href="/computer-science/Mybatis/doscmp/Mybatis-02/" rel="bookmark" title="Step.2">Step.2</a></li></ul></div><div class="overview panel" data-title="ç«™ç‚¹æ¦‚è§ˆ"><div class="author" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="image" itemprop="image" alt="sanxin98" data-src="/images/avatar.jpg"><p class="name" itemprop="name">sanxin98</p><div class="description" itemprop="description">ç¼–ç¨‹ & ç”Ÿæ´»</div></div><nav class="state"><div class="item posts"><a href="/archives/"><span class="count">96</span> <span class="name">æ–‡ç« </span></a></div><div class="item categories"><a href="/categories/"><span class="count">40</span> <span class="name">åˆ†ç±»</span></a></div><div class="item tags"><a href="/tags/"><span class="count">29</span> <span class="name">æ ‡ç­¾</span></a></div></nav><div class="social"><span class="exturl item github" data-url="aHR0cHM6Ly9naXRodWIuY29tL3BpbmstcG5n" title="https:&#x2F;&#x2F;github.com&#x2F;pink-png"><i class="ic i-github"></i></span></div><ul class="menu"><li class="item"><a href="/" rel="section"><i class="ic i-home"></i>é¦–é¡µ</a></li><li class="item dropdown"><a href="javascript:void(0);"><i class="ic i-feather"></i>æ–‡ç« </a><ul class="submenu"><li class="item"><a href="/archives/" rel="section"><i class="ic i-list-alt"></i>å½’æ¡£</a></li><li class="item"><a href="/categories/" rel="section"><i class="ic i-th"></i>åˆ†ç±»</a></li><li class="item"><a href="/tags/" rel="section"><i class="ic i-tags"></i>æ ‡ç­¾</a></li></ul></li></ul></div></div></div><ul id="quick"><li class="prev pjax"><a href="/computer-science/Mybatis/doscmp/Mybatis-03/" rel="prev" title="ä¸Šä¸€ç¯‡"><i class="ic i-chevron-left"></i></a></li><li class="up"><i class="ic i-arrow-up"></i></li><li class="down"><i class="ic i-arrow-down"></i></li><li class="next pjax"><a href="/computer-science/react0-1/%E9%A6%96%E5%B1%8F%E4%BC%98%E5%8C%96/" rel="next" title="ä¸‹ä¸€ç¯‡"><i class="ic i-chevron-right"></i></a></li><li class="percent"></li></ul></div></div><div class="dimmer"></div></div></main><footer id="footer"><div class="inner"><div class="widgets"><div class="rpost pjax"><h2>éšæœºæ–‡ç« </h2><ul><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºç§‘å­¦">è®¡ç®—æœºç§‘å­¦</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/react0-1/" title="åˆ†ç±»äº react">react</a></div><span><a href="/computer-science/react0-1/%E5%B8%B8%E7%94%A8hook/" title="step.6 reactå¸¸ç”¨hook">step.6 reactå¸¸ç”¨hook</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºç§‘å­¦">è®¡ç®—æœºç§‘å­¦</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/spring/" title="åˆ†ç±»äº Spring">Spring</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/spring/Spring%E5%9F%BA%E7%A1%80/" title="åˆ†ç±»äº SpringåŸºç¡€">SpringåŸºç¡€</a></div><span><a href="/computer-science/spring/docssp/Spring-03/" title="Step.3">Step.3</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/css/" title="åˆ†ç±»äº css">css</a></div><span><a href="/front-end/%E5%89%8D%E7%AB%AF%E5%B8%83%E5%B1%80/" title="å‰ç«¯å¸¸è§å¸ƒå±€">å‰ç«¯å¸¸è§å¸ƒå±€</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7/" title="åˆ†ç±»äº å¾®ä¿¡å…¬ä¼—å·">å¾®ä¿¡å…¬ä¼—å·</a></div><span><a href="/front-end/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%8F%B7vue%E5%AE%9E%E7%8E%B0%E7%99%BB%E5%BD%95/" title="å¾®ä¿¡å…¬ä¼—å·vueå®ç°ç™»å½•">å¾®ä¿¡å…¬ä¼—å·vueå®ç°ç™»å½•</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/vueyuanma/" title="åˆ†ç±»äº Vue">Vue</a></div><span><a href="/front-end/vue3.x%E5%B8%B8%E7%94%A8%E5%9F%BA%E7%A1%80/" title="vue3.xå¸¸ç”¨åŸºç¡€">vue3.xå¸¸ç”¨åŸºç¡€</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/Javascript/" title="åˆ†ç±»äº Javascript">Javascript</a></div><span><a href="/js-base/js%E6%B5%85%E8%B0%88%E4%BD%9C%E7%94%A8%E5%9F%9F%E4%BB%A5%E5%8F%8A%E5%8F%98%E9%87%8F%E4%BB%A5%E5%8F%8A%E9%97%AD%E5%8C%85/" title="jsæµ…è°ˆä½œç”¨åŸŸ - å˜é‡ - é—­åŒ…">jsæµ…è°ˆä½œç”¨åŸŸ - å˜é‡ - é—­åŒ…</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/Bootstrap/" title="åˆ†ç±»äº Bootstrap">Bootstrap</a></div><span><a href="/front-end/Bootstrap/" title="Bootstrap">Bootstrap</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºç§‘å­¦">è®¡ç®—æœºç§‘å­¦</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/Mybatis/" title="åˆ†ç±»äº Mybatis">Mybatis</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/Mybatis/Mybatis%E5%9F%BA%E7%A1%80/" title="åˆ†ç±»äº MybatisåŸºç¡€">MybatisåŸºç¡€</a></div><span><a href="/computer-science/Mybatis/doscmp/Mybatis-01/" title="Step.1">Step.1</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/" title="åˆ†ç±»äº å‰ç«¯å¼€å‘">å‰ç«¯å¼€å‘</a> <i class="ic i-angle-right"></i> <a href="/categories/%E5%89%8D%E7%AB%AF%E5%BC%80%E5%8F%91/Javascript/" title="åˆ†ç±»äº Javascript">Javascript</a></div><span><a href="/js-base/js%E6%B5%85%E8%B0%88call%E5%92%8Capply%E5%92%8Cbind/" title="æµ…è°ˆcallå’Œapplyå’Œbind">æµ…è°ˆcallå’Œapplyå’Œbind</a></span></li><li class="item"><div class="breadcrumb"><a href="/categories/computer-science/" title="åˆ†ç±»äº è®¡ç®—æœºç§‘å­¦">è®¡ç®—æœºç§‘å­¦</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/spring/" title="åˆ†ç±»äº Spring">Spring</a> <i class="ic i-angle-right"></i> <a href="/categories/computer-science/spring/Spring%E5%9F%BA%E7%A1%80/" title="åˆ†ç±»äº SpringåŸºç¡€">SpringåŸºç¡€</a></div><span><a href="/computer-science/spring/docssp/Spring-01/" title="Step.1">Step.1</a></span></li></ul></div><div><h2>æœ€æ–°è¯„è®º</h2><ul class="leancloud-recent-comment"></ul></div></div><div class="status"><div class="copyright">&copy; 2010 â€“ <span itemprop="copyrightYear">2024</span> <span class="with-love"><i class="ic i-sakura rotate"></i> </span><span class="author" itemprop="copyrightHolder">sanxin98 @ Yume Shoka</span></div><div class="powered-by">åŸºäº <span class="exturl" data-url="aHR0cHM6Ly9oZXhvLmlv">Hexo</span> & Theme.<span class="exturl" data-url="aHR0cHM6Ly9naXRodWIuY29tL2FtZWhpbWUvaGV4by10aGVtZS1zaG9rYQ==">Shoka</span></div></div></div></footer></div><script data-config type="text/javascript">var LOCAL={path:"computer-science/Mybatis/doscmp/Mybatis-01/",favicon:{show:"ï¼ˆâ—Â´3ï½€â—ï¼‰ã‚„ã‚Œã‚„ã‚Œã ãœ",hide:"(Â´Ğ”ï½€)å¤§å¤‰ã ï¼"},search:{placeholder:"æ–‡ç« æœç´¢",empty:"å…³äº ã€Œ ${query} ã€ï¼Œä»€ä¹ˆä¹Ÿæ²¡æœåˆ°",stats:"${time} ms å†…æ‰¾åˆ° ${hits} æ¡ç»“æœ"},valine:{placeholder:"1. æé—®å‰è¯·å…ˆä»”ç»†é˜…è¯»æœ¬æ–‡æ¡£âš¡\n2. é¡µé¢æ˜¾ç¤ºé—®é¢˜ğŸ’¥ï¼Œè¯·æä¾›æ§åˆ¶å°æˆªå›¾ğŸ“¸æˆ–è€…æ‚¨çš„æµ‹è¯•ç½‘å€\n3. å…¶ä»–ä»»ä½•æŠ¥é”™ğŸ’£ï¼Œè¯·æä¾›è¯¦ç»†æè¿°å’Œæˆªå›¾ğŸ“¸ï¼Œç¥é£Ÿç”¨æ„‰å¿«ğŸ’ª"},fancybox:!0,copyright:'å¤åˆ¶æˆåŠŸï¼Œè½¬è½½è¯·éµå®ˆ <i class="ic i-creative-commons"></i>BY-NC-SA åè®®ã€‚',ignores:[function(e){return e.includes("#")},function(e){return new RegExp(LOCAL.path+"$").test(e)}]}</script><script src="https://cdn.polyfill.io/v2/polyfill.js"></script><script src="//cdn.jsdelivr.net/combine/npm/pace-js@1.0.2/pace.min.js,npm/pjax@0.2.8/pjax.min.js,npm/whatwg-fetch@3.4.0/dist/fetch.umd.min.js,npm/animejs@3.2.0/lib/anime.min.js,npm/algoliasearch@4/dist/algoliasearch-lite.umd.js,npm/instantsearch.js@4/dist/instantsearch.production.min.js,npm/lozad@1/dist/lozad.min.js,npm/quicklink@2/dist/quicklink.umd.js"></script><script src="/js/app.js?v=0.2.5"></script></body></html>